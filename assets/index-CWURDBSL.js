function Dx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Lx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var cm={exports:{}},ma={},dm={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bi=Symbol.for("react.element"),$x=Symbol.for("react.portal"),Ux=Symbol.for("react.fragment"),Vx=Symbol.for("react.strict_mode"),Bx=Symbol.for("react.profiler"),Fx=Symbol.for("react.provider"),zx=Symbol.for("react.context"),Wx=Symbol.for("react.forward_ref"),Hx=Symbol.for("react.suspense"),Kx=Symbol.for("react.memo"),qx=Symbol.for("react.lazy"),uh=Symbol.iterator;function Gx(t){return t===null||typeof t!="object"?null:(t=uh&&t[uh]||t["@@iterator"],typeof t=="function"?t:null)}var hm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fm=Object.assign,pm={};function as(t,e,n){this.props=t,this.context=e,this.refs=pm,this.updater=n||hm}as.prototype.isReactComponent={};as.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};as.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mm(){}mm.prototype=as.prototype;function cc(t,e,n){this.props=t,this.context=e,this.refs=pm,this.updater=n||hm}var dc=cc.prototype=new mm;dc.constructor=cc;fm(dc,as.prototype);dc.isPureReactComponent=!0;var ch=Array.isArray,gm=Object.prototype.hasOwnProperty,hc={current:null},ym={key:!0,ref:!0,__self:!0,__source:!0};function vm(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)gm.call(e,r)&&!ym.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:bi,type:t,key:i,ref:o,props:s,_owner:hc.current}}function Jx(t,e){return{$$typeof:bi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fc(t){return typeof t=="object"&&t!==null&&t.$$typeof===bi}function Yx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dh=/\/+/g;function qa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yx(""+t.key):e.toString(36)}function go(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bi:case $x:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+qa(o,0):r,ch(s)?(n="",t!=null&&(n=t.replace(dh,"$&/")+"/"),go(s,e,n,"",function(u){return u})):s!=null&&(fc(s)&&(s=Jx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dh,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ch(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+qa(i,a);o+=go(i,e,n,l,s)}else if(l=Gx(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+qa(i,a++),o+=go(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ui(t,e,n){if(t==null)return t;var r=[],s=0;return go(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Qx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},yo={transition:null},Xx={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:yo,ReactCurrentOwner:hc};function xm(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Ui,forEach:function(t,e,n){Ui(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ui(t,function(){e++}),e},toArray:function(t){return Ui(t,function(e){return e})||[]},only:function(t){if(!fc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=as;z.Fragment=Ux;z.Profiler=Bx;z.PureComponent=cc;z.StrictMode=Vx;z.Suspense=Hx;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xx;z.act=xm;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fm({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=hc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gm.call(e,l)&&!ym.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:bi,type:t.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(t){return t={$$typeof:zx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fx,_context:t},t.Consumer=t};z.createElement=vm;z.createFactory=function(t){var e=vm.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:Wx,render:t}};z.isValidElement=fc;z.lazy=function(t){return{$$typeof:qx,_payload:{_status:-1,_result:t},_init:Qx}};z.memo=function(t,e){return{$$typeof:Kx,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=yo.transition;yo.transition={};try{t()}finally{yo.transition=e}};z.unstable_act=xm;z.useCallback=function(t,e){return Me.current.useCallback(t,e)};z.useContext=function(t){return Me.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};z.useEffect=function(t,e){return Me.current.useEffect(t,e)};z.useId=function(){return Me.current.useId()};z.useImperativeHandle=function(t,e,n){return Me.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Me.current.useMemo(t,e)};z.useReducer=function(t,e,n){return Me.current.useReducer(t,e,n)};z.useRef=function(t){return Me.current.useRef(t)};z.useState=function(t){return Me.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return Me.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return Me.current.useTransition()};z.version="18.3.1";dm.exports=z;var S=dm.exports;const Zx=Lx(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew=S,tw=Symbol.for("react.element"),nw=Symbol.for("react.fragment"),rw=Object.prototype.hasOwnProperty,sw=ew.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iw={key:!0,ref:!0,__self:!0,__source:!0};function wm(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rw.call(e,r)&&!iw.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:tw,type:t,key:i,ref:o,props:s,_owner:sw.current}}ma.Fragment=nw;ma.jsx=wm;ma.jsxs=wm;cm.exports=ma;var c=cm.exports,bm={exports:{}},nt={},_m={exports:{}},km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,I){var V=P.length;P.push(I);e:for(;0<V;){var Y=V-1>>>1,te=P[Y];if(0<s(te,I))P[Y]=I,P[V]=te,V=Y;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var I=P[0],V=P.pop();if(V!==I){P[0]=V;e:for(var Y=0,te=P.length,$t=te>>>1;Y<$t;){var st=2*(Y+1)-1,hr=P[st],Ut=st+1,In=P[Ut];if(0>s(hr,V))Ut<te&&0>s(In,hr)?(P[Y]=In,P[Ut]=V,Y=Ut):(P[Y]=hr,P[st]=V,Y=st);else if(Ut<te&&0>s(In,V))P[Y]=In,P[Ut]=V,Y=Ut;else break e}}return I}function s(P,I){var V=P.sortIndex-I.sortIndex;return V!==0?V:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=P)r(u),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(u)}}function b(P){if(w=!1,y(P),!v)if(n(l)!==null)v=!0,L(_);else{var I=n(u);I!==null&&B(b,I.startTime-P)}}function _(P,I){v=!1,w&&(w=!1,g(j),j=-1),p=!0;var V=f;try{for(y(I),h=n(l);h!==null&&(!(h.expirationTime>I)||P&&!q());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var te=Y(h.expirationTime<=I);I=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),y(I)}else r(l);h=n(l)}if(h!==null)var $t=!0;else{var st=n(u);st!==null&&B(b,st.startTime-I),$t=!1}return $t}finally{h=null,f=V,p=!1}}var k=!1,C=null,j=-1,A=5,N=-1;function q(){return!(t.unstable_now()-N<A)}function Oe(){if(C!==null){var P=t.unstable_now();N=P;var I=!0;try{I=C(!0,P)}finally{I?Ue():(k=!1,C=null)}}else k=!1}var Ue;if(typeof m=="function")Ue=function(){m(Oe)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,nn=Mt.port2;Mt.port1.onmessage=Oe,Ue=function(){nn.postMessage(null)}}else Ue=function(){x(Oe,0)};function L(P){C=P,k||(k=!0,Ue())}function B(P,I){j=x(function(){P(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(_))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var V=f;f=I;try{return P()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=f;f=P;try{return I()}finally{f=V}},t.unstable_scheduleCallback=function(P,I,V){var Y=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=V+te,P={id:d++,callback:I,priorityLevel:P,startTime:V,expirationTime:te,sortIndex:-1},V>Y?(P.sortIndex=V,e(u,P),n(l)===null&&P===n(u)&&(w?(g(j),j=-1):w=!0,B(b,V-Y))):(P.sortIndex=te,e(l,P),v||p||(v=!0,L(_))),P},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(P){var I=f;return function(){var V=f;f=I;try{return P.apply(this,arguments)}finally{f=V}}}})(km);_m.exports=km;var ow=_m.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw=S,et=ow;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sm=new Set,Js={};function ur(t,e){Jr(t,e),Jr(t+"Capture",e)}function Jr(t,e){for(Js[t]=e,t=0;t<e.length;t++)Sm.add(e[t])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=Object.prototype.hasOwnProperty,lw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hh={},fh={};function uw(t){return Bl.call(fh,t)?!0:Bl.call(hh,t)?!1:lw.test(t)?fh[t]=!0:(hh[t]=!0,!1)}function cw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dw(t,e,n,r){if(e===null||typeof e>"u"||cw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $e(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new $e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ce[e]=new $e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new $e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new $e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new $e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new $e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new $e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new $e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new $e(t,5,!1,t.toLowerCase(),null,!1,!1)});var pc=/[\-:]([a-z])/g;function mc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pc,mc);Ce[e]=new $e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pc,mc);Ce[e]=new $e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pc,mc);Ce[e]=new $e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new $e(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new $e(t,1,!1,t.toLowerCase(),null,!0,!0)});function gc(t,e,n,r){var s=Ce.hasOwnProperty(e)?Ce[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dw(e,n,s,r)&&(n=null),r||s===null?uw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tn=aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vi=Symbol.for("react.element"),Sr=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),yc=Symbol.for("react.strict_mode"),Fl=Symbol.for("react.profiler"),jm=Symbol.for("react.provider"),Cm=Symbol.for("react.context"),vc=Symbol.for("react.forward_ref"),zl=Symbol.for("react.suspense"),Wl=Symbol.for("react.suspense_list"),xc=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),Em=Symbol.for("react.offscreen"),ph=Symbol.iterator;function ys(t){return t===null||typeof t!="object"?null:(t=ph&&t[ph]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,Ga;function Cs(t){if(Ga===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ga=e&&e[1]||""}return`
`+Ga+t}var Ja=!1;function Ya(t,e){if(!t||Ja)return"";Ja=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ja=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cs(t):""}function hw(t){switch(t.tag){case 5:return Cs(t.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return t=Ya(t.type,!1),t;case 11:return t=Ya(t.type.render,!1),t;case 1:return t=Ya(t.type,!0),t;default:return""}}function Hl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jr:return"Fragment";case Sr:return"Portal";case Fl:return"Profiler";case yc:return"StrictMode";case zl:return"Suspense";case Wl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cm:return(t.displayName||"Context")+".Consumer";case jm:return(t._context.displayName||"Context")+".Provider";case vc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xc:return e=t.displayName||null,e!==null?e:Hl(t.type)||"Memo";case cn:e=t._payload,t=t._init;try{return Hl(t(e))}catch{}}return null}function fw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hl(e);case 8:return e===yc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pw(t){var e=Tm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bi(t){t._valueTracker||(t._valueTracker=pw(t))}function Pm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Tm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ro(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kl(t,e){var n=e.checked;return ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Am(t,e){e=e.checked,e!=null&&gc(t,"checked",e,!1)}function ql(t,e){Am(t,e);var n=jn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gl(t,e.type,jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gl(t,e,n){(e!=="number"||Ro(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Es=Array.isArray;function Br(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Jl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Es(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jn(n)}}function Rm(t,e){var n=jn(e.value),r=jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fi,Om=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fi=Fi||document.createElement("div"),Fi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ys(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mw=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(t){mw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Is[e]=Is[t]})});function Im(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Is.hasOwnProperty(t)&&Is[t]?(""+e).trim():e+"px"}function Dm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Im(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var gw=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ql(t,e){if(e){if(gw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Xl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zl=null;function wc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eu=null,Fr=null,zr=null;function xh(t){if(t=Si(t)){if(typeof eu!="function")throw Error(E(280));var e=t.stateNode;e&&(e=wa(e),eu(t.stateNode,t.type,e))}}function Lm(t){Fr?zr?zr.push(t):zr=[t]:Fr=t}function Mm(){if(Fr){var t=Fr,e=zr;if(zr=Fr=null,xh(t),e)for(t=0;t<e.length;t++)xh(e[t])}}function $m(t,e){return t(e)}function Um(){}var Qa=!1;function Vm(t,e,n){if(Qa)return t(e,n);Qa=!0;try{return $m(t,e,n)}finally{Qa=!1,(Fr!==null||zr!==null)&&(Um(),Mm())}}function Qs(t,e){var n=t.stateNode;if(n===null)return null;var r=wa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var tu=!1;if(Yt)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){tu=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{tu=!1}function yw(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ds=!1,No=null,Oo=!1,nu=null,vw={onError:function(t){Ds=!0,No=t}};function xw(t,e,n,r,s,i,o,a,l){Ds=!1,No=null,yw.apply(vw,arguments)}function ww(t,e,n,r,s,i,o,a,l){if(xw.apply(this,arguments),Ds){if(Ds){var u=No;Ds=!1,No=null}else throw Error(E(198));Oo||(Oo=!0,nu=u)}}function cr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wh(t){if(cr(t)!==t)throw Error(E(188))}function bw(t){var e=t.alternate;if(!e){if(e=cr(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wh(s),t;if(i===r)return wh(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Fm(t){return t=bw(t),t!==null?zm(t):null}function zm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zm(t);if(e!==null)return e;t=t.sibling}return null}var Wm=et.unstable_scheduleCallback,bh=et.unstable_cancelCallback,_w=et.unstable_shouldYield,kw=et.unstable_requestPaint,de=et.unstable_now,Sw=et.unstable_getCurrentPriorityLevel,bc=et.unstable_ImmediatePriority,Hm=et.unstable_UserBlockingPriority,Io=et.unstable_NormalPriority,jw=et.unstable_LowPriority,Km=et.unstable_IdlePriority,ga=null,Ot=null;function Cw(t){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(ga,t,void 0,(t.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Pw,Ew=Math.log,Tw=Math.LN2;function Pw(t){return t>>>=0,t===0?32:31-(Ew(t)/Tw|0)|0}var zi=64,Wi=4194304;function Ts(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Do(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ts(a):(i&=o,i!==0&&(r=Ts(i)))}else o=n&~s,o!==0?r=Ts(o):i!==0&&(r=Ts(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jt(e),s=1<<n,r|=t[n],e&=~s;return r}function Aw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-jt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Aw(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ru(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qm(){var t=zi;return zi<<=1,!(zi&4194240)&&(zi=64),t}function Xa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _i(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jt(e),t[e]=n}function Nw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-jt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function _c(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var K=0;function Gm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jm,kc,Ym,Qm,Xm,su=!1,Hi=[],yn=null,vn=null,xn=null,Xs=new Map,Zs=new Map,hn=[],Ow="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(t,e){switch(t){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Xs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(e.pointerId)}}function xs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Si(e),e!==null&&kc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Iw(t,e,n,r,s){switch(e){case"focusin":return yn=xs(yn,t,e,n,r,s),!0;case"dragenter":return vn=xs(vn,t,e,n,r,s),!0;case"mouseover":return xn=xs(xn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Xs.set(i,xs(Xs.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Zs.set(i,xs(Zs.get(i)||null,t,e,n,r,s)),!0}return!1}function Zm(t){var e=Jn(t.target);if(e!==null){var n=cr(e);if(n!==null){if(e=n.tag,e===13){if(e=Bm(n),e!==null){t.blockedOn=e,Xm(t.priority,function(){Ym(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zl=r,n.target.dispatchEvent(r),Zl=null}else return e=Si(n),e!==null&&kc(e),t.blockedOn=n,!1;e.shift()}return!0}function kh(t,e,n){vo(t)&&n.delete(e)}function Dw(){su=!1,yn!==null&&vo(yn)&&(yn=null),vn!==null&&vo(vn)&&(vn=null),xn!==null&&vo(xn)&&(xn=null),Xs.forEach(kh),Zs.forEach(kh)}function ws(t,e){t.blockedOn===e&&(t.blockedOn=null,su||(su=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,Dw)))}function ei(t){function e(s){return ws(s,t)}if(0<Hi.length){ws(Hi[0],t);for(var n=1;n<Hi.length;n++){var r=Hi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yn!==null&&ws(yn,t),vn!==null&&ws(vn,t),xn!==null&&ws(xn,t),Xs.forEach(e),Zs.forEach(e),n=0;n<hn.length;n++)r=hn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)Zm(n),n.blockedOn===null&&hn.shift()}var Wr=tn.ReactCurrentBatchConfig,Lo=!0;function Lw(t,e,n,r){var s=K,i=Wr.transition;Wr.transition=null;try{K=1,Sc(t,e,n,r)}finally{K=s,Wr.transition=i}}function Mw(t,e,n,r){var s=K,i=Wr.transition;Wr.transition=null;try{K=4,Sc(t,e,n,r)}finally{K=s,Wr.transition=i}}function Sc(t,e,n,r){if(Lo){var s=iu(t,e,n,r);if(s===null)ll(t,e,r,Mo,n),_h(t,r);else if(Iw(s,t,e,n,r))r.stopPropagation();else if(_h(t,r),e&4&&-1<Ow.indexOf(t)){for(;s!==null;){var i=Si(s);if(i!==null&&Jm(i),i=iu(t,e,n,r),i===null&&ll(t,e,r,Mo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ll(t,e,r,null,n)}}var Mo=null;function iu(t,e,n,r){if(Mo=null,t=wc(r),t=Jn(t),t!==null)if(e=cr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mo=t,null}function eg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sw()){case bc:return 1;case Hm:return 4;case Io:case jw:return 16;case Km:return 536870912;default:return 16}default:return 16}}var mn=null,jc=null,xo=null;function tg(){if(xo)return xo;var t,e=jc,n=e.length,r,s="value"in mn?mn.value:mn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return xo=s.slice(t,1<r?1-r:void 0)}function wo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function Sh(){return!1}function rt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ki:Sh,this.isPropagationStopped=Sh,this}return ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),e}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cc=rt(ls),ki=ae({},ls,{view:0,detail:0}),$w=rt(ki),Za,el,bs,ya=ae({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bs&&(bs&&t.type==="mousemove"?(Za=t.screenX-bs.screenX,el=t.screenY-bs.screenY):el=Za=0,bs=t),Za)},movementY:function(t){return"movementY"in t?t.movementY:el}}),jh=rt(ya),Uw=ae({},ya,{dataTransfer:0}),Vw=rt(Uw),Bw=ae({},ki,{relatedTarget:0}),tl=rt(Bw),Fw=ae({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),zw=rt(Fw),Ww=ae({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hw=rt(Ww),Kw=ae({},ls,{data:0}),Ch=rt(Kw),qw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jw[t])?!!e[t]:!1}function Ec(){return Yw}var Qw=ae({},ki,{key:function(t){if(t.key){var e=qw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(t){return t.type==="keypress"?wo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xw=rt(Qw),Zw=ae({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=rt(Zw),eb=ae({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),tb=rt(eb),nb=ae({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),rb=rt(nb),sb=ae({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ib=rt(sb),ob=[9,13,27,32],Tc=Yt&&"CompositionEvent"in window,Ls=null;Yt&&"documentMode"in document&&(Ls=document.documentMode);var ab=Yt&&"TextEvent"in window&&!Ls,ng=Yt&&(!Tc||Ls&&8<Ls&&11>=Ls),Th=" ",Ph=!1;function rg(t,e){switch(t){case"keyup":return ob.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cr=!1;function lb(t,e){switch(t){case"compositionend":return sg(e);case"keypress":return e.which!==32?null:(Ph=!0,Th);case"textInput":return t=e.data,t===Th&&Ph?null:t;default:return null}}function ub(t,e){if(Cr)return t==="compositionend"||!Tc&&rg(t,e)?(t=tg(),xo=jc=mn=null,Cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ng&&e.locale!=="ko"?null:e.data;default:return null}}var cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cb[t.type]:e==="textarea"}function ig(t,e,n,r){Lm(r),e=$o(e,"onChange"),0<e.length&&(n=new Cc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ms=null,ti=null;function db(t){gg(t,0)}function va(t){var e=Pr(t);if(Pm(e))return t}function hb(t,e){if(t==="change")return e}var og=!1;if(Yt){var nl;if(Yt){var rl="oninput"in document;if(!rl){var Rh=document.createElement("div");Rh.setAttribute("oninput","return;"),rl=typeof Rh.oninput=="function"}nl=rl}else nl=!1;og=nl&&(!document.documentMode||9<document.documentMode)}function Nh(){Ms&&(Ms.detachEvent("onpropertychange",ag),ti=Ms=null)}function ag(t){if(t.propertyName==="value"&&va(ti)){var e=[];ig(e,ti,t,wc(t)),Vm(db,e)}}function fb(t,e,n){t==="focusin"?(Nh(),Ms=e,ti=n,Ms.attachEvent("onpropertychange",ag)):t==="focusout"&&Nh()}function pb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return va(ti)}function mb(t,e){if(t==="click")return va(e)}function gb(t,e){if(t==="input"||t==="change")return va(e)}function yb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tt=typeof Object.is=="function"?Object.is:yb;function ni(t,e){if(Tt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Bl.call(e,s)||!Tt(t[s],e[s]))return!1}return!0}function Oh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ih(t,e){var n=Oh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oh(n)}}function lg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ug(){for(var t=window,e=Ro();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ro(t.document)}return e}function Pc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vb(t){var e=ug(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lg(n.ownerDocument.documentElement,n)){if(r!==null&&Pc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ih(n,i);var o=Ih(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xb=Yt&&"documentMode"in document&&11>=document.documentMode,Er=null,ou=null,$s=null,au=!1;function Dh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;au||Er==null||Er!==Ro(r)||(r=Er,"selectionStart"in r&&Pc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$s&&ni($s,r)||($s=r,r=$o(ou,"onSelect"),0<r.length&&(e=new Cc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Er)))}function qi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tr={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionend:qi("Transition","TransitionEnd")},sl={},cg={};Yt&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function xa(t){if(sl[t])return sl[t];if(!Tr[t])return t;var e=Tr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cg)return sl[t]=e[n];return t}var dg=xa("animationend"),hg=xa("animationiteration"),fg=xa("animationstart"),pg=xa("transitionend"),mg=new Map,Lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(t,e){mg.set(t,e),ur(e,[t])}for(var il=0;il<Lh.length;il++){var ol=Lh[il],wb=ol.toLowerCase(),bb=ol[0].toUpperCase()+ol.slice(1);Pn(wb,"on"+bb)}Pn(dg,"onAnimationEnd");Pn(hg,"onAnimationIteration");Pn(fg,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(pg,"onTransitionEnd");Jr("onMouseEnter",["mouseout","mouseover"]);Jr("onMouseLeave",["mouseout","mouseover"]);Jr("onPointerEnter",["pointerout","pointerover"]);Jr("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_b=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ps));function Mh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ww(r,e,void 0,t),t.currentTarget=null}function gg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Mh(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Mh(s,a,u),i=l}}}if(Oo)throw t=nu,Oo=!1,nu=null,t}function Q(t,e){var n=e[hu];n===void 0&&(n=e[hu]=new Set);var r=t+"__bubble";n.has(r)||(yg(e,t,2,!1),n.add(r))}function al(t,e,n){var r=0;e&&(r|=4),yg(n,t,r,e)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function ri(t){if(!t[Gi]){t[Gi]=!0,Sm.forEach(function(n){n!=="selectionchange"&&(_b.has(n)||al(n,!1,t),al(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gi]||(e[Gi]=!0,al("selectionchange",!1,e))}}function yg(t,e,n,r){switch(eg(e)){case 1:var s=Lw;break;case 4:s=Mw;break;default:s=Sc}n=s.bind(null,e,n,t),s=void 0,!tu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ll(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Jn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Vm(function(){var u=i,d=wc(n),h=[];e:{var f=mg.get(t);if(f!==void 0){var p=Cc,v=t;switch(t){case"keypress":if(wo(n)===0)break e;case"keydown":case"keyup":p=Xw;break;case"focusin":v="focus",p=tl;break;case"focusout":v="blur",p=tl;break;case"beforeblur":case"afterblur":p=tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Vw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tb;break;case dg:case hg:case fg:p=zw;break;case pg:p=rb;break;case"scroll":p=$w;break;case"wheel":p=ib;break;case"copy":case"cut":case"paste":p=Hw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Eh}var w=(e&4)!==0,x=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var m=u,y;m!==null;){y=m;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,g!==null&&(b=Qs(m,g),b!=null&&w.push(si(m,b,y)))),x)break;m=m.return}0<w.length&&(f=new p(f,v,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Zl&&(v=n.relatedTarget||n.fromElement)&&(Jn(v)||v[Qt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Jn(v):null,v!==null&&(x=cr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=jh,b="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=Eh,b="onPointerLeave",g="onPointerEnter",m="pointer"),x=p==null?f:Pr(p),y=v==null?f:Pr(v),f=new w(b,m+"leave",p,n,d),f.target=x,f.relatedTarget=y,b=null,Jn(d)===u&&(w=new w(g,m+"enter",v,n,d),w.target=y,w.relatedTarget=x,b=w),x=b,p&&v)t:{for(w=p,g=v,m=0,y=w;y;y=gr(y))m++;for(y=0,b=g;b;b=gr(b))y++;for(;0<m-y;)w=gr(w),m--;for(;0<y-m;)g=gr(g),y--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=gr(w),g=gr(g)}w=null}else w=null;p!==null&&$h(h,f,p,w,!1),v!==null&&x!==null&&$h(h,x,v,w,!0)}}e:{if(f=u?Pr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=hb;else if(Ah(f))if(og)_=gb;else{_=pb;var k=fb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=mb);if(_&&(_=_(t,u))){ig(h,_,n,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Gl(f,"number",f.value)}switch(k=u?Pr(u):window,t){case"focusin":(Ah(k)||k.contentEditable==="true")&&(Er=k,ou=u,$s=null);break;case"focusout":$s=ou=Er=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,Dh(h,n,d);break;case"selectionchange":if(xb)break;case"keydown":case"keyup":Dh(h,n,d)}var C;if(Tc)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Cr?rg(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(ng&&n.locale!=="ko"&&(Cr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Cr&&(C=tg()):(mn=d,jc="value"in mn?mn.value:mn.textContent,Cr=!0)),k=$o(u,j),0<k.length&&(j=new Ch(j,t,null,n,d),h.push({event:j,listeners:k}),C?j.data=C:(C=sg(n),C!==null&&(j.data=C)))),(C=ab?lb(t,n):ub(t,n))&&(u=$o(u,"onBeforeInput"),0<u.length&&(d=new Ch("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}gg(h,e)})}function si(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $o(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qs(t,n),i!=null&&r.unshift(si(t,i,s)),i=Qs(t,e),i!=null&&r.push(si(t,i,s))),t=t.return}return r}function gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $h(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Qs(n,i),l!=null&&o.unshift(si(n,l,a))):s||(l=Qs(n,i),l!=null&&o.push(si(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kb=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function Uh(t){return(typeof t=="string"?t:""+t).replace(kb,`
`).replace(Sb,"")}function Ji(t,e,n){if(e=Uh(e),Uh(t)!==e&&n)throw Error(E(425))}function Uo(){}var lu=null,uu=null;function cu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,jb=typeof clearTimeout=="function"?clearTimeout:void 0,Vh=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof Vh<"u"?function(t){return Vh.resolve(null).then(t).catch(Eb)}:du;function Eb(t){setTimeout(function(){throw t})}function ul(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ei(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ei(e)}function wn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),Nt="__reactFiber$"+us,ii="__reactProps$"+us,Qt="__reactContainer$"+us,hu="__reactEvents$"+us,Tb="__reactListeners$"+us,Pb="__reactHandles$"+us;function Jn(t){var e=t[Nt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qt]||n[Nt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bh(t);t!==null;){if(n=t[Nt])return n;t=Bh(t)}return e}t=n,n=t.parentNode}return null}function Si(t){return t=t[Nt]||t[Qt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function wa(t){return t[ii]||null}var fu=[],Ar=-1;function An(t){return{current:t}}function X(t){0>Ar||(t.current=fu[Ar],fu[Ar]=null,Ar--)}function J(t,e){Ar++,fu[Ar]=t.current,t.current=e}var Cn={},Ne=An(Cn),We=An(!1),rr=Cn;function Yr(t,e){var n=t.type.contextTypes;if(!n)return Cn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function He(t){return t=t.childContextTypes,t!=null}function Vo(){X(We),X(Ne)}function Fh(t,e,n){if(Ne.current!==Cn)throw Error(E(168));J(Ne,e),J(We,n)}function vg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,fw(t)||"Unknown",s));return ae({},n,r)}function Bo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cn,rr=Ne.current,J(Ne,t),J(We,We.current),!0}function zh(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=vg(t,e,rr),r.__reactInternalMemoizedMergedChildContext=t,X(We),X(Ne),J(Ne,t)):X(We),J(We,n)}var Wt=null,ba=!1,cl=!1;function xg(t){Wt===null?Wt=[t]:Wt.push(t)}function Ab(t){ba=!0,xg(t)}function Rn(){if(!cl&&Wt!==null){cl=!0;var t=0,e=K;try{var n=Wt;for(K=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wt=null,ba=!1}catch(s){throw Wt!==null&&(Wt=Wt.slice(t+1)),Wm(bc,Rn),s}finally{K=e,cl=!1}}return null}var Rr=[],Nr=0,Fo=null,zo=0,lt=[],ut=0,sr=null,Ht=1,Kt="";function Bn(t,e){Rr[Nr++]=zo,Rr[Nr++]=Fo,Fo=t,zo=e}function wg(t,e,n){lt[ut++]=Ht,lt[ut++]=Kt,lt[ut++]=sr,sr=t;var r=Ht;t=Kt;var s=32-jt(r)-1;r&=~(1<<s),n+=1;var i=32-jt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ht=1<<32-jt(e)+s|n<<s|r,Kt=i+t}else Ht=1<<i|n<<s|r,Kt=t}function Ac(t){t.return!==null&&(Bn(t,1),wg(t,1,0))}function Rc(t){for(;t===Fo;)Fo=Rr[--Nr],Rr[Nr]=null,zo=Rr[--Nr],Rr[Nr]=null;for(;t===sr;)sr=lt[--ut],lt[ut]=null,Kt=lt[--ut],lt[ut]=null,Ht=lt[--ut],lt[ut]=null}var Xe=null,Qe=null,ne=!1,St=null;function bg(t,e){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xe=t,Qe=wn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xe=t,Qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sr!==null?{id:Ht,overflow:Kt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xe=t,Qe=null,!0):!1;default:return!1}}function pu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mu(t){if(ne){var e=Qe;if(e){var n=e;if(!Wh(t,e)){if(pu(t))throw Error(E(418));e=wn(n.nextSibling);var r=Xe;e&&Wh(t,e)?bg(r,n):(t.flags=t.flags&-4097|2,ne=!1,Xe=t)}}else{if(pu(t))throw Error(E(418));t.flags=t.flags&-4097|2,ne=!1,Xe=t}}}function Hh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xe=t}function Yi(t){if(t!==Xe)return!1;if(!ne)return Hh(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cu(t.type,t.memoizedProps)),e&&(e=Qe)){if(pu(t))throw _g(),Error(E(418));for(;e;)bg(t,e),e=wn(e.nextSibling)}if(Hh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qe=wn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qe=null}}else Qe=Xe?wn(t.stateNode.nextSibling):null;return!0}function _g(){for(var t=Qe;t;)t=wn(t.nextSibling)}function Qr(){Qe=Xe=null,ne=!1}function Nc(t){St===null?St=[t]:St.push(t)}var Rb=tn.ReactCurrentBatchConfig;function _s(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function Qi(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kh(t){var e=t._init;return e(t._payload)}function kg(t){function e(g,m){if(t){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Sn(g,m),g.index=0,g.sibling=null,g}function i(g,m,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,y,b){return m===null||m.tag!==6?(m=yl(y,g.mode,b),m.return=g,m):(m=s(m,y),m.return=g,m)}function l(g,m,y,b){var _=y.type;return _===jr?d(g,m,y.props.children,b,y.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===cn&&Kh(_)===m.type)?(b=s(m,y.props),b.ref=_s(g,m,y),b.return=g,b):(b=Eo(y.type,y.key,y.props,null,g.mode,b),b.ref=_s(g,m,y),b.return=g,b)}function u(g,m,y,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=vl(y,g.mode,b),m.return=g,m):(m=s(m,y.children||[]),m.return=g,m)}function d(g,m,y,b,_){return m===null||m.tag!==7?(m=tr(y,g.mode,b,_),m.return=g,m):(m=s(m,y),m.return=g,m)}function h(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=yl(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Vi:return y=Eo(m.type,m.key,m.props,null,g.mode,y),y.ref=_s(g,null,m),y.return=g,y;case Sr:return m=vl(m,g.mode,y),m.return=g,m;case cn:var b=m._init;return h(g,b(m._payload),y)}if(Es(m)||ys(m))return m=tr(m,g.mode,y,null),m.return=g,m;Qi(g,m)}return null}function f(g,m,y,b){var _=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:a(g,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vi:return y.key===_?l(g,m,y,b):null;case Sr:return y.key===_?u(g,m,y,b):null;case cn:return _=y._init,f(g,m,_(y._payload),b)}if(Es(y)||ys(y))return _!==null?null:d(g,m,y,b,null);Qi(g,y)}return null}function p(g,m,y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(y)||null,a(m,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vi:return g=g.get(b.key===null?y:b.key)||null,l(m,g,b,_);case Sr:return g=g.get(b.key===null?y:b.key)||null,u(m,g,b,_);case cn:var k=b._init;return p(g,m,y,k(b._payload),_)}if(Es(b)||ys(b))return g=g.get(y)||null,d(m,g,b,_,null);Qi(m,b)}return null}function v(g,m,y,b){for(var _=null,k=null,C=m,j=m=0,A=null;C!==null&&j<y.length;j++){C.index>j?(A=C,C=null):A=C.sibling;var N=f(g,C,y[j],b);if(N===null){C===null&&(C=A);break}t&&C&&N.alternate===null&&e(g,C),m=i(N,m,j),k===null?_=N:k.sibling=N,k=N,C=A}if(j===y.length)return n(g,C),ne&&Bn(g,j),_;if(C===null){for(;j<y.length;j++)C=h(g,y[j],b),C!==null&&(m=i(C,m,j),k===null?_=C:k.sibling=C,k=C);return ne&&Bn(g,j),_}for(C=r(g,C);j<y.length;j++)A=p(C,g,j,y[j],b),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?j:A.key),m=i(A,m,j),k===null?_=A:k.sibling=A,k=A);return t&&C.forEach(function(q){return e(g,q)}),ne&&Bn(g,j),_}function w(g,m,y,b){var _=ys(y);if(typeof _!="function")throw Error(E(150));if(y=_.call(y),y==null)throw Error(E(151));for(var k=_=null,C=m,j=m=0,A=null,N=y.next();C!==null&&!N.done;j++,N=y.next()){C.index>j?(A=C,C=null):A=C.sibling;var q=f(g,C,N.value,b);if(q===null){C===null&&(C=A);break}t&&C&&q.alternate===null&&e(g,C),m=i(q,m,j),k===null?_=q:k.sibling=q,k=q,C=A}if(N.done)return n(g,C),ne&&Bn(g,j),_;if(C===null){for(;!N.done;j++,N=y.next())N=h(g,N.value,b),N!==null&&(m=i(N,m,j),k===null?_=N:k.sibling=N,k=N);return ne&&Bn(g,j),_}for(C=r(g,C);!N.done;j++,N=y.next())N=p(C,g,j,N.value,b),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?j:N.key),m=i(N,m,j),k===null?_=N:k.sibling=N,k=N);return t&&C.forEach(function(Oe){return e(g,Oe)}),ne&&Bn(g,j),_}function x(g,m,y,b){if(typeof y=="object"&&y!==null&&y.type===jr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Vi:e:{for(var _=y.key,k=m;k!==null;){if(k.key===_){if(_=y.type,_===jr){if(k.tag===7){n(g,k.sibling),m=s(k,y.props.children),m.return=g,g=m;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===cn&&Kh(_)===k.type){n(g,k.sibling),m=s(k,y.props),m.ref=_s(g,k,y),m.return=g,g=m;break e}n(g,k);break}else e(g,k);k=k.sibling}y.type===jr?(m=tr(y.props.children,g.mode,b,y.key),m.return=g,g=m):(b=Eo(y.type,y.key,y.props,null,g.mode,b),b.ref=_s(g,m,y),b.return=g,g=b)}return o(g);case Sr:e:{for(k=y.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(g,m.sibling),m=s(m,y.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=vl(y,g.mode,b),m.return=g,g=m}return o(g);case cn:return k=y._init,x(g,m,k(y._payload),b)}if(Es(y))return v(g,m,y,b);if(ys(y))return w(g,m,y,b);Qi(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,y),m.return=g,g=m):(n(g,m),m=yl(y,g.mode,b),m.return=g,g=m),o(g)):n(g,m)}return x}var Xr=kg(!0),Sg=kg(!1),Wo=An(null),Ho=null,Or=null,Oc=null;function Ic(){Oc=Or=Ho=null}function Dc(t){var e=Wo.current;X(Wo),t._currentValue=e}function gu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hr(t,e){Ho=t,Oc=Or=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ze=!0),t.firstContext=null)}function pt(t){var e=t._currentValue;if(Oc!==t)if(t={context:t,memoizedValue:e,next:null},Or===null){if(Ho===null)throw Error(E(308));Or=t,Ho.dependencies={lanes:0,firstContext:t}}else Or=Or.next=t;return e}var Yn=null;function Lc(t){Yn===null?Yn=[t]:Yn.push(t)}function jg(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Lc(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xt(t,r)}function Xt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dn=!1;function Mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xt(t,n)}return s=r.interleaved,s===null?(e.next=e,Lc(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xt(t,n)}function bo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_c(t,n)}}function qh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ko(t,e,n,r){var s=t.updateQueue;dn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=ae({},h,f);break e;case 2:dn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);or|=o,t.lanes=o,t.memoizedState=h}}function Gh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var ji={},It=An(ji),oi=An(ji),ai=An(ji);function Qn(t){if(t===ji)throw Error(E(174));return t}function $c(t,e){switch(J(ai,e),J(oi,t),J(It,ji),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yl(e,t)}X(It),J(It,e)}function Zr(){X(It),X(oi),X(ai)}function Eg(t){Qn(ai.current);var e=Qn(It.current),n=Yl(e,t.type);e!==n&&(J(oi,t),J(It,n))}function Uc(t){oi.current===t&&(X(It),X(oi))}var se=An(0);function qo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dl=[];function Vc(){for(var t=0;t<dl.length;t++)dl[t]._workInProgressVersionPrimary=null;dl.length=0}var _o=tn.ReactCurrentDispatcher,hl=tn.ReactCurrentBatchConfig,ir=0,oe=null,me=null,we=null,Go=!1,Us=!1,li=0,Nb=0;function Ee(){throw Error(E(321))}function Bc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tt(t[n],e[n]))return!1;return!0}function Fc(t,e,n,r,s,i){if(ir=i,oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_o.current=t===null||t.memoizedState===null?Lb:Mb,t=n(r,s),Us){i=0;do{if(Us=!1,li=0,25<=i)throw Error(E(301));i+=1,we=me=null,e.updateQueue=null,_o.current=$b,t=n(r,s)}while(Us)}if(_o.current=Jo,e=me!==null&&me.next!==null,ir=0,we=me=oe=null,Go=!1,e)throw Error(E(300));return t}function zc(){var t=li!==0;return li=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?oe.memoizedState=we=t:we=we.next=t,we}function mt(){if(me===null){var t=oe.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var e=we===null?oe.memoizedState:we.next;if(e!==null)we=e,me=t;else{if(t===null)throw Error(E(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},we===null?oe.memoizedState=we=t:we=we.next=t}return we}function ui(t,e){return typeof e=="function"?e(t):e}function fl(t){var e=mt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((ir&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,oe.lanes|=d,or|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Tt(r,e.memoizedState)||(ze=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,oe.lanes|=i,or|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pl(t){var e=mt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Tt(i,e.memoizedState)||(ze=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Tg(){}function Pg(t,e){var n=oe,r=mt(),s=e(),i=!Tt(r.memoizedState,s);if(i&&(r.memoizedState=s,ze=!0),r=r.queue,Wc(Ng.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,ci(9,Rg.bind(null,n,r,s,e),void 0,null),be===null)throw Error(E(349));ir&30||Ag(n,e,s)}return s}function Ag(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rg(t,e,n,r){e.value=n,e.getSnapshot=r,Og(e)&&Ig(t)}function Ng(t,e,n){return n(function(){Og(e)&&Ig(t)})}function Og(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tt(t,n)}catch{return!0}}function Ig(t){var e=Xt(t,1);e!==null&&Ct(e,t,1,-1)}function Jh(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:t},e.queue=t,t=t.dispatch=Db.bind(null,oe,t),[e.memoizedState,t]}function ci(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Dg(){return mt().memoizedState}function ko(t,e,n,r){var s=Rt();oe.flags|=t,s.memoizedState=ci(1|e,n,void 0,r===void 0?null:r)}function _a(t,e,n,r){var s=mt();r=r===void 0?null:r;var i=void 0;if(me!==null){var o=me.memoizedState;if(i=o.destroy,r!==null&&Bc(r,o.deps)){s.memoizedState=ci(e,n,i,r);return}}oe.flags|=t,s.memoizedState=ci(1|e,n,i,r)}function Yh(t,e){return ko(8390656,8,t,e)}function Wc(t,e){return _a(2048,8,t,e)}function Lg(t,e){return _a(4,2,t,e)}function Mg(t,e){return _a(4,4,t,e)}function $g(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ug(t,e,n){return n=n!=null?n.concat([t]):null,_a(4,4,$g.bind(null,e,t),n)}function Hc(){}function Vg(t,e){var n=mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bg(t,e){var n=mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Fg(t,e,n){return ir&21?(Tt(n,e)||(n=qm(),oe.lanes|=n,or|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ze=!0),t.memoizedState=n)}function Ob(t,e){var n=K;K=n!==0&&4>n?n:4,t(!0);var r=hl.transition;hl.transition={};try{t(!1),e()}finally{K=n,hl.transition=r}}function zg(){return mt().memoizedState}function Ib(t,e,n){var r=kn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wg(t))Hg(e,n);else if(n=jg(t,e,n,r),n!==null){var s=Le();Ct(n,t,r,s),Kg(n,e,r)}}function Db(t,e,n){var r=kn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wg(t))Hg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Tt(a,o)){var l=e.interleaved;l===null?(s.next=s,Lc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=jg(t,e,s,r),n!==null&&(s=Le(),Ct(n,t,r,s),Kg(n,e,r))}}function Wg(t){var e=t.alternate;return t===oe||e!==null&&e===oe}function Hg(t,e){Us=Go=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_c(t,n)}}var Jo={readContext:pt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Lb={readContext:pt,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:pt,useEffect:Yh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ko(4194308,4,$g.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ko(4194308,4,t,e)},useInsertionEffect:function(t,e){return ko(4,2,t,e)},useMemo:function(t,e){var n=Rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ib.bind(null,oe,t),[r.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:Jh,useDebugValue:Hc,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=Jh(!1),e=t[0];return t=Ob.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=oe,s=Rt();if(ne){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),be===null)throw Error(E(349));ir&30||Ag(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Yh(Ng.bind(null,r,i,t),[t]),r.flags|=2048,ci(9,Rg.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Rt(),e=be.identifierPrefix;if(ne){var n=Kt,r=Ht;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=li++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Nb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mb={readContext:pt,useCallback:Vg,useContext:pt,useEffect:Wc,useImperativeHandle:Ug,useInsertionEffect:Lg,useLayoutEffect:Mg,useMemo:Bg,useReducer:fl,useRef:Dg,useState:function(){return fl(ui)},useDebugValue:Hc,useDeferredValue:function(t){var e=mt();return Fg(e,me.memoizedState,t)},useTransition:function(){var t=fl(ui)[0],e=mt().memoizedState;return[t,e]},useMutableSource:Tg,useSyncExternalStore:Pg,useId:zg,unstable_isNewReconciler:!1},$b={readContext:pt,useCallback:Vg,useContext:pt,useEffect:Wc,useImperativeHandle:Ug,useInsertionEffect:Lg,useLayoutEffect:Mg,useMemo:Bg,useReducer:pl,useRef:Dg,useState:function(){return pl(ui)},useDebugValue:Hc,useDeferredValue:function(t){var e=mt();return me===null?e.memoizedState=t:Fg(e,me.memoizedState,t)},useTransition:function(){var t=pl(ui)[0],e=mt().memoizedState;return[t,e]},useMutableSource:Tg,useSyncExternalStore:Pg,useId:zg,unstable_isNewReconciler:!1};function wt(t,e){if(t&&t.defaultProps){e=ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ka={isMounted:function(t){return(t=t._reactInternals)?cr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Le(),s=kn(t),i=qt(r,s);i.payload=e,n!=null&&(i.callback=n),e=bn(t,i,s),e!==null&&(Ct(e,t,s,r),bo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Le(),s=kn(t),i=qt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=bn(t,i,s),e!==null&&(Ct(e,t,s,r),bo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Le(),r=kn(t),s=qt(n,r);s.tag=2,e!=null&&(s.callback=e),e=bn(t,s,r),e!==null&&(Ct(e,t,r,n),bo(e,t,r))}};function Qh(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ni(n,r)||!ni(s,i):!0}function qg(t,e,n){var r=!1,s=Cn,i=e.contextType;return typeof i=="object"&&i!==null?i=pt(i):(s=He(e)?rr:Ne.current,r=e.contextTypes,i=(r=r!=null)?Yr(t,s):Cn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ka,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Xh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ka.enqueueReplaceState(e,e.state,null)}function vu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Mc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=pt(i):(i=He(e)?rr:Ne.current,s.context=Yr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(yu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ka.enqueueReplaceState(s,s.state,null),Ko(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function es(t,e){try{var n="",r=e;do n+=hw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ml(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ub=typeof WeakMap=="function"?WeakMap:Map;function Gg(t,e,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qo||(Qo=!0,Pu=r),xu(t,e)},n}function Jg(t,e,n){n=qt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){xu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xu(t,e),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Zh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ub;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Zb.bind(null,t,e,n),e.then(t,t))}function ef(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qt(-1,1),e.tag=2,bn(n,e,1))),n.lanes|=1),t)}var Vb=tn.ReactCurrentOwner,ze=!1;function Ie(t,e,n,r){e.child=t===null?Sg(e,null,n,r):Xr(e,t.child,n,r)}function nf(t,e,n,r,s){n=n.render;var i=e.ref;return Hr(e,s),r=Fc(t,e,n,r,i,s),n=zc(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zt(t,e,s)):(ne&&n&&Ac(e),e.flags|=1,Ie(t,e,r,s),e.child)}function rf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Zc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Yg(t,e,i,r,s)):(t=Eo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(o,r)&&t.ref===e.ref)return Zt(t,e,s)}return e.flags|=1,t=Sn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Yg(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ni(i,r)&&t.ref===e.ref)if(ze=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ze=!0);else return e.lanes=t.lanes,Zt(t,e,s)}return wu(t,e,n,r,s)}function Qg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Dr,Ge),Ge|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,J(Dr,Ge),Ge|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,J(Dr,Ge),Ge|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,J(Dr,Ge),Ge|=r;return Ie(t,e,s,n),e.child}function Xg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wu(t,e,n,r,s){var i=He(n)?rr:Ne.current;return i=Yr(e,i),Hr(e,s),n=Fc(t,e,n,r,i,s),r=zc(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zt(t,e,s)):(ne&&r&&Ac(e),e.flags|=1,Ie(t,e,n,s),e.child)}function sf(t,e,n,r,s){if(He(n)){var i=!0;Bo(e)}else i=!1;if(Hr(e,s),e.stateNode===null)So(t,e),qg(e,n,r),vu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pt(u):(u=He(n)?rr:Ne.current,u=Yr(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Xh(e,o,r,u),dn=!1;var f=e.memoizedState;o.state=f,Ko(e,r,o,s),l=e.memoizedState,a!==r||f!==l||We.current||dn?(typeof d=="function"&&(yu(e,n,d,r),l=e.memoizedState),(a=dn||Qh(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Cg(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pt(l):(l=He(n)?rr:Ne.current,l=Yr(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Xh(e,o,r,l),dn=!1,f=e.memoizedState,o.state=f,Ko(e,r,o,s);var v=e.memoizedState;a!==h||f!==v||We.current||dn?(typeof p=="function"&&(yu(e,n,p,r),v=e.memoizedState),(u=dn||Qh(e,n,u,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return bu(t,e,n,r,i,s)}function bu(t,e,n,r,s,i){Xg(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&zh(e,n,!1),Zt(t,e,i);r=e.stateNode,Vb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xr(e,t.child,null,i),e.child=Xr(e,null,a,i)):Ie(t,e,a,i),e.memoizedState=r.state,s&&zh(e,n,!0),e.child}function Zg(t){var e=t.stateNode;e.pendingContext?Fh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fh(t,e.context,!1),$c(t,e.containerInfo)}function of(t,e,n,r,s){return Qr(),Nc(s),e.flags|=256,Ie(t,e,n,r),e.child}var _u={dehydrated:null,treeContext:null,retryLane:0};function ku(t){return{baseLanes:t,cachePool:null,transitions:null}}function e0(t,e,n){var r=e.pendingProps,s=se.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),J(se,s&1),t===null)return mu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ca(o,r,0,null),t=tr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ku(n),e.memoizedState=_u,t):Kc(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Bb(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Sn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Sn(a,i):(i=tr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ku(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=_u,r}return i=t.child,t=i.sibling,r=Sn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kc(t,e){return e=Ca({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xi(t,e,n,r){return r!==null&&Nc(r),Xr(e,t.child,null,n),t=Kc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bb(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ml(Error(E(422))),Xi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ca({mode:"visible",children:r.children},s,0,null),i=tr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Xr(e,t.child,null,o),e.child.memoizedState=ku(o),e.memoizedState=_u,i);if(!(e.mode&1))return Xi(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(E(419)),r=ml(i,r,void 0),Xi(t,e,o,r)}if(a=(o&t.childLanes)!==0,ze||a){if(r=be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xt(t,s),Ct(r,t,s,-1))}return Xc(),r=ml(Error(E(421))),Xi(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=e_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qe=wn(s.nextSibling),Xe=e,ne=!0,St=null,t!==null&&(lt[ut++]=Ht,lt[ut++]=Kt,lt[ut++]=sr,Ht=t.id,Kt=t.overflow,sr=e),e=Kc(e,r.children),e.flags|=4096,e)}function af(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gu(t.return,e,n)}function gl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function t0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ie(t,e,r.children,n),r=se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&af(t,n,e);else if(t.tag===19)af(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(J(se,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),gl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}gl(e,!0,n,null,i);break;case"together":gl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function So(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),or|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Sn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Fb(t,e,n){switch(e.tag){case 3:Zg(e),Qr();break;case 5:Eg(e);break;case 1:He(e.type)&&Bo(e);break;case 4:$c(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;J(Wo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(J(se,se.current&1),e.flags|=128,null):n&e.child.childLanes?e0(t,e,n):(J(se,se.current&1),t=Zt(t,e,n),t!==null?t.sibling:null);J(se,se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return t0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(se,se.current),r)break;return null;case 22:case 23:return e.lanes=0,Qg(t,e,n)}return Zt(t,e,n)}var n0,Su,r0,s0;n0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Su=function(){};r0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Qn(It.current);var i=null;switch(n){case"input":s=Kl(t,s),r=Kl(t,r),i=[];break;case"select":s=ae({},s,{value:void 0}),r=ae({},r,{value:void 0}),i=[];break;case"textarea":s=Jl(t,s),r=Jl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uo)}Ql(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Js.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Js.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Q("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};s0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ks(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Te(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zb(t,e,n){var r=e.pendingProps;switch(Rc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(e),null;case 1:return He(e.type)&&Vo(),Te(e),null;case 3:return r=e.stateNode,Zr(),X(We),X(Ne),Vc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,St!==null&&(Nu(St),St=null))),Su(t,e),Te(e),null;case 5:Uc(e);var s=Qn(ai.current);if(n=e.type,t!==null&&e.stateNode!=null)r0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return Te(e),null}if(t=Qn(It.current),Yi(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Nt]=e,r[ii]=i,t=(e.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(s=0;s<Ps.length;s++)Q(Ps[s],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":mh(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":yh(r,i),Q("invalid",r)}Ql(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ji(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ji(r.textContent,a,t),s=["children",""+a]):Js.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Q("scroll",r)}switch(n){case"input":Bi(r),gh(r,i,!0);break;case"textarea":Bi(r),vh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nt]=e,t[ii]=r,n0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xl(n,r),n){case"dialog":Q("cancel",t),Q("close",t),s=r;break;case"iframe":case"object":case"embed":Q("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ps.length;s++)Q(Ps[s],t);s=r;break;case"source":Q("error",t),s=r;break;case"img":case"image":case"link":Q("error",t),Q("load",t),s=r;break;case"details":Q("toggle",t),s=r;break;case"input":mh(t,r),s=Kl(t,r),Q("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ae({},r,{value:void 0}),Q("invalid",t);break;case"textarea":yh(t,r),s=Jl(t,r),Q("invalid",t);break;default:s=r}Ql(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Dm(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Om(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ys(t,l):typeof l=="number"&&Ys(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Js.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Q("scroll",t):l!=null&&gc(t,i,l,o))}switch(n){case"input":Bi(t),gh(t,r,!1);break;case"textarea":Bi(t),vh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Br(t,!!r.multiple,i,!1):r.defaultValue!=null&&Br(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Te(e),null;case 6:if(t&&e.stateNode!=null)s0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=Qn(ai.current),Qn(It.current),Yi(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nt]=e,(i=r.nodeValue!==n)&&(t=Xe,t!==null))switch(t.tag){case 3:Ji(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ji(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=e,e.stateNode=r}return Te(e),null;case 13:if(X(se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Qe!==null&&e.mode&1&&!(e.flags&128))_g(),Qr(),e.flags|=98560,i=!1;else if(i=Yi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Nt]=e}else Qr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),i=!1}else St!==null&&(Nu(St),St=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?ge===0&&(ge=3):Xc())),e.updateQueue!==null&&(e.flags|=4),Te(e),null);case 4:return Zr(),Su(t,e),t===null&&ri(e.stateNode.containerInfo),Te(e),null;case 10:return Dc(e.type._context),Te(e),null;case 17:return He(e.type)&&Vo(),Te(e),null;case 19:if(X(se),i=e.memoizedState,i===null)return Te(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ks(i,!1);else{if(ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qo(t),o!==null){for(e.flags|=128,ks(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return J(se,se.current&1|2),e.child}t=t.sibling}i.tail!==null&&de()>ts&&(e.flags|=128,r=!0,ks(i,!1),e.lanes=4194304)}else{if(!r)if(t=qo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ks(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return Te(e),null}else 2*de()-i.renderingStartTime>ts&&n!==1073741824&&(e.flags|=128,r=!0,ks(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=de(),e.sibling=null,n=se.current,J(se,r?n&1|2:n&1),e):(Te(e),null);case 22:case 23:return Qc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ge&1073741824&&(Te(e),e.subtreeFlags&6&&(e.flags|=8192)):Te(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Wb(t,e){switch(Rc(e),e.tag){case 1:return He(e.type)&&Vo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zr(),X(We),X(Ne),Vc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Uc(e),null;case 13:if(X(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Qr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(se),null;case 4:return Zr(),null;case 10:return Dc(e.type._context),null;case 22:case 23:return Qc(),null;case 24:return null;default:return null}}var Zi=!1,Ae=!1,Hb=typeof WeakSet=="function"?WeakSet:Set,R=null;function Ir(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(t,e,r)}else n.current=null}function ju(t,e,n){try{n()}catch(r){ue(t,e,r)}}var lf=!1;function Kb(t,e){if(lu=Lo,t=ug(),Pc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uu={focusedElem:t,selectionRange:n},Lo=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:wt(e.type,w),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(b){ue(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return v=lf,lf=!1,v}function Vs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ju(e,n,i)}s=s.next}while(s!==r)}}function Sa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function i0(t){var e=t.alternate;e!==null&&(t.alternate=null,i0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nt],delete e[ii],delete e[hu],delete e[Tb],delete e[Pb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function o0(t){return t.tag===5||t.tag===3||t.tag===4}function uf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uo));else if(r!==4&&(t=t.child,t!==null))for(Eu(t,e,n),t=t.sibling;t!==null;)Eu(t,e,n),t=t.sibling}function Tu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tu(t,e,n),t=t.sibling;t!==null;)Tu(t,e,n),t=t.sibling}var ke=null,_t=!1;function an(t,e,n){for(n=n.child;n!==null;)a0(t,e,n),n=n.sibling}function a0(t,e,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(ga,n)}catch{}switch(n.tag){case 5:Ae||Ir(n,e);case 6:var r=ke,s=_t;ke=null,an(t,e,n),ke=r,_t=s,ke!==null&&(_t?(t=ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(_t?(t=ke,n=n.stateNode,t.nodeType===8?ul(t.parentNode,n):t.nodeType===1&&ul(t,n),ei(t)):ul(ke,n.stateNode));break;case 4:r=ke,s=_t,ke=n.stateNode.containerInfo,_t=!0,an(t,e,n),ke=r,_t=s;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ju(n,e,o),s=s.next}while(s!==r)}an(t,e,n);break;case 1:if(!Ae&&(Ir(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,e,a)}an(t,e,n);break;case 21:an(t,e,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,an(t,e,n),Ae=r):an(t,e,n);break;default:an(t,e,n)}}function cf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Hb),e.forEach(function(r){var s=t_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ke=a.stateNode,_t=!1;break e;case 3:ke=a.stateNode.containerInfo,_t=!0;break e;case 4:ke=a.stateNode.containerInfo,_t=!0;break e}a=a.return}if(ke===null)throw Error(E(160));a0(i,o,s),ke=null,_t=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ue(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)l0(e,t),e=e.sibling}function l0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yt(e,t),At(t),r&4){try{Vs(3,t,t.return),Sa(3,t)}catch(w){ue(t,t.return,w)}try{Vs(5,t,t.return)}catch(w){ue(t,t.return,w)}}break;case 1:yt(e,t),At(t),r&512&&n!==null&&Ir(n,n.return);break;case 5:if(yt(e,t),At(t),r&512&&n!==null&&Ir(n,n.return),t.flags&32){var s=t.stateNode;try{Ys(s,"")}catch(w){ue(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Am(s,i),Xl(a,o);var u=Xl(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Dm(s,h):d==="dangerouslySetInnerHTML"?Om(s,h):d==="children"?Ys(s,h):gc(s,d,h,u)}switch(a){case"input":ql(s,i);break;case"textarea":Rm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Br(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Br(s,!!i.multiple,i.defaultValue,!0):Br(s,!!i.multiple,i.multiple?[]:"",!1))}s[ii]=i}catch(w){ue(t,t.return,w)}}break;case 6:if(yt(e,t),At(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ue(t,t.return,w)}}break;case 3:if(yt(e,t),At(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(e.containerInfo)}catch(w){ue(t,t.return,w)}break;case 4:yt(e,t),At(t);break;case 13:yt(e,t),At(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jc=de())),r&4&&cf(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ae=(u=Ae)||d,yt(e,t),Ae=u):yt(e,t),At(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(R=t,d=t.child;d!==null;){for(h=R=d;R!==null;){switch(f=R,p=f.child,f.tag){case 0:case 11:case 14:case 15:Vs(4,f,f.return);break;case 1:Ir(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){ue(r,n,w)}}break;case 5:Ir(f,f.return);break;case 22:if(f.memoizedState!==null){hf(h);continue}}p!==null?(p.return=f,R=p):hf(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Im("display",o))}catch(w){ue(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ue(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yt(e,t),At(t),r&4&&cf(t);break;case 21:break;default:yt(e,t),At(t)}}function At(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(o0(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ys(s,""),r.flags&=-33);var i=uf(t);Tu(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=uf(t);Eu(t,a,o);break;default:throw Error(E(161))}}catch(l){ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qb(t,e,n){R=t,u0(t)}function u0(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ae;a=Zi;var u=Ae;if(Zi=o,(Ae=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?ff(s):l!==null?(l.return=o,R=l):ff(s);for(;i!==null;)R=i,u0(i),i=i.sibling;R=s,Zi=a,Ae=u}df(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):df(t)}}function df(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ae||Sa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:wt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Gh(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ei(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ae||e.flags&512&&Cu(e)}catch(f){ue(e,e.return,f)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function hf(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function ff(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sa(4,e)}catch(l){ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ue(e,s,l)}}var i=e.return;try{Cu(e)}catch(l){ue(e,i,l)}break;case 5:var o=e.return;try{Cu(e)}catch(l){ue(e,o,l)}}}catch(l){ue(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var Gb=Math.ceil,Yo=tn.ReactCurrentDispatcher,qc=tn.ReactCurrentOwner,ft=tn.ReactCurrentBatchConfig,W=0,be=null,fe=null,je=0,Ge=0,Dr=An(0),ge=0,di=null,or=0,ja=0,Gc=0,Bs=null,Fe=null,Jc=0,ts=1/0,Ft=null,Qo=!1,Pu=null,_n=null,eo=!1,gn=null,Xo=0,Fs=0,Au=null,jo=-1,Co=0;function Le(){return W&6?de():jo!==-1?jo:jo=de()}function kn(t){return t.mode&1?W&2&&je!==0?je&-je:Rb.transition!==null?(Co===0&&(Co=qm()),Co):(t=K,t!==0||(t=window.event,t=t===void 0?16:eg(t.type)),t):1}function Ct(t,e,n,r){if(50<Fs)throw Fs=0,Au=null,Error(E(185));_i(t,n,r),(!(W&2)||t!==be)&&(t===be&&(!(W&2)&&(ja|=n),ge===4&&fn(t,je)),Ke(t,r),n===1&&W===0&&!(e.mode&1)&&(ts=de()+500,ba&&Rn()))}function Ke(t,e){var n=t.callbackNode;Rw(t,e);var r=Do(t,t===be?je:0);if(r===0)n!==null&&bh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bh(n),e===1)t.tag===0?Ab(pf.bind(null,t)):xg(pf.bind(null,t)),Cb(function(){!(W&6)&&Rn()}),n=null;else{switch(Gm(r)){case 1:n=bc;break;case 4:n=Hm;break;case 16:n=Io;break;case 536870912:n=Km;break;default:n=Io}n=y0(n,c0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function c0(t,e){if(jo=-1,Co=0,W&6)throw Error(E(327));var n=t.callbackNode;if(Kr()&&t.callbackNode!==n)return null;var r=Do(t,t===be?je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zo(t,r);else{e=r;var s=W;W|=2;var i=h0();(be!==t||je!==e)&&(Ft=null,ts=de()+500,er(t,e));do try{Qb();break}catch(a){d0(t,a)}while(!0);Ic(),Yo.current=i,W=s,fe!==null?e=0:(be=null,je=0,e=ge)}if(e!==0){if(e===2&&(s=ru(t),s!==0&&(r=s,e=Ru(t,s))),e===1)throw n=di,er(t,0),fn(t,r),Ke(t,de()),n;if(e===6)fn(t,r);else{if(s=t.current.alternate,!(r&30)&&!Jb(s)&&(e=Zo(t,r),e===2&&(i=ru(t),i!==0&&(r=i,e=Ru(t,i))),e===1))throw n=di,er(t,0),fn(t,r),Ke(t,de()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Fn(t,Fe,Ft);break;case 3:if(fn(t,r),(r&130023424)===r&&(e=Jc+500-de(),10<e)){if(Do(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Le(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=du(Fn.bind(null,t,Fe,Ft),e);break}Fn(t,Fe,Ft);break;case 4:if(fn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-jt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gb(r/1960))-r,10<r){t.timeoutHandle=du(Fn.bind(null,t,Fe,Ft),r);break}Fn(t,Fe,Ft);break;case 5:Fn(t,Fe,Ft);break;default:throw Error(E(329))}}}return Ke(t,de()),t.callbackNode===n?c0.bind(null,t):null}function Ru(t,e){var n=Bs;return t.current.memoizedState.isDehydrated&&(er(t,e).flags|=256),t=Zo(t,e),t!==2&&(e=Fe,Fe=n,e!==null&&Nu(e)),t}function Nu(t){Fe===null?Fe=t:Fe.push.apply(Fe,t)}function Jb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Tt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fn(t,e){for(e&=~Gc,e&=~ja,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jt(e),r=1<<n;t[n]=-1,e&=~r}}function pf(t){if(W&6)throw Error(E(327));Kr();var e=Do(t,0);if(!(e&1))return Ke(t,de()),null;var n=Zo(t,e);if(t.tag!==0&&n===2){var r=ru(t);r!==0&&(e=r,n=Ru(t,r))}if(n===1)throw n=di,er(t,0),fn(t,e),Ke(t,de()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fn(t,Fe,Ft),Ke(t,de()),null}function Yc(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(ts=de()+500,ba&&Rn())}}function ar(t){gn!==null&&gn.tag===0&&!(W&6)&&Kr();var e=W;W|=1;var n=ft.transition,r=K;try{if(ft.transition=null,K=1,t)return t()}finally{K=r,ft.transition=n,W=e,!(W&6)&&Rn()}}function Qc(){Ge=Dr.current,X(Dr)}function er(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jb(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(Rc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vo();break;case 3:Zr(),X(We),X(Ne),Vc();break;case 5:Uc(r);break;case 4:Zr();break;case 13:X(se);break;case 19:X(se);break;case 10:Dc(r.type._context);break;case 22:case 23:Qc()}n=n.return}if(be=t,fe=t=Sn(t.current,null),je=Ge=e,ge=0,di=null,Gc=ja=or=0,Fe=Bs=null,Yn!==null){for(e=0;e<Yn.length;e++)if(n=Yn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Yn=null}return t}function d0(t,e){do{var n=fe;try{if(Ic(),_o.current=Jo,Go){for(var r=oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Go=!1}if(ir=0,we=me=oe=null,Us=!1,li=0,qc.current=null,n===null||n.return===null){ge=1,di=e,fe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ef(o);if(p!==null){p.flags&=-257,tf(p,o,a,i,e),p.mode&1&&Zh(i,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Zh(i,u,e),Xc();break e}l=Error(E(426))}}else if(ne&&a.mode&1){var x=ef(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),tf(x,o,a,i,e),Nc(es(l,a));break e}}i=l=es(l,a),ge!==4&&(ge=2),Bs===null?Bs=[i]:Bs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Gg(i,l,e);qh(i,g);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_n===null||!_n.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Jg(i,a,e);qh(i,b);break e}}i=i.return}while(i!==null)}p0(n)}catch(_){e=_,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function h0(){var t=Yo.current;return Yo.current=Jo,t===null?Jo:t}function Xc(){(ge===0||ge===3||ge===2)&&(ge=4),be===null||!(or&268435455)&&!(ja&268435455)||fn(be,je)}function Zo(t,e){var n=W;W|=2;var r=h0();(be!==t||je!==e)&&(Ft=null,er(t,e));do try{Yb();break}catch(s){d0(t,s)}while(!0);if(Ic(),W=n,Yo.current=r,fe!==null)throw Error(E(261));return be=null,je=0,ge}function Yb(){for(;fe!==null;)f0(fe)}function Qb(){for(;fe!==null&&!_w();)f0(fe)}function f0(t){var e=g0(t.alternate,t,Ge);t.memoizedProps=t.pendingProps,e===null?p0(t):fe=e,qc.current=null}function p0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Wb(n,e),n!==null){n.flags&=32767,fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ge=6,fe=null;return}}else if(n=zb(n,e,Ge),n!==null){fe=n;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);ge===0&&(ge=5)}function Fn(t,e,n){var r=K,s=ft.transition;try{ft.transition=null,K=1,Xb(t,e,n,r)}finally{ft.transition=s,K=r}return null}function Xb(t,e,n,r){do Kr();while(gn!==null);if(W&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Nw(t,i),t===be&&(fe=be=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eo||(eo=!0,y0(Io,function(){return Kr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ft.transition,ft.transition=null;var o=K;K=1;var a=W;W|=4,qc.current=null,Kb(t,n),l0(n,t),vb(uu),Lo=!!lu,uu=lu=null,t.current=n,qb(n),kw(),W=a,K=o,ft.transition=i}else t.current=n;if(eo&&(eo=!1,gn=t,Xo=s),i=t.pendingLanes,i===0&&(_n=null),Cw(n.stateNode),Ke(t,de()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qo)throw Qo=!1,t=Pu,Pu=null,t;return Xo&1&&t.tag!==0&&Kr(),i=t.pendingLanes,i&1?t===Au?Fs++:(Fs=0,Au=t):Fs=0,Rn(),null}function Kr(){if(gn!==null){var t=Gm(Xo),e=ft.transition,n=K;try{if(ft.transition=null,K=16>t?16:t,gn===null)var r=!1;else{if(t=gn,gn=null,Xo=0,W&6)throw Error(E(331));var s=W;for(W|=4,R=t.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Vs(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var f=d.sibling,p=d.return;if(i0(d),d===u){R=null;break}if(f!==null){f.return=p,R=f;break}R=p}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vs(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var m=t.current;for(R=m;R!==null;){o=R;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,R=y;else e:for(o=m;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sa(9,a)}}catch(_){ue(a,a.return,_)}if(a===o){R=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,R=b;break e}R=a.return}}if(W=s,Rn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(ga,t)}catch{}r=!0}return r}finally{K=n,ft.transition=e}}return!1}function mf(t,e,n){e=es(n,e),e=Gg(t,e,1),t=bn(t,e,1),e=Le(),t!==null&&(_i(t,1,e),Ke(t,e))}function ue(t,e,n){if(t.tag===3)mf(t,t,n);else for(;e!==null;){if(e.tag===3){mf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){t=es(n,t),t=Jg(e,t,1),e=bn(e,t,1),t=Le(),e!==null&&(_i(e,1,t),Ke(e,t));break}}e=e.return}}function Zb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Le(),t.pingedLanes|=t.suspendedLanes&n,be===t&&(je&n)===n&&(ge===4||ge===3&&(je&130023424)===je&&500>de()-Jc?er(t,0):Gc|=n),Ke(t,e)}function m0(t,e){e===0&&(t.mode&1?(e=Wi,Wi<<=1,!(Wi&130023424)&&(Wi=4194304)):e=1);var n=Le();t=Xt(t,e),t!==null&&(_i(t,e,n),Ke(t,n))}function e_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),m0(t,n)}function t_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),m0(t,n)}var g0;g0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||We.current)ze=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ze=!1,Fb(t,e,n);ze=!!(t.flags&131072)}else ze=!1,ne&&e.flags&1048576&&wg(e,zo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;So(t,e),t=e.pendingProps;var s=Yr(e,Ne.current);Hr(e,n),s=Fc(null,e,r,t,s,n);var i=zc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,He(r)?(i=!0,Bo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mc(e),s.updater=ka,e.stateNode=s,s._reactInternals=e,vu(e,r,t,n),e=bu(null,e,r,!0,i,n)):(e.tag=0,ne&&i&&Ac(e),Ie(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(So(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=r_(r),t=wt(r,t),s){case 0:e=wu(null,e,r,t,n);break e;case 1:e=sf(null,e,r,t,n);break e;case 11:e=nf(null,e,r,t,n);break e;case 14:e=rf(null,e,r,wt(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wt(r,s),wu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wt(r,s),sf(t,e,r,s,n);case 3:e:{if(Zg(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Cg(t,e),Ko(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=es(Error(E(423)),e),e=of(t,e,r,n,s);break e}else if(r!==s){s=es(Error(E(424)),e),e=of(t,e,r,n,s);break e}else for(Qe=wn(e.stateNode.containerInfo.firstChild),Xe=e,ne=!0,St=null,n=Sg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qr(),r===s){e=Zt(t,e,n);break e}Ie(t,e,r,n)}e=e.child}return e;case 5:return Eg(e),t===null&&mu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,cu(r,s)?o=null:i!==null&&cu(r,i)&&(e.flags|=32),Xg(t,e),Ie(t,e,o,n),e.child;case 6:return t===null&&mu(e),null;case 13:return e0(t,e,n);case 4:return $c(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xr(e,null,r,n):Ie(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wt(r,s),nf(t,e,r,s,n);case 7:return Ie(t,e,e.pendingProps,n),e.child;case 8:return Ie(t,e,e.pendingProps.children,n),e.child;case 12:return Ie(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,J(Wo,r._currentValue),r._currentValue=o,i!==null)if(Tt(i.value,o)){if(i.children===s.children&&!We.current){e=Zt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=qt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),gu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ie(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Hr(e,n),s=pt(s),r=r(s),e.flags|=1,Ie(t,e,r,n),e.child;case 14:return r=e.type,s=wt(r,e.pendingProps),s=wt(r.type,s),rf(t,e,r,s,n);case 15:return Yg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wt(r,s),So(t,e),e.tag=1,He(r)?(t=!0,Bo(e)):t=!1,Hr(e,n),qg(e,r,s),vu(e,r,s,n),bu(null,e,r,!0,t,n);case 19:return t0(t,e,n);case 22:return Qg(t,e,n)}throw Error(E(156,e.tag))};function y0(t,e){return Wm(t,e)}function n_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(t,e,n,r){return new n_(t,e,n,r)}function Zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r_(t){if(typeof t=="function")return Zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vc)return 11;if(t===xc)return 14}return 2}function Sn(t,e){var n=t.alternate;return n===null?(n=dt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Eo(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Zc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jr:return tr(n.children,s,i,e);case yc:o=8,s|=8;break;case Fl:return t=dt(12,n,e,s|2),t.elementType=Fl,t.lanes=i,t;case zl:return t=dt(13,n,e,s),t.elementType=zl,t.lanes=i,t;case Wl:return t=dt(19,n,e,s),t.elementType=Wl,t.lanes=i,t;case Em:return Ca(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jm:o=10;break e;case Cm:o=9;break e;case vc:o=11;break e;case xc:o=14;break e;case cn:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=dt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function tr(t,e,n,r){return t=dt(7,t,r,e),t.lanes=n,t}function Ca(t,e,n,r){return t=dt(22,t,r,e),t.elementType=Em,t.lanes=n,t.stateNode={isHidden:!1},t}function yl(t,e,n){return t=dt(6,t,null,e),t.lanes=n,t}function vl(t,e,n){return e=dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function s_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xa(0),this.expirationTimes=Xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ed(t,e,n,r,s,i,o,a,l){return t=new s_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=dt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mc(i),t}function i_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function v0(t){if(!t)return Cn;t=t._reactInternals;e:{if(cr(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(He(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(He(n))return vg(t,n,e)}return e}function x0(t,e,n,r,s,i,o,a,l){return t=ed(n,r,!0,t,s,i,o,a,l),t.context=v0(null),n=t.current,r=Le(),s=kn(n),i=qt(r,s),i.callback=e??null,bn(n,i,s),t.current.lanes=s,_i(t,s,r),Ke(t,r),t}function Ea(t,e,n,r){var s=e.current,i=Le(),o=kn(s);return n=v0(n),e.context===null?e.context=n:e.pendingContext=n,e=qt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bn(s,e,o),t!==null&&(Ct(t,s,o,i),bo(t,s,o)),o}function ea(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function td(t,e){gf(t,e),(t=t.alternate)&&gf(t,e)}function o_(){return null}var w0=typeof reportError=="function"?reportError:function(t){console.error(t)};function nd(t){this._internalRoot=t}Ta.prototype.render=nd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Ea(t,e,null,null)};Ta.prototype.unmount=nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ar(function(){Ea(null,t,null,null)}),e[Qt]=null}};function Ta(t){this._internalRoot=t}Ta.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hn.length&&e!==0&&e<hn[n].priority;n++);hn.splice(n,0,t),n===0&&Zm(t)}};function rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yf(){}function a_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ea(o);i.call(u)}}var o=x0(e,r,t,0,null,!1,!1,"",yf);return t._reactRootContainer=o,t[Qt]=o.current,ri(t.nodeType===8?t.parentNode:t),ar(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ea(l);a.call(u)}}var l=ed(t,0,!1,null,null,!1,!1,"",yf);return t._reactRootContainer=l,t[Qt]=l.current,ri(t.nodeType===8?t.parentNode:t),ar(function(){Ea(e,l,n,r)}),l}function Aa(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ea(o);a.call(l)}}Ea(e,o,t,s)}else o=a_(n,e,t,s,r);return ea(o)}Jm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ts(e.pendingLanes);n!==0&&(_c(e,n|1),Ke(e,de()),!(W&6)&&(ts=de()+500,Rn()))}break;case 13:ar(function(){var r=Xt(t,1);if(r!==null){var s=Le();Ct(r,t,1,s)}}),td(t,1)}};kc=function(t){if(t.tag===13){var e=Xt(t,134217728);if(e!==null){var n=Le();Ct(e,t,134217728,n)}td(t,134217728)}};Ym=function(t){if(t.tag===13){var e=kn(t),n=Xt(t,e);if(n!==null){var r=Le();Ct(n,t,e,r)}td(t,e)}};Qm=function(){return K};Xm=function(t,e){var n=K;try{return K=t,e()}finally{K=n}};eu=function(t,e,n){switch(e){case"input":if(ql(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wa(r);if(!s)throw Error(E(90));Pm(r),ql(r,s)}}}break;case"textarea":Rm(t,n);break;case"select":e=n.value,e!=null&&Br(t,!!n.multiple,e,!1)}};$m=Yc;Um=ar;var l_={usingClientEntryPoint:!1,Events:[Si,Pr,wa,Lm,Mm,Yc]},Ss={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u_={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fm(t),t===null?null:t.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||o_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{ga=to.inject(u_),Ot=to}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_;nt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rd(e))throw Error(E(200));return i_(t,e,null,n)};nt.createRoot=function(t,e){if(!rd(t))throw Error(E(299));var n=!1,r="",s=w0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ed(t,1,!1,null,null,n,!1,r,s),t[Qt]=e.current,ri(t.nodeType===8?t.parentNode:t),new nd(e)};nt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Fm(e),t=t===null?null:t.stateNode,t};nt.flushSync=function(t){return ar(t)};nt.hydrate=function(t,e,n){if(!Pa(e))throw Error(E(200));return Aa(null,t,e,!0,n)};nt.hydrateRoot=function(t,e,n){if(!rd(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=w0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=x0(e,null,t,1,n??null,s,!1,i,o),t[Qt]=e.current,ri(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ta(e)};nt.render=function(t,e,n){if(!Pa(e))throw Error(E(200));return Aa(null,t,e,!1,n)};nt.unmountComponentAtNode=function(t){if(!Pa(t))throw Error(E(40));return t._reactRootContainer?(ar(function(){Aa(null,null,t,!1,function(){t._reactRootContainer=null,t[Qt]=null})}),!0):!1};nt.unstable_batchedUpdates=Yc;nt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pa(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Aa(t,e,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function b0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b0)}catch(t){console.error(t)}}b0(),bm.exports=nt;var c_=bm.exports,_0,vf=c_;_0=vf.createRoot,vf.hydrateRoot;function d_({className:t="",...e}){return c.jsx("div",{className:`rounded-2xl border brand-surface ${t}`,...e})}function h_({className:t="",...e}){return c.jsx("div",{className:`p-5 ${t}`,...e})}const sd=S.createContext({});function id(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ra=S.createContext(null),od=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class f_ extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function p_({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=S.useContext(od);return S.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),c.jsx(f_,{isPresent:e,childRef:r,sizeRef:s,children:S.cloneElement(t,{ref:r})})}const m_=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=id(g_),l=S.useId(),u=S.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=S.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),u]:[n,u]);return S.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=c.jsx(p_,{isPresent:n,children:t})),c.jsx(Ra.Provider,{value:d,children:t})};function g_(){return new Map}function k0(t=!0){const e=S.useContext(Ra);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=S.useId();S.useEffect(()=>{t&&s(i)},[t]);const o=S.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const no=t=>t.key||"";function xf(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const ad=typeof window<"u",S0=ad?S.useLayoutEffect:S.useEffect,Pt=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=k0(o),u=S.useMemo(()=>xf(t),[t]),d=o&&!a?[]:u.map(no),h=S.useRef(!0),f=S.useRef(u),p=id(()=>new Map),[v,w]=S.useState(u),[x,g]=S.useState(u);S0(()=>{h.current=!1,f.current=u;for(let b=0;b<x.length;b++){const _=no(x[b]);d.includes(_)?p.delete(_):p.get(_)!==!0&&p.set(_,!1)}},[x,d.length,d.join("-")]);const m=[];if(u!==v){let b=[...u];for(let _=0;_<x.length;_++){const k=x[_],C=no(k);d.includes(C)||(b.splice(_,0,k),m.push(k))}i==="wait"&&m.length&&(b=m),g(xf(b)),w(u);return}const{forceRender:y}=S.useContext(sd);return c.jsx(c.Fragment,{children:x.map(b=>{const _=no(b),k=o&&!a?!1:u===x||d.includes(_),C=()=>{if(p.has(_))p.set(_,!0);else return;let j=!0;p.forEach(A=>{A||(j=!1)}),j&&(y==null||y(),g(f.current),o&&(l==null||l()),r&&r())};return c.jsx(m_,{isPresent:k,initial:!h.current||n?void 0:!1,custom:k?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:k?void 0:C,children:b},_)})})},Ze=t=>t;let j0=Ze;function ld(t){let e;return()=>(e===void 0&&(e=t()),e)}const ns=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Gt=t=>t*1e3,Jt=t=>t/1e3,y_={useManualTiming:!1};function v_(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const p=h&&r?e:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(u))}};return l}const ro=["read","resolveKeyframes","update","preRender","render","postRender"],x_=40;function C0(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ro.reduce((g,m)=>(g[m]=v_(i),g),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=o,p=()=>{const g=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,x_),1),s.timestamp=g,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},v=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:ro.reduce((g,m)=>{const y=o[m];return g[m]=(b,_=!1,k=!1)=>(n||v(),y.schedule(b,_,k)),g},{}),cancel:g=>{for(let m=0;m<ro.length;m++)o[ro[m]].cancel(g)},state:s,steps:o}}const{schedule:Z,cancel:En,state:Se,steps:xl}=C0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ze,!0),E0=S.createContext({strict:!1}),wf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rs={};for(const t in wf)rs[t]={isEnabled:e=>wf[t].some(n=>!!e[n])};function w_(t){for(const e in t)rs[e]={...rs[e],...t[e]}}const b_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ta(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||b_.has(t)}let T0=t=>!ta(t);function __(t){t&&(T0=e=>e.startsWith("on")?!ta(e):t(e))}try{__(require("@emotion/is-prop-valid").default)}catch{}function k_(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(T0(s)||n===!0&&ta(s)||!e&&!ta(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function S_(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Na=S.createContext({});function hi(t){return typeof t=="string"||Array.isArray(t)}function Oa(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ud=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cd=["initial",...ud];function Ia(t){return Oa(t.animate)||cd.some(e=>hi(t[e]))}function P0(t){return!!(Ia(t)||t.variants)}function j_(t,e){if(Ia(t)){const{initial:n,animate:r}=t;return{initial:n===!1||hi(n)?n:void 0,animate:hi(r)?r:void 0}}return t.inherit!==!1?e:{}}function C_(t){const{initial:e,animate:n}=j_(t,S.useContext(Na));return S.useMemo(()=>({initial:e,animate:n}),[bf(e),bf(n)])}function bf(t){return Array.isArray(t)?t.join(" "):t}const E_=Symbol.for("motionComponentSymbol");function Lr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function T_(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Lr(n)&&(n.current=r))},[e])}const dd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),P_="framerAppearId",A0="data-"+dd(P_),{schedule:hd}=C0(queueMicrotask,!1),R0=S.createContext({});function A_(t,e,n,r,s){var i,o;const{visualElement:a}=S.useContext(Na),l=S.useContext(E0),u=S.useContext(Ra),d=S.useContext(od).reducedMotion,h=S.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=S.useContext(R0);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&R_(h.current,n,s,p);const v=S.useRef(!1);S.useInsertionEffect(()=>{f&&v.current&&f.update(n,u)});const w=n[A0],x=S.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return S0(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),hd.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,w)}),x.current=!1))}),f}function R_(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:N0(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Lr(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function N0(t){if(t)return t.options.allowProjection!==!1?t.projection:N0(t.parent)}function N_({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&w_(t);function a(u,d){let h;const f={...S.useContext(od),...u,layoutId:O_(u)},{isStatic:p}=f,v=C_(u),w=r(u,p);if(!p&&ad){I_();const x=D_(f);h=x.MeasureLayout,v.visualElement=A_(s,w,f,e,x.ProjectionNode)}return c.jsxs(Na.Provider,{value:v,children:[h&&v.visualElement?c.jsx(h,{visualElement:v.visualElement,...f}):null,n(s,u,T_(w,v.visualElement,d),w,p,v.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=S.forwardRef(a);return l[E_]=s,l}function O_({layoutId:t}){const e=S.useContext(sd).id;return e&&t!==void 0?e+"-"+t:t}function I_(t,e){S.useContext(E0).strict}function D_(t){const{drag:e,layout:n}=rs;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const L_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fd(t){return typeof t!="string"||t.includes("-")?!1:!!(L_.indexOf(t)>-1||/[A-Z]/u.test(t))}function _f(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function pd(t,e,n,r){if(typeof e=="function"){const[s,i]=_f(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=_f(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Ou=t=>Array.isArray(t),M_=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),$_=t=>Ou(t)?t[t.length-1]||0:t,Re=t=>!!(t&&t.getVelocity);function To(t){const e=Re(t)?t.get():t;return M_(e)?e.toValue():e}function U_({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:V_(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const O0=t=>(e,n)=>{const r=S.useContext(Na),s=S.useContext(Ra),i=()=>U_(t,e,r,s);return n?i():id(i)};function V_(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=To(i[f]);let{initial:o,animate:a}=t;const l=Ia(t),u=P0(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Oa(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const v=pd(t,f[p]);if(v){const{transitionEnd:w,transition:x,...g}=v;for(const m in g){let y=g[m];if(Array.isArray(y)){const b=d?y.length-1:0;y=y[b]}y!==null&&(s[m]=y)}for(const m in w)s[m]=w[m]}}}return s}const cs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dr=new Set(cs),I0=t=>e=>typeof e=="string"&&e.startsWith(t),D0=I0("--"),B_=I0("var(--"),md=t=>B_(t)?F_.test(t.split("/*")[0].trim()):!1,F_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,L0=(t,e)=>e&&typeof t=="number"?e.transform(t):t,en=(t,e,n)=>n>e?e:n<t?t:n,ds={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fi={...ds,transform:t=>en(0,1,t)},so={...ds,default:1},Ci=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),un=Ci("deg"),Dt=Ci("%"),U=Ci("px"),z_=Ci("vh"),W_=Ci("vw"),kf={...Dt,parse:t=>Dt.parse(t)/100,transform:t=>Dt.transform(t*100)},H_={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U},K_={rotate:un,rotateX:un,rotateY:un,rotateZ:un,scale:so,scaleX:so,scaleY:so,scaleZ:so,skew:un,skewX:un,skewY:un,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:fi,originX:kf,originY:kf,originZ:U},Sf={...ds,transform:Math.round},gd={...H_,...K_,zIndex:Sf,size:U,fillOpacity:fi,strokeOpacity:fi,numOctaves:Sf},q_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G_=cs.length;function J_(t,e,n){let r="",s=!0;for(let i=0;i<G_;i++){const o=cs[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=L0(a,gd[o]);if(!l){s=!1;const d=q_[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function yd(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(dr.has(l)){o=!0;continue}else if(D0(l)){s[l]=u;continue}else{const d=L0(u,gd[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=J_(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const Y_={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q_={offset:"strokeDashoffset",array:"strokeDasharray"};function X_(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Y_:Q_;t[i.offset]=U.transform(-r);const o=U.transform(e),a=U.transform(n);t[i.array]=`${o} ${a}`}function jf(t,e,n){return typeof t=="string"?t:U.transform(e+n*t)}function Z_(t,e,n){const r=jf(e,t.x,t.width),s=jf(n,t.y,t.height);return`${r} ${s}`}function vd(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(yd(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:v}=t;f.transform&&(v&&(p.transform=f.transform),delete f.transform),v&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=Z_(v,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&X_(f,o,a,l,!1)}const xd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),M0=()=>({...xd(),attrs:{}}),wd=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $0(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const U0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V0(t,e,n,r){$0(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(U0.has(s)?s:dd(s),e.attrs[s])}const na={};function e1(t){Object.assign(na,t)}function B0(t,{layout:e,layoutId:n}){return dr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!na[t]||t==="opacity")}function bd(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Re(s[o])||e.style&&Re(e.style[o])||B0(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function F0(t,e,n){const r=bd(t,e,n);for(const s in t)if(Re(t[s])||Re(e[s])){const i=cs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function t1(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Cf=["x","y","width","height","cx","cy","r"],n1={useVisualState:O0({scrapeMotionValuesFromProps:F0,createRenderState:M0,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(dr.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<Cf.length;a++){const l=Cf[a];t[l]!==e[l]&&(o=!0)}o&&Z.read(()=>{t1(n,r),Z.render(()=>{vd(r,s,wd(n.tagName),t.transformTemplate),V0(n,r)})})}})},r1={useVisualState:O0({scrapeMotionValuesFromProps:bd,createRenderState:xd})};function z0(t,e,n){for(const r in e)!Re(e[r])&&!B0(r,n)&&(t[r]=e[r])}function s1({transformTemplate:t},e){return S.useMemo(()=>{const n=xd();return yd(n,e,t),Object.assign({},n.vars,n.style)},[e])}function i1(t,e){const n=t.style||{},r={};return z0(r,n,t),Object.assign(r,s1(t,e)),r}function o1(t,e){const n={},r=i1(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function a1(t,e,n,r){const s=S.useMemo(()=>{const i=M0();return vd(i,e,wd(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};z0(i,t.style,t),s.style={...i,...s.style}}return s}function l1(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(fd(n)?a1:o1)(r,i,o,n),u=k_(r,typeof n=="string",t),d=n!==S.Fragment?{...u,...l,ref:s}:{},{children:h}=r,f=S.useMemo(()=>Re(h)?h.get():h,[h]);return S.createElement(n,{...d,children:f})}}function u1(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...fd(r)?n1:r1,preloadedFeatures:t,useRender:l1(s),createVisualElement:e,Component:r};return N_(o)}}function W0(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Da(t,e,n){const r=t.getProps();return pd(r,e,n!==void 0?n:r.custom,t)}const c1=ld(()=>window.ScrollTimeline!==void 0);class d1{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(c1()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class h1 extends d1{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function _d(t,e){return t?t[e]||t.default||t:void 0}const Iu=2e4;function H0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Iu;)e+=n,r=t.next(e);return e>=Iu?1/0:e}function kd(t){return typeof t=="function"}function Ef(t,e){t.timeline=e,t.onfinish=null}const Sd=t=>Array.isArray(t)&&typeof t[0]=="number",f1={linearEasing:void 0};function p1(t,e){const n=ld(t);return()=>{var r;return(r=f1[e])!==null&&r!==void 0?r:n()}}const ra=p1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),K0=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(ns(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function q0(t){return!!(typeof t=="function"&&ra()||!t||typeof t=="string"&&(t in Du||ra())||Sd(t)||Array.isArray(t)&&t.every(q0))}const As=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Du={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:As([0,.65,.55,1]),circOut:As([.55,0,1,.45]),backIn:As([.31,.01,.66,-.59]),backOut:As([.33,1.53,.69,.99])};function G0(t,e){if(t)return typeof t=="function"&&ra()?K0(t,e):Sd(t)?As(t):Array.isArray(t)?t.map(n=>G0(n,e)||Du.easeOut):Du[t]}const xt={x:!1,y:!1};function J0(){return xt.x||xt.y}function m1(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function Y0(t,e){const n=m1(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Tf(t){return e=>{e.pointerType==="touch"||J0()||t(e)}}function g1(t,e,n={}){const[r,s,i]=Y0(t,n),o=Tf(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const d=Tf(h=>{u(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Q0=(t,e)=>e?t===e?!0:Q0(t,e.parentElement):!1,jd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,y1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function v1(t){return y1.has(t.tagName)||t.tabIndex!==-1}const Rs=new WeakSet;function Pf(t){return e=>{e.key==="Enter"&&t(e)}}function wl(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const x1=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Pf(()=>{if(Rs.has(n))return;wl(n,"down");const s=Pf(()=>{wl(n,"up")}),i=()=>wl(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Af(t){return jd(t)&&!J0()}function w1(t,e,n={}){const[r,s,i]=Y0(t,n),o=a=>{const l=a.currentTarget;if(!Af(a)||Rs.has(l))return;Rs.add(l);const u=e(a),d=(p,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Af(p)||!Rs.has(l))&&(Rs.delete(l),typeof u=="function"&&u(p,{success:v}))},h=p=>{d(p,n.useGlobalTarget||Q0(l,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!v1(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>x1(u,s),s)}),i}function b1(t){return t==="x"||t==="y"?xt[t]?null:(xt[t]=!0,()=>{xt[t]=!1}):xt.x||xt.y?null:(xt.x=xt.y=!0,()=>{xt.x=xt.y=!1})}const X0=new Set(["width","height","top","left","right","bottom",...cs]);let Po;function _1(){Po=void 0}const Lt={now:()=>(Po===void 0&&Lt.set(Se.isProcessing||y_.useManualTiming?Se.timestamp:performance.now()),Po),set:t=>{Po=t,queueMicrotask(_1)}};function Cd(t,e){t.indexOf(e)===-1&&t.push(e)}function Ed(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Td{constructor(){this.subscriptions=[]}add(e){return Cd(this.subscriptions,e),()=>Ed(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Z0(t,e){return e?t*(1e3/e):0}const Rf=30,k1=t=>!isNaN(parseFloat(t));class S1{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Lt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Lt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=k1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Td);const r=this.events[e].add(n);return e==="change"?()=>{r(),Z.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Rf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rf);return Z0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pi(t,e){return new S1(t,e)}function j1(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,pi(n))}function C1(t,e){const n=Da(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=$_(i[o]);j1(t,o,a)}}function E1(t){return!!(Re(t)&&t.add)}function Lu(t,e){const n=t.getValue("willChange");if(E1(n))return n.add(e)}function ey(t){return t.props[A0]}const ty=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,T1=1e-7,P1=12;function A1(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=ty(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>T1&&++a<P1);return o}function Ei(t,e,n,r){if(t===e&&n===r)return Ze;const s=i=>A1(i,0,1,t,n);return i=>i===0||i===1?i:ty(s(i),e,r)}const ny=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ry=t=>e=>1-t(1-e),sy=Ei(.33,1.53,.69,.99),Pd=ry(sy),iy=ny(Pd),oy=t=>(t*=2)<1?.5*Pd(t):.5*(2-Math.pow(2,-10*(t-1))),Ad=t=>1-Math.sin(Math.acos(t)),ay=ry(Ad),ly=ny(Ad),uy=t=>/^0[^.\s]+$/u.test(t);function R1(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uy(t):!0}const zs=t=>Math.round(t*1e5)/1e5,Rd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function N1(t){return t==null}const O1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nd=(t,e)=>n=>!!(typeof n=="string"&&O1.test(n)&&n.startsWith(t)||e&&!N1(n)&&Object.prototype.hasOwnProperty.call(n,e)),cy=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Rd);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},I1=t=>en(0,255,t),bl={...ds,transform:t=>Math.round(I1(t))},Xn={test:Nd("rgb","red"),parse:cy("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bl.transform(t)+", "+bl.transform(e)+", "+bl.transform(n)+", "+zs(fi.transform(r))+")"};function D1(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Mu={test:Nd("#"),parse:D1,transform:Xn.transform},Mr={test:Nd("hsl","hue"),parse:cy("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Dt.transform(zs(e))+", "+Dt.transform(zs(n))+", "+zs(fi.transform(r))+")"},Pe={test:t=>Xn.test(t)||Mu.test(t)||Mr.test(t),parse:t=>Xn.test(t)?Xn.parse(t):Mr.test(t)?Mr.parse(t):Mu.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xn.transform(t):Mr.transform(t)},L1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M1(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Rd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(L1))===null||n===void 0?void 0:n.length)||0)>0}const dy="number",hy="color",$1="var",U1="var(",Nf="${}",V1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mi(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(V1,l=>(Pe.test(l)?(r.color.push(i),s.push(hy),n.push(Pe.parse(l))):l.startsWith(U1)?(r.var.push(i),s.push($1),n.push(l)):(r.number.push(i),s.push(dy),n.push(parseFloat(l))),++i,Nf)).split(Nf);return{values:n,split:a,indexes:r,types:s}}function fy(t){return mi(t).values}function py(t){const{split:e,types:n}=mi(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===dy?i+=zs(s[o]):a===hy?i+=Pe.transform(s[o]):i+=s[o]}return i}}const B1=t=>typeof t=="number"?0:t;function F1(t){const e=fy(t);return py(t)(e.map(B1))}const Tn={test:M1,parse:fy,createTransformer:py,getAnimatableNone:F1},z1=new Set(["brightness","contrast","saturate","opacity"]);function W1(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Rd)||[];if(!r)return t;const s=n.replace(r,"");let i=z1.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const H1=/\b([a-z-]*)\(.*?\)/gu,$u={...Tn,getAnimatableNone:t=>{const e=t.match(H1);return e?e.map(W1).join(" "):t}},K1={...gd,color:Pe,backgroundColor:Pe,outlineColor:Pe,fill:Pe,stroke:Pe,borderColor:Pe,borderTopColor:Pe,borderRightColor:Pe,borderBottomColor:Pe,borderLeftColor:Pe,filter:$u,WebkitFilter:$u},Od=t=>K1[t];function my(t,e){let n=Od(t);return n!==$u&&(n=Tn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const q1=new Set(["auto","none","0"]);function G1(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!q1.has(i)&&mi(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=my(n,s)}const Of=t=>t===ds||t===U,If=(t,e)=>parseFloat(t.split(", ")[e]),Df=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return If(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?If(i[1],t):0}},J1=new Set(["x","y","z"]),Y1=cs.filter(t=>!J1.has(t));function Q1(t){const e=[];return Y1.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ss={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Df(4,13),y:Df(5,14)};ss.translateX=ss.x;ss.translateY=ss.y;const nr=new Set;let Uu=!1,Vu=!1;function gy(){if(Vu){const t=Array.from(nr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Q1(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Vu=!1,Uu=!1,nr.forEach(t=>t.complete()),nr.clear()}function yy(){nr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Vu=!0)})}function X1(){yy(),gy()}class Id{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(nr.add(this),Uu||(Uu=!0,Z.read(yy),Z.resolveKeyframes(gy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),nr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,nr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const vy=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Z1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ek(t){const e=Z1.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function xy(t,e,n=1){const[r,s]=ek(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return vy(o)?parseFloat(o):o}return md(s)?xy(s,e,n+1):s}const wy=t=>e=>e.test(t),tk={test:t=>t==="auto",parse:t=>t},by=[ds,U,Dt,un,W_,z_,tk],Lf=t=>by.find(wy(t));class _y extends Id{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),md(u))){const d=xy(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!X0.has(r)||e.length!==2)return;const[s,i]=e,o=Lf(s),a=Lf(i);if(o!==a)if(Of(o)&&Of(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)R1(e[s])&&r.push(s);r.length&&G1(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ss[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=ss[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const Mf=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Tn.test(t)||t==="0")&&!t.startsWith("url("));function nk(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function rk(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Mf(s,e),a=Mf(i,e);return!o||!a?!1:nk(t)||(n==="spring"||kd(n))&&r}const sk=t=>t!==null;function La(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(sk),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const ik=40;class ky{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lt.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ik?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&X1(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Lt.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!rk(e,r,s,i))if(o)this.options.duration=0;else{l&&l(La(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ie=(t,e,n)=>t+(e-t)*n;function _l(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ok({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=_l(l,a,t+1/3),i=_l(l,a,t),o=_l(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function sa(t,e){return n=>n>0?e:t}const kl=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},ak=[Mu,Xn,Mr],lk=t=>ak.find(e=>e.test(t));function $f(t){const e=lk(t);if(!e)return!1;let n=e.parse(t);return e===Mr&&(n=ok(n)),n}const Uf=(t,e)=>{const n=$f(t),r=$f(e);if(!n||!r)return sa(t,e);const s={...n};return i=>(s.red=kl(n.red,r.red,i),s.green=kl(n.green,r.green,i),s.blue=kl(n.blue,r.blue,i),s.alpha=ie(n.alpha,r.alpha,i),Xn.transform(s))},uk=(t,e)=>n=>e(t(n)),Ti=(...t)=>t.reduce(uk),Bu=new Set(["none","hidden"]);function ck(t,e){return Bu.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function dk(t,e){return n=>ie(t,e,n)}function Dd(t){return typeof t=="number"?dk:typeof t=="string"?md(t)?sa:Pe.test(t)?Uf:pk:Array.isArray(t)?Sy:typeof t=="object"?Pe.test(t)?Uf:hk:sa}function Sy(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Dd(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function hk(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Dd(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function fk(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const pk=(t,e)=>{const n=Tn.createTransformer(e),r=mi(t),s=mi(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Bu.has(t)&&!s.values.length||Bu.has(e)&&!r.values.length?ck(t,e):Ti(Sy(fk(r,s),s.values),n):sa(t,e)};function jy(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ie(t,e,n):Dd(t)(t,e)}const mk=5;function Cy(t,e,n){const r=Math.max(e-mk,0);return Z0(n-t(r),e-r)}const le={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sl=.001;function gk({duration:t=le.duration,bounce:e=le.bounce,velocity:n=le.velocity,mass:r=le.mass}){let s,i,o=1-e;o=en(le.minDamping,le.maxDamping,o),t=en(le.minDuration,le.maxDuration,Jt(t)),o<1?(s=u=>{const d=u*o,h=d*t,f=d-n,p=Fu(u,o),v=Math.exp(-h);return Sl-f/p*v},i=u=>{const h=u*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-h),w=Fu(Math.pow(u,2),o);return(-s(u)+Sl>0?-1:1)*((f-p)*v)/w}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Sl+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=vk(s,i,a);if(t=Gt(t),isNaN(l))return{stiffness:le.stiffness,damping:le.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const yk=12;function vk(t,e,n){let r=n;for(let s=1;s<yk;s++)r=r-t(r)/e(r);return r}function Fu(t,e){return t*Math.sqrt(1-e*e)}const xk=["duration","bounce"],wk=["stiffness","damping","mass"];function Vf(t,e){return e.some(n=>t[n]!==void 0)}function bk(t){let e={velocity:le.velocity,stiffness:le.stiffness,damping:le.damping,mass:le.mass,isResolvedFromDuration:!1,...t};if(!Vf(t,wk)&&Vf(t,xk))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*en(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:le.mass,stiffness:s,damping:i}}else{const n=gk(t);e={...e,...n,mass:le.mass},e.isResolvedFromDuration=!0}return e}function Ey(t=le.visualDuration,e=le.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=bk({...n,velocity:-Jt(n.velocity||0)}),v=f||0,w=u/(2*Math.sqrt(l*d)),x=o-i,g=Jt(Math.sqrt(l/d)),m=Math.abs(x)<5;r||(r=m?le.restSpeed.granular:le.restSpeed.default),s||(s=m?le.restDelta.granular:le.restDelta.default);let y;if(w<1){const _=Fu(g,w);y=k=>{const C=Math.exp(-w*g*k);return o-C*((v+w*g*x)/_*Math.sin(_*k)+x*Math.cos(_*k))}}else if(w===1)y=_=>o-Math.exp(-g*_)*(x+(v+g*x)*_);else{const _=g*Math.sqrt(w*w-1);y=k=>{const C=Math.exp(-w*g*k),j=Math.min(_*k,300);return o-C*((v+w*g*x)*Math.sinh(j)+_*x*Math.cosh(j))/_}}const b={calculatedDuration:p&&h||null,next:_=>{const k=y(_);if(p)a.done=_>=h;else{let C=0;w<1&&(C=_===0?Gt(v):Cy(y,_,k));const j=Math.abs(C)<=r,A=Math.abs(o-k)<=s;a.done=j&&A}return a.value=a.done?o:k,a},toString:()=>{const _=Math.min(H0(b),Iu),k=K0(C=>b.next(_*C).value,_,30);return _+"ms "+k}};return b}function Bf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=j=>a!==void 0&&j<a||l!==void 0&&j>l,v=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let w=n*e;const x=h+w,g=o===void 0?x:o(x);g!==x&&(w=g-h);const m=j=>-w*Math.exp(-j/r),y=j=>g+m(j),b=j=>{const A=m(j),N=y(j);f.done=Math.abs(A)<=u,f.value=f.done?g:N};let _,k;const C=j=>{p(f.value)&&(_=j,k=Ey({keyframes:[f.value,v(f.value)],velocity:Cy(y,j,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:j=>{let A=!1;return!k&&_===void 0&&(A=!0,b(j),C(j)),_!==void 0&&j>=_?k.next(j-_):(!A&&b(j),f)}}}const _k=Ei(.42,0,1,1),kk=Ei(0,0,.58,1),Ty=Ei(.42,0,.58,1),Sk=t=>Array.isArray(t)&&typeof t[0]!="number",jk={linear:Ze,easeIn:_k,easeInOut:Ty,easeOut:kk,circIn:Ad,circInOut:ly,circOut:ay,backIn:Pd,backInOut:iy,backOut:sy,anticipate:oy},Ff=t=>{if(Sd(t)){j0(t.length===4);const[e,n,r,s]=t;return Ei(e,n,r,s)}else if(typeof t=="string")return jk[t];return t};function Ck(t,e,n){const r=[],s=n||jy,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ze:e;a=Ti(l,a)}r.push(a)}return r}function Ek(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(j0(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Ck(e,r,s),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=ns(t[h],t[h+1],d);return a[h](f)};return n?d=>u(en(t[0],t[i-1],d)):u}function Tk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ns(0,e,r);t.push(ie(n,1,s))}}function Pk(t){const e=[0];return Tk(e,t.length-1),e}function Ak(t,e){return t.map(n=>n*e)}function Rk(t,e){return t.map(()=>e||Ty).splice(0,t.length-1)}function ia({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Sk(r)?r.map(Ff):Ff(r),i={done:!1,value:e[0]},o=Ak(n&&n.length===e.length?n:Pk(e),t),a=Ek(o,e,{ease:Array.isArray(s)?s:Rk(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const Nk=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Z.update(e,!0),stop:()=>En(e),now:()=>Se.isProcessing?Se.timestamp:Lt.now()}},Ok={decay:Bf,inertia:Bf,tween:ia,keyframes:ia,spring:Ey},Ik=t=>t/100;class Ld extends ky{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Id,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=kd(n)?n:Ok[n]||ia;let l,u;a!==ia&&typeof e[0]!="number"&&(l=Ti(Ik,jy(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=H0(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:v,repeatDelay:w,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),m=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,b=i;if(p){const j=Math.min(this.currentTime,d)/h;let A=Math.floor(j),N=j%1;!N&&j>=1&&(N=1),N===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(v==="reverse"?(N=1-N,w&&(N-=w/h)):v==="mirror"&&(b=o)),y=en(0,1,N)*h}const _=m?{done:!1,value:l[0]}:b.next(y);a&&(_.value=a(_.value));let{done:k}=_;!m&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return C&&s!==void 0&&(_.value=La(l,this.options,s)),x&&x(_.value),C&&this.finish(),_}get duration(){const{resolved:e}=this;return e?Jt(e.calculatedDuration):0}get time(){return Jt(this.currentTime)}set time(e){e=Gt(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Nk,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Dk=new Set(["opacity","clipPath","filter","transform"]);function Lk(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=G0(a,s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const Mk=ld(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oa=10,$k=2e4;function Uk(t){return kd(t.type)||t.type==="spring"||!q0(t.ease)}function Vk(t,e){const n=new Ld({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<$k;)r=n.sample(i),s.push(r.value),i+=oa;return{times:void 0,keyframes:s,duration:i-oa,ease:"linear"}}const Py={anticipate:oy,backInOut:iy,circInOut:ly};function Bk(t){return t in Py}class zf extends ky{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new _y(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&ra()&&Bk(i)&&(i=Py[i]),Uk(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:v,...w}=this.options,x=Vk(e,w);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,s=x.times,i=x.ease,o="keyframes"}const d=Lk(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Ef(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(La(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Jt(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Jt(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Gt(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ze;const{animation:r}=n;Ef(r,e)}return Ze}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,v=new Ld({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),w=Gt(this.time);u.setWithVelocity(v.sample(w-oa).value,v.sample(w).value,oa)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return Mk()&&r&&Dk.has(r)&&!l&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const Fk={type:"spring",stiffness:500,damping:25,restSpeed:10},zk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Wk={type:"keyframes",duration:.8},Hk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kk=(t,{keyframes:e})=>e.length>2?Wk:dr.has(t)?t.startsWith("scale")?zk(e[1]):Fk:Hk;function qk({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Md=(t,e,n,r={},s,i)=>o=>{const a=_d(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Gt(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};qk(a)||(d={...d,...Kk(t,d)}),d.duration&&(d.duration=Gt(d.duration)),d.repeatDelay&&(d.repeatDelay=Gt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=La(d.keyframes,a);if(f!==void 0)return Z.update(()=>{d.onUpdate(f),d.onComplete()}),new h1([])}return!i&&zf.supports(d)?new zf(d):new Ld(d)};function Gk({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ay(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||d&&Gk(d,h))continue;const v={delay:n,..._d(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const g=ey(t);if(g){const m=window.MotionHandoffAnimation(g,h,Z);m!==null&&(v.startTime=m,w=!0)}}Lu(t,h),f.start(Md(h,f,p,t.shouldReduceMotion&&X0.has(h)?{type:!1}:v,t,w));const x=f.animation;x&&u.push(x)}return a&&Promise.all(u).then(()=>{Z.update(()=>{a&&C1(t,a)})}),u}function zu(t,e,n={}){var r;const s=Da(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Ay(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return Jk(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function Jk(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Yk).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(zu(u,e,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Yk(t,e){return t.sortNodePosition(e)}function Qk(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>zu(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=zu(t,e,n);else{const s=typeof e=="function"?Da(t,e,n.custom):e;r=Promise.all(Ay(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Xk=cd.length;function Ry(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ry(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Xk;n++){const r=cd[n],s=t.props[r];(hi(s)||s===!1)&&(e[r]=s)}return e}const Zk=[...ud].reverse(),eS=ud.length;function tS(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Qk(t,n,r)))}function nS(t){let e=tS(t),n=Wf(),r=!0;const s=l=>(u,d)=>{var h;const f=Da(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:v,...w}=f;u={...u,...w,...v}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,d=Ry(t.parent)||{},h=[],f=new Set;let p={},v=1/0;for(let x=0;x<eS;x++){const g=Zk[x],m=n[g],y=u[g]!==void 0?u[g]:d[g],b=hi(y),_=g===l?m.isActive:null;_===!1&&(v=x);let k=y===d[g]&&y!==u[g]&&b;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),m.protectedKeys={...p},!m.isActive&&_===null||!y&&!m.prevProp||Oa(y)||typeof y=="boolean")continue;const C=rS(m.prevProp,y);let j=C||g===l&&m.isActive&&!k&&b||x>v&&b,A=!1;const N=Array.isArray(y)?y:[y];let q=N.reduce(s(g),{});_===!1&&(q={});const{prevResolvedValues:Oe={}}=m,Ue={...Oe,...q},Mt=B=>{j=!0,f.has(B)&&(A=!0,f.delete(B)),m.needsAnimating[B]=!0;const P=t.getValue(B);P&&(P.liveStyle=!1)};for(const B in Ue){const P=q[B],I=Oe[B];if(p.hasOwnProperty(B))continue;let V=!1;Ou(P)&&Ou(I)?V=!W0(P,I):V=P!==I,V?P!=null?Mt(B):f.add(B):P!==void 0&&f.has(B)?Mt(B):m.protectedKeys[B]=!0}m.prevProp=y,m.prevResolvedValues=q,m.isActive&&(p={...p,...q}),r&&t.blockInitialAnimation&&(j=!1),j&&(!(k&&C)||A)&&h.push(...N.map(B=>({animation:B,options:{type:g}})))}if(f.size){const x={};f.forEach(g=>{const m=t.getBaseTarget(g),y=t.getValue(g);y&&(y.liveStyle=!0),x[g]=m??null}),h.push({animation:x})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Wf(),r=!0}}}function rS(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!W0(e,t):!1}function $n(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wf(){return{animate:$n(!0),whileInView:$n(),whileHover:$n(),whileTap:$n(),whileDrag:$n(),whileFocus:$n(),exit:$n()}}class Nn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sS extends Nn{constructor(e){super(e),e.animationState||(e.animationState=nS(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Oa(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let iS=0;class oS extends Nn{constructor(){super(...arguments),this.id=iS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const aS={animation:{Feature:sS},exit:{Feature:oS}};function gi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Pi(t){return{point:{x:t.pageX,y:t.pageY}}}const lS=t=>e=>jd(e)&&t(e,Pi(e));function Ws(t,e,n,r){return gi(t,e,lS(n),r)}const Hf=(t,e)=>Math.abs(t-e);function uS(t,e){const n=Hf(t.x,e.x),r=Hf(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ny{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Cl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=uS(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:v}=h,{timestamp:w}=Se;this.history.push({...v,timestamp:w});const{onStart:x,onMove:g}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=jl(f,this.transformPagePoint),Z.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Cl(h.type==="pointercancel"?this.lastMoveEventInfo:jl(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,x),v&&v(h,x)},!jd(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Pi(e),a=jl(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Se;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Cl(a,this.history)),this.removeListeners=Ti(Ws(this.contextWindow,"pointermove",this.handlePointerMove),Ws(this.contextWindow,"pointerup",this.handlePointerUp),Ws(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),En(this.updatePoint)}}function jl(t,e){return e?{point:e(t.point)}:t}function Kf(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cl({point:t},e){return{point:t,delta:Kf(t,Oy(e)),offset:Kf(t,cS(e)),velocity:dS(e,.1)}}function cS(t){return t[0]}function Oy(t){return t[t.length-1]}function dS(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Oy(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Gt(e)));)n--;if(!r)return{x:0,y:0};const i=Jt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Iy=1e-4,hS=1-Iy,fS=1+Iy,Dy=.01,pS=0-Dy,mS=0+Dy;function tt(t){return t.max-t.min}function gS(t,e,n){return Math.abs(t-e)<=n}function qf(t,e,n,r=.5){t.origin=r,t.originPoint=ie(e.min,e.max,t.origin),t.scale=tt(n)/tt(e),t.translate=ie(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hS&&t.scale<=fS||isNaN(t.scale))&&(t.scale=1),(t.translate>=pS&&t.translate<=mS||isNaN(t.translate))&&(t.translate=0)}function Hs(t,e,n,r){qf(t.x,e.x,n.x,r?r.originX:void 0),qf(t.y,e.y,n.y,r?r.originY:void 0)}function Gf(t,e,n){t.min=n.min+e.min,t.max=t.min+tt(e)}function yS(t,e,n){Gf(t.x,e.x,n.x),Gf(t.y,e.y,n.y)}function Jf(t,e,n){t.min=e.min-n.min,t.max=t.min+tt(e)}function Ks(t,e,n){Jf(t.x,e.x,n.x),Jf(t.y,e.y,n.y)}function vS(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ie(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ie(n,t,r.max):Math.min(t,n)),t}function Yf(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function xS(t,{top:e,left:n,bottom:r,right:s}){return{x:Yf(t.x,n,s),y:Yf(t.y,e,r)}}function Qf(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wS(t,e){return{x:Qf(t.x,e.x),y:Qf(t.y,e.y)}}function bS(t,e){let n=.5;const r=tt(t),s=tt(e);return s>r?n=ns(e.min,e.max-r,t.min):r>s&&(n=ns(t.min,t.max-s,e.min)),en(0,1,n)}function _S(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wu=.35;function kS(t=Wu){return t===!1?t=0:t===!0&&(t=Wu),{x:Xf(t,"left","right"),y:Xf(t,"top","bottom")}}function Xf(t,e,n){return{min:Zf(t,e),max:Zf(t,n)}}function Zf(t,e){return typeof t=="number"?t:t[e]||0}const ep=()=>({translate:0,scale:1,origin:0,originPoint:0}),$r=()=>({x:ep(),y:ep()}),tp=()=>({min:0,max:0}),ce=()=>({x:tp(),y:tp()});function at(t){return[t("x"),t("y")]}function Ly({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function SS({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jS(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function El(t){return t===void 0||t===1}function Hu({scale:t,scaleX:e,scaleY:n}){return!El(t)||!El(e)||!El(n)}function zn(t){return Hu(t)||My(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function My(t){return np(t.x)||np(t.y)}function np(t){return t&&t!=="0%"}function aa(t,e,n){const r=t-n,s=e*r;return n+s}function rp(t,e,n,r,s){return s!==void 0&&(t=aa(t,s,r)),aa(t,n,r)+e}function Ku(t,e=0,n=1,r,s){t.min=rp(t.min,e,n,r,s),t.max=rp(t.max,e,n,r,s)}function $y(t,{x:e,y:n}){Ku(t.x,e.translate,e.scale,e.originPoint),Ku(t.y,n.translate,n.scale,n.originPoint)}const sp=.999999999999,ip=1.0000000000001;function CS(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Vr(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$y(t,o)),r&&zn(i.latestValues)&&Vr(t,i.latestValues))}e.x<ip&&e.x>sp&&(e.x=1),e.y<ip&&e.y>sp&&(e.y=1)}function Ur(t,e){t.min=t.min+e,t.max=t.max+e}function op(t,e,n,r,s=.5){const i=ie(t.min,t.max,s);Ku(t,e,n,i,r)}function Vr(t,e){op(t.x,e.x,e.scaleX,e.scale,e.originX),op(t.y,e.y,e.scaleY,e.scale,e.originY)}function Uy(t,e){return Ly(jS(t.getBoundingClientRect(),e))}function ES(t,e,n){const r=Uy(t,n),{scroll:s}=e;return s&&(Ur(r.x,s.offset.x),Ur(r.y,s.offset.y)),r}const Vy=({current:t})=>t?t.ownerDocument.defaultView:null,TS=new WeakMap;class PS{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ce(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pi(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=b1(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),at(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Dt.test(g)){const{projection:m}=this.visualElement;if(m&&m.layout){const y=m.layout.layoutBox[x];y&&(g=tt(y)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&Z.postRender(()=>v(d,h)),Lu(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=AS(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>at(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Ny(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Vy(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Z.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!io(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=vS(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Lr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=xS(s.layoutBox,n):this.constraints=!1,this.elastic=kS(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&at(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_S(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Lr(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=ES(r,s.root,this.visualElement.getTransformPagePoint());let o=wS(s.layout.layoutBox,i);if(n){const a=n(SS(o));this.hasMutatedConstraints=!!a,a&&(o=Ly(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=at(d=>{if(!io(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Lu(this.visualElement,e),r.start(Md(e,r,0,n,this.visualElement,!1))}stopAnimation(){at(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){at(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){at(n=>{const{drag:r}=this.getProps();if(!io(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-ie(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Lr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};at(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=bS({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),at(o=>{if(!io(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ie(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;TS.set(this.visualElement,this);const e=this.visualElement.current,n=Ws(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Lr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Z.read(r);const o=gi(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(at(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Wu,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function io(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function AS(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class RS extends Nn{constructor(e){super(e),this.removeGroupControls=Ze,this.removeListeners=Ze,this.controls=new PS(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ze}unmount(){this.removeGroupControls(),this.removeListeners()}}const ap=t=>(e,n)=>{t&&Z.postRender(()=>t(e,n))};class NS extends Nn{constructor(){super(...arguments),this.removePointerDownListener=Ze}onPointerDown(e){this.session=new Ny(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ap(e),onStart:ap(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Z.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ws(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ao={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lp(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const js={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(U.test(t))t=parseFloat(t);else return t;const n=lp(t,e.target.x),r=lp(t,e.target.y);return`${n}% ${r}%`}},OS={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Tn.parse(t);if(s.length>5)return r;const i=Tn.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=ie(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class IS extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;e1(DS),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ao.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Z.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function By(t){const[e,n]=k0(),r=S.useContext(sd);return c.jsx(IS,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(R0),isPresent:e,safeToRemove:n})}const DS={borderRadius:{...js,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:js,borderTopRightRadius:js,borderBottomLeftRadius:js,borderBottomRightRadius:js,boxShadow:OS};function LS(t,e,n){const r=Re(t)?t:pi(t);return r.start(Md("",r,e,n)),r.animation}function MS(t){return t instanceof SVGElement&&t.tagName!=="svg"}const $S=(t,e)=>t.depth-e.depth;class US{constructor(){this.children=[],this.isDirty=!1}add(e){Cd(this.children,e),this.isDirty=!0}remove(e){Ed(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($S),this.isDirty=!1,this.children.forEach(e)}}function VS(t,e){const n=Lt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(En(r),t(i-e))};return Z.read(r,!0),()=>En(r)}const Fy=["TopLeft","TopRight","BottomLeft","BottomRight"],BS=Fy.length,up=t=>typeof t=="string"?parseFloat(t):t,cp=t=>typeof t=="number"||U.test(t);function FS(t,e,n,r,s,i){s?(t.opacity=ie(0,n.opacity!==void 0?n.opacity:1,zS(r)),t.opacityExit=ie(e.opacity!==void 0?e.opacity:1,0,WS(r))):i&&(t.opacity=ie(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<BS;o++){const a=`border${Fy[o]}Radius`;let l=dp(e,a),u=dp(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||cp(l)===cp(u)?(t[a]=Math.max(ie(up(l),up(u),r),0),(Dt.test(u)||Dt.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=ie(e.rotate||0,n.rotate||0,r))}function dp(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zS=zy(0,.5,ay),WS=zy(.5,.95,Ze);function zy(t,e,n){return r=>r<t?0:r>e?1:n(ns(t,e,r))}function hp(t,e){t.min=e.min,t.max=e.max}function ot(t,e){hp(t.x,e.x),hp(t.y,e.y)}function fp(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function pp(t,e,n,r,s){return t-=e,t=aa(t,1/n,r),s!==void 0&&(t=aa(t,1/s,r)),t}function HS(t,e=0,n=1,r=.5,s,i=t,o=t){if(Dt.test(e)&&(e=parseFloat(e),e=ie(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ie(i.min,i.max,r);t===i&&(a-=e),t.min=pp(t.min,e,n,a,s),t.max=pp(t.max,e,n,a,s)}function mp(t,e,[n,r,s],i,o){HS(t,e[n],e[r],e[s],e.scale,i,o)}const KS=["x","scaleX","originX"],qS=["y","scaleY","originY"];function gp(t,e,n,r){mp(t.x,e,KS,n?n.x:void 0,r?r.x:void 0),mp(t.y,e,qS,n?n.y:void 0,r?r.y:void 0)}function yp(t){return t.translate===0&&t.scale===1}function Wy(t){return yp(t.x)&&yp(t.y)}function vp(t,e){return t.min===e.min&&t.max===e.max}function GS(t,e){return vp(t.x,e.x)&&vp(t.y,e.y)}function xp(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Hy(t,e){return xp(t.x,e.x)&&xp(t.y,e.y)}function wp(t){return tt(t.x)/tt(t.y)}function bp(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class JS{constructor(){this.members=[]}add(e){Cd(this.members,e),e.scheduleRender()}remove(e){if(Ed(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YS(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Wn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ns=typeof window<"u"&&window.MotionDebug!==void 0,Tl=["","X","Y","Z"],QS={visibility:"hidden"},_p=1e3;let XS=0;function Pl(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Ky(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ey(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Z,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Ky(r)}function qy({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=XS++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ns&&(Wn.totalNodes=Wn.resolvedTargetDeltas=Wn.recalculatedProjection=0),this.nodes.forEach(tj),this.nodes.forEach(oj),this.nodes.forEach(aj),this.nodes.forEach(nj),Ns&&window.MotionDebug.record(Wn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new US)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Td),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=MS(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=VS(f,250),Ao.hasAnimatedSinceResize&&(Ao.hasAnimatedSinceResize=!1,this.nodes.forEach(Sp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||hj,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),m=!this.targetLayout||!Hy(this.targetLayout,v)||p,y=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const b={..._d(w,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||Sp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,En(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ky(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kp);return}this.isUpdating||this.nodes.forEach(sj),this.isUpdating=!1,this.nodes.forEach(ij),this.nodes.forEach(ZS),this.nodes.forEach(ej),this.clearAllSnapshots();const a=Lt.now();Se.delta=en(0,1e3/60,a-Se.timestamp),Se.timestamp=a,Se.isProcessing=!0,xl.update.process(Se),xl.preRender.process(Se),xl.render.process(Se),Se.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rj),this.sharedNodes.forEach(uj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Z.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Z.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ce(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Wy(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||zn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),fj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return ce();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(pj))){const{scroll:d}=this.root;d&&(Ur(l.x,d.offset.x),Ur(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=ce();if(ot(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ot(l,o),Ur(l.x,h.offset.x),Ur(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=ce();ot(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Vr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),zn(d.latestValues)&&Vr(l,d.latestValues)}return zn(this.latestValues)&&Vr(l,this.latestValues),l}removeTransform(o){const a=ce();ot(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!zn(u.latestValues))continue;Hu(u.latestValues)&&u.updateSnapshot();const d=ce(),h=u.measurePageBox();ot(d,h),gp(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return zn(this.latestValues)&&gp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Se.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Se.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ce(),this.relativeTargetOrigin=ce(),Ks(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ce(),this.targetWithTransforms=ce()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ot(this.target,this.layout.layoutBox),$y(this.target,this.targetDelta)):ot(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ce(),this.relativeTargetOrigin=ce(),Ks(this.relativeTargetOrigin,this.target,p.target),ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ns&&Wn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hu(this.parent.latestValues)||My(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Se.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ot(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;CS(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ce());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fp(this.prevProjectionDelta.x,this.projectionDelta.x),fp(this.prevProjectionDelta.y,this.projectionDelta.y)),Hs(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!bp(this.projectionDelta.x,this.prevProjectionDelta.x)||!bp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ns&&Wn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$r(),this.projectionDelta=$r(),this.projectionDeltaWithTransform=$r()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=$r();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ce(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=p!==v,x=this.getStack(),g=!x||x.members.length<=1,m=!!(w&&!g&&this.options.crossfade===!0&&!this.path.some(dj));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const _=b/1e3;jp(h.x,o.x,_),jp(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ks(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cj(this.relativeTarget,this.relativeTargetOrigin,f,_),y&&GS(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ce()),ot(y,this.relativeTarget)),w&&(this.animationValues=d,FS(d,u,this.latestValues,_,m,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(En(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Z.update(()=>{Ao.hasAnimatedSinceResize=!0,this.currentAnimation=LS(0,_p,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_p),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Gy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ce();const h=tt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=tt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}ot(a,l),Vr(a,d),Hs(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new JS),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Pl("z",o,u,this.animationValues);for(let d=0;d<Tl.length;d++)Pl(`rotate${Tl[d]}`,o,u,this.animationValues),Pl(`skew${Tl[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return QS;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=To(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=To(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!zn(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=YS(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in na){if(f[w]===void 0)continue;const{correct:x,applyTo:g}=na[w],m=u.transform==="none"?f[w]:x(f[w],h);if(g){const y=g.length;for(let b=0;b<y;b++)u[g[b]]=m}else u[w]=m}return this.options.layoutId&&(u.pointerEvents=h===this?To(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(kp),this.root.sharedNodes.clear()}}}function ZS(t){t.updateLayout()}function ej(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?at(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=tt(f);f.min=r[h].min,f.max=f.min+p}):Gy(i,n.layoutBox,r)&&at(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=tt(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=$r();Hs(a,r,n.layoutBox);const l=$r();o?Hs(l,t.applyTransform(s,!0),n.measuredBox):Hs(l,r,n.layoutBox);const u=!Wy(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const v=ce();Ks(v,n.layoutBox,f.layoutBox);const w=ce();Ks(w,r,p.layoutBox),Hy(v,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tj(t){Ns&&Wn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rj(t){t.clearSnapshot()}function kp(t){t.clearMeasurements()}function sj(t){t.isLayoutDirty=!1}function ij(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Sp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oj(t){t.resolveTargetDelta()}function aj(t){t.calcProjection()}function lj(t){t.resetSkewAndRotation()}function uj(t){t.removeLeadSnapshot()}function jp(t,e,n){t.translate=ie(e.translate,0,n),t.scale=ie(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Cp(t,e,n,r){t.min=ie(e.min,n.min,r),t.max=ie(e.max,n.max,r)}function cj(t,e,n,r){Cp(t.x,e.x,n.x,r),Cp(t.y,e.y,n.y,r)}function dj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hj={duration:.45,ease:[.4,0,.1,1]},Ep=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Tp=Ep("applewebkit/")&&!Ep("chrome/")?Math.round:Ze;function Pp(t){t.min=Tp(t.min),t.max=Tp(t.max)}function fj(t){Pp(t.x),Pp(t.y)}function Gy(t,e,n){return t==="position"||t==="preserve-aspect"&&!gS(wp(e),wp(n),.2)}function pj(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const mj=qy({attachResizeListener:(t,e)=>gi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Al={current:void 0},Jy=qy({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Al.current){const t=new mj({});t.mount(window),t.setOptions({layoutScroll:!0}),Al.current=t}return Al.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gj={pan:{Feature:NS},drag:{Feature:RS,ProjectionNode:Jy,MeasureLayout:By}};function Ap(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Z.postRender(()=>i(e,Pi(e)))}class yj extends Nn{mount(){const{current:e}=this.node;e&&(this.unmount=g1(e,n=>(Ap(this.node,n,"Start"),r=>Ap(this.node,r,"End"))))}unmount(){}}class vj extends Nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ti(gi(this.node.current,"focus",()=>this.onFocus()),gi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Rp(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Z.postRender(()=>i(e,Pi(e)))}class xj extends Nn{mount(){const{current:e}=this.node;e&&(this.unmount=w1(e,n=>(Rp(this.node,n,"Start"),(r,{success:s})=>Rp(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qu=new WeakMap,Rl=new WeakMap,wj=t=>{const e=qu.get(t.target);e&&e(t)},bj=t=>{t.forEach(wj)};function _j({root:t,...e}){const n=t||document;Rl.has(n)||Rl.set(n,{});const r=Rl.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(bj,{root:t,...e})),r[s]}function kj(t,e,n){const r=_j(e);return qu.set(t,n),r.observe(t),()=>{qu.delete(t),r.unobserve(t)}}const Sj={some:0,all:1};class jj extends Nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Sj[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return kj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Cj(e,n))&&this.startObserver()}unmount(){}}function Cj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ej={inView:{Feature:jj},tap:{Feature:xj},focus:{Feature:vj},hover:{Feature:yj}},Tj={layout:{ProjectionNode:Jy,MeasureLayout:By}},Gu={current:null},Yy={current:!1};function Pj(){if(Yy.current=!0,!!ad)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gu.current=t.matches;t.addListener(e),e()}else Gu.current=!1}const Aj=[...by,Pe,Tn],Rj=t=>Aj.find(wy(t)),Np=new WeakMap;function Nj(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Re(s))t.addValue(r,s);else if(Re(i))t.addValue(r,pi(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,pi(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Op=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Oj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Id,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Lt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Z.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ia(n),this.isVariantNode=P0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const v=f[p];l[p]!==void 0&&Re(v)&&v.set(l[p],!1)}}mount(e){this.current=e,Np.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Yy.current||Pj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Np.delete(this.current),this.projection&&this.projection.unmount(),En(this.notifyUpdate),En(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=dr.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Z.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rs){const n=rs[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ce()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Op.length;r++){const s=Op[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Nj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=pi(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(vy(s)||uy(s))?s=parseFloat(s):!Rj(s)&&Tn.test(n)&&(s=my(e,n)),this.setBaseTarget(e,Re(s)?s.get():s)),Re(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=pd(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Re(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Td),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Qy extends Oj{constructor(){super(...arguments),this.KeyframeResolver=_y}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Re(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ij(t){return window.getComputedStyle(t)}class Dj extends Qy{constructor(){super(...arguments),this.type="html",this.renderInstance=$0}readValueFromInstance(e,n){if(dr.has(n)){const r=Od(n);return r&&r.default||0}else{const r=Ij(e),s=(D0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Uy(e,n)}build(e,n,r){yd(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return bd(e,n,r)}}class Lj extends Qy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ce}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(dr.has(n)){const r=Od(n);return r&&r.default||0}return n=U0.has(n)?n:dd(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return F0(e,n,r)}build(e,n,r){vd(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){V0(e,n,r,s)}mount(e){this.isSVGTag=wd(e.tagName),super.mount(e)}}const Mj=(t,e)=>fd(t)?new Lj(e):new Dj(e,{allowProjection:t!==S.Fragment}),$j=u1({...aS,...Ej,...gj,...Tj},Mj),ee=S_($j);function H(t,e="#111827"){const n=`<svg xmlns='http://www.w3.org/2000/svg' width='200' height='126'>
    <rect width='100%' height='100%' rx='12' fill='#f1f5f9'/>
    <text x='50%' y='52%' dominant-baseline='middle' text-anchor='middle'
          font-family='-apple-system, SF Pro Display, Inter, Arial' font-size='18' fill='${e}' font-weight='700'>${t}</text>
  </svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(n)}`}const ht={chase:H("CHASE","#1d4ed8"),discover:H("DISCOVER","#ea580c"),citi:H("CITI","#7c3aed"),double:H("DOUBLE","#16a34a"),paypal:H("PAYPAL","#0ea5e9"),boa:H("BOA","#dc2626"),wf:H("WELLS","#f59e0b"),usbank:H("US BANK","#4338ca"),capone:H("CAPONE","#22c55e"),amex:H("AMEX","#2563eb"),amazonvisa:H("AMZN","#10b981"),apple:H("APPLE","#6b7280"),venmo:H("VENMO","#2563eb"),sofi:H("SOFI","#38bdf8"),target:H("TARGET","#ef4444"),costco:H("COSTCO","#ef4444"),nfcu:H("NFCU","#1d4ed8"),hdfc:H("HDFC","#2563eb"),sbi:H("SBI","#2563eb"),axis:H("AXIS","#f472b6"),icici:H("ICICI","#fb923c"),kotak:H("KOTAK","#34d399"),au:H("AU","#818cf8"),idfc:H("IDFC","#ef4444"),scb:H("SCB","#10b981"),indus:H("INDUS","#f59e0b"),yes:H("YES","#38bdf8"),onecard:H("ONECARD","#2563eb"),fallback:H("CARD","#374151")},Ip={groceries:"Groceries (Supermarkets)",gas_ev:"Gas & EV Charging",dining:"Dining & Restaurants",online_wallet:"Online & Wallets (Amazon/PayPal)",drugstore:"Drugstores & Pharmacies",entertainment:"Entertainment & Experiences",home_improve:"Home Improvement / Warehouse Clubs",transit_utils:"Transit & Utilities"};function Uj(t){const e=t.toLowerCase();return e.includes("chase")?"chase":e.includes("discover")?"discover":e.includes("citi")?"citi":e.includes("american express")||e.includes("amex")?"amex":e.includes("bank of america")||e.includes("bofa")?"boa":"fallback"}const Dp=t=>Math.round(t*100*10)/10;function Vj(t){const e=Object.keys(Ip).map(n=>({id:n,label:Ip[n]}));return{version:t.as_of_date||"unknown",period:"current",categories:e,cards:(t.cards||[]).map(n=>({id:n.id,market:n.market,issuer:n.issuer,display_name:n.display_name,logo_key:n.logo_key||Uj(n.issuer+" "+n.display_name),base_rate:Dp(n.base_rate||0),popularity:typeof n.popularity=="number"?n.popularity:void 0,source_url:n.source_url||void 0,category_rules:Object.entries(n.category_rules||{}).map(([r,s])=>({category_id:r,rate:Dp(s),activation_required:n.activation==="Yes",notes:n.caps?[String(n.caps)]:void 0}))}))}}const Bj=()=>{const t="/";return`${t.endsWith("/")?t:`${t}/`}out/latest.json`};async function Fj(t=Bj()){const e=await fetch(t,{cache:"no-store"});if(!e.ok)throw new Error("failed to load "+t);const n=await e.json();return Vj(n)}var Ju=function(t,e){return Ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ju(t,e)};function Xy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ju(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var la=function(){return la=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},la.apply(this,arguments)};function hs(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Zy(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function ev(t,e){return function(n,r){e(n,r,t)}}function tv(t,e,n,r,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var v={};for(var w in r)v[w]=w==="access"?{}:r[w];for(var w in r.access)v.access[w]=r.access[w];v.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var x=(0,n[p])(a==="accessor"?{get:d.get,set:d.set}:d[l],v);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=o(x.get))&&(d.get=h),(h=o(x.set))&&(d.set=h),(h=o(x.init))&&s.unshift(h)}else(h=o(x))&&(a==="field"?s.unshift(h):d[l]=h)}u&&Object.defineProperty(u,r.name,d),f=!0}function nv(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function rv(t){return typeof t=="symbol"?t:"".concat(t)}function sv(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function iv(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function O(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function ov(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ma=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function av(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ma(e,t,n)}function ua(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $d(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function lv(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($d(arguments[e]));return t}function uv(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function cv(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function is(t){return this instanceof is?(this.v=t,this):new is(t)}function dv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(v){return Promise.resolve(v).then(p,h)}}function a(p,v){r[p]&&(s[p]=function(w){return new Promise(function(x,g){i.push([p,w,x,g])>1||l(p,w)})},v&&(s[p]=v(s[p])))}function l(p,v){try{u(r[p](v))}catch(w){f(i[0][3],w)}}function u(p){p.value instanceof is?Promise.resolve(p.value.v).then(d,h):f(i[0][2],p)}function d(p){l("next",p)}function h(p){l("throw",p)}function f(p,v){p(v),i.shift(),i.length&&l(i[0][0],i[0][1])}}function hv(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:is(t[s](o)),done:!1}:i?i(o):o}:i}}function fv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ua=="function"?ua(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function pv(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var zj=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Yu=function(t){return Yu=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Yu(t)};function mv(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Yu(t),r=0;r<n.length;r++)n[r]!=="default"&&Ma(e,t,n[r]);return zj(e,t),e}function gv(t){return t&&t.__esModule?t:{default:t}}function yv(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function vv(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function xv(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function wv(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Wj=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function bv(t){function e(i){t.error=t.hasError?new Wj(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function _v(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const Hj={__extends:Xy,__assign:la,__rest:hs,__decorate:Zy,__param:ev,__esDecorate:tv,__runInitializers:nv,__propKey:rv,__setFunctionName:sv,__metadata:iv,__awaiter:O,__generator:ov,__createBinding:Ma,__exportStar:av,__values:ua,__read:$d,__spread:lv,__spreadArrays:uv,__spreadArray:cv,__await:is,__asyncGenerator:dv,__asyncDelegator:hv,__asyncValues:fv,__makeTemplateObject:pv,__importStar:mv,__importDefault:gv,__classPrivateFieldGet:yv,__classPrivateFieldSet:vv,__classPrivateFieldIn:xv,__addDisposableResource:wv,__disposeResources:bv,__rewriteRelativeImportExtension:_v},Kj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wv,get __assign(){return la},__asyncDelegator:hv,__asyncGenerator:dv,__asyncValues:fv,__await:is,__awaiter:O,__classPrivateFieldGet:yv,__classPrivateFieldIn:xv,__classPrivateFieldSet:vv,__createBinding:Ma,__decorate:Zy,__disposeResources:bv,__esDecorate:tv,__exportStar:av,__extends:Xy,__generator:ov,__importDefault:gv,__importStar:mv,__makeTemplateObject:pv,__metadata:iv,__param:ev,__propKey:rv,__read:$d,__rest:hs,__rewriteRelativeImportExtension:_v,__runInitializers:nv,__setFunctionName:sv,__spread:lv,__spreadArray:cv,__spreadArrays:uv,__values:ua,default:Hj},Symbol.toStringTag,{value:"Module"})),qj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ud extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Gj extends Ud{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Lp extends Ud{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mp extends Ud{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qu||(Qu={}));class Jj{constructor(e,{headers:n={},customFetch:r,region:s=Qu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=qj(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return O(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(f["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(f["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let x=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:w,signal:x}).catch(_=>{throw new Gj(_)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new Lp(g);if(!g.ok)throw new Mp(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield g.json():y==="application/octet-stream"||y==="application/pdf"?b=yield g.blob():y==="text/event-stream"?b=g:y==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Mp||a instanceof Lp?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var De={};const fs=Mx(Kj);var oo={},ao={},lo={},uo={},co={},ho={},$p;function kv(){if($p)return ho;$p=1,Object.defineProperty(ho,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ho.default=t,ho}var Up;function Sv(){if(Up)return co;Up=1,Object.defineProperty(co,"__esModule",{value:!0});const e=fs.__importDefault(kv());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,h,f;let p=null,v=null,w=null,x=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const _=await l.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=_:v=JSON.parse(_))}const y=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&b&&b.length>1&&(w=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(p={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,x=406,g="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const y=await l.text();try{p=JSON.parse(y),Array.isArray(p)&&l.status===404&&(v=[],p=null,x=200,g="OK")}catch{l.status===404&&y===""?(x=204,g="No Content"):p={message:y}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,x=200,g="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:v,count:w,status:x,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,d,h,f,p,v;let w="";const x=l==null?void 0:l.cause;if(x){const g=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",m=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";w=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,w+=`

Caused by: ${(f=x==null?void 0:x.name)!==null&&f!==void 0?f:"Error"}: ${g}`,m&&(w+=` (${m})`),x!=null&&x.stack&&(w+=`
${x.stack}`)}else w=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return co.default=n,co}var Vp;function jv(){if(Vp)return uo;Vp=1,Object.defineProperty(uo,"__esModule",{value:!0});const e=fs.__importDefault(Sv());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return uo.default=n,uo}var Bp;function Vd(){if(Bp)return lo;Bp=1,Object.defineProperty(lo,"__esModule",{value:!0});const e=fs.__importDefault(jv()),n=new RegExp("[,()]");class r extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return lo.default=r,lo}var Fp;function Cv(){if(Fp)return ao;Fp=1,Object.defineProperty(ao,"__esModule",{value:!0});const e=fs.__importDefault(Vd());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return ao.default=n,ao}var zp;function Yj(){if(zp)return oo;zp=1,Object.defineProperty(oo,"__esModule",{value:!0});const t=fs,e=t.__importDefault(Cv()),n=t.__importDefault(Vd());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let p;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,x])=>x!==void 0).map(([w,x])=>[w,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([w,x])=>{f.searchParams.append(w,x)})):(h="POST",p=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:h,url:f,headers:v,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return oo.default=r,oo}Object.defineProperty(De,"__esModule",{value:!0});var Ev=De.PostgrestError=Mv=De.PostgrestBuilder=Dv=De.PostgrestTransformBuilder=Ov=De.PostgrestFilterBuilder=Rv=De.PostgrestQueryBuilder=Pv=De.PostgrestClient=void 0;const ps=fs,Tv=ps.__importDefault(Yj());var Pv=De.PostgrestClient=Tv.default;const Av=ps.__importDefault(Cv());var Rv=De.PostgrestQueryBuilder=Av.default;const Nv=ps.__importDefault(Vd());var Ov=De.PostgrestFilterBuilder=Nv.default;const Iv=ps.__importDefault(jv());var Dv=De.PostgrestTransformBuilder=Iv.default;const Lv=ps.__importDefault(Sv());var Mv=De.PostgrestBuilder=Lv.default;const $v=ps.__importDefault(kv());Ev=De.PostgrestError=$v.default;var Uv=De.default={PostgrestClient:Tv.default,PostgrestQueryBuilder:Av.default,PostgrestFilterBuilder:Nv.default,PostgrestTransformBuilder:Iv.default,PostgrestBuilder:Lv.default,PostgrestError:$v.default};const Qj=Dx({__proto__:null,get PostgrestBuilder(){return Mv},get PostgrestClient(){return Pv},get PostgrestError(){return Ev},get PostgrestFilterBuilder(){return Ov},get PostgrestQueryBuilder(){return Rv},get PostgrestTransformBuilder(){return Dv},default:Uv},[De]),{PostgrestClient:Xj,PostgrestQueryBuilder:J2,PostgrestFilterBuilder:Y2,PostgrestTransformBuilder:Q2,PostgrestBuilder:X2,PostgrestError:Z2}=Uv||Qj;class Zj{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const eC="2.84.0",tC=`realtime-js/${eC}`,Vv="1.0.0",nC="2.0.0",Wp=Vv,Xu=1e4,rC=1e3,sC=100;var Kn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Kn||(Kn={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var kt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kt||(kt={}));var Zu;(function(t){t.websocket="websocket"})(Zu||(Zu={}));var qn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qn||(qn={}));class iC{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,s,i;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(f),v=0;p.setUint8(v++,this.KINDS.userBroadcastPush),p.setUint8(v++,l.length),p.setUint8(v++,a.length),p.setUint8(v++,o.length),p.setUint8(v++,u.length),p.setUint8(v++,this.BINARY_ENCODING),Array.from(l,x=>p.setUint8(v++,x.charCodeAt(0))),Array.from(a,x=>p.setUint8(v++,x.charCodeAt(0))),Array.from(o,x=>p.setUint8(v++,x.charCodeAt(0))),Array.from(u,x=>p.setUint8(v++,x.charCodeAt(0)));var w=new Uint8Array(f.byteLength+d.byteLength);return w.set(new Uint8Array(f),0),w.set(new Uint8Array(d),f.byteLength),w.buffer}_encodeJsonUserBroadcastPush(e){var n,r,s,i;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let w=new DataView(v),x=0;w.setUint8(x++,this.KINDS.userBroadcastPush),w.setUint8(x++,l.length),w.setUint8(x++,a.length),w.setUint8(x++,o.length),w.setUint8(x++,u.length),w.setUint8(x++,this.JSON_ENCODING),Array.from(l,m=>w.setUint8(x++,m.charCodeAt(0))),Array.from(a,m=>w.setUint8(x++,m.charCodeAt(0))),Array.from(o,m=>w.setUint8(x++,m.charCodeAt(0))),Array.from(u,m=>w.setUint8(x++,m.charCodeAt(0)));var g=new Uint8Array(v.byteLength+f.byteLength);return g.set(new Uint8Array(v),0),g.set(new Uint8Array(f),v.byteLength),g.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,v={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class Bv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const Hp=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=oC(o,t,e,s),i),{}):{}},oC=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Fv(i,o):ec(o)},Fv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return cC(e,n)}switch(t){case G.bool:return aC(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return lC(e);case G.json:case G.jsonb:return uC(e);case G.timestamp:return dC(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return ec(e);default:return ec(e)}},ec=t=>t,aC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},cC=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Fv(e,a))}return t},dC=t=>typeof t=="string"?t.replace(" ","T"):t,zv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Nl{constructor(e,n,r={},s=Xu){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Kp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Kp||(Kp={}));class qs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=qs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=qs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),v=d.filter(x=>p.indexOf(x.presence_ref)<0),w=h.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(qp||(qp={}));var Gs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Gs||(Gs={}));var zt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zt||(zt={}));class Bd{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Nl(this,kt.join,this.params,this.timeout),this.rejoinTimer=new Bv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new qs(this),this.broadcastEndpointURL=zv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Gs.PRESENCE]&&this.bindings[Gs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(zt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(zt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e==null||e(zt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,g=[];for(let m=0;m<x;m++){const y=w[m],{filter:{event:b,schema:_,table:k,filter:C}}=y,j=p&&p[m];if(j&&j.event===b&&j.schema===_&&j.table===k&&j.filter===C)g.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(zt.SUBSCRIBED);return}}).receive("error",p=>{this.state=pe.errored,e==null||e(zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===pe.joined&&e===Gs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Nl(this,kt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Nl(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>sC){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=kt;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(w=p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,w,x,g,m,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,_=(v=p.filter)===null||v===void 0?void 0:v.event;return b&&((w=n.ids)===null||w===void 0?void 0:w.includes(b))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:x,commit_timestamp:g,type:m,errors:y}=v;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:g,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(v))}p.callback(f,r)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Bd.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kt.close,{},e)}_onError(e){this._on(kt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Hp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Hp(e.columns,e.old_record)),n}}const Ol=()=>{},fo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hC=[1e3,2e3,5e3,1e4],fC=1e4,pC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mC{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xu,this.transport=null,this.heartbeatIntervalMs=fo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ol,this.ref=0,this.reconnectTimer=null,this.vsn=Wp,this.logger=Ol,this.conn=null,this.sendBuffer=[],this.serializer=new iC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Zu.websocket}`,this.httpEndpoint=zv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kn.connecting:return qn.Connecting;case Kn.open:return qn.Open;case Kn.closing:return qn.Closing;default:return qn.Closed}}isConnected(){return this.connectionState()===qn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Bd(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rC,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},fo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kn.open||this.conn.readyState===Kn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(kt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([pC],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:tC};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(kt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Bv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,u,d,h,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Xu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:fo.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ol,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Wp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>hC[v-1]||fC,this.vsn){case Vv:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,w)=>w(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,w)=>w(JSON.parse(v));break;case nC:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Fd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class gC extends Fd{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tc extends Fd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const zd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yC=()=>Response,nc=t=>{if(Array.isArray(t))return t.map(n=>nc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=nc(r)}),e},vC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Il=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},xC=(t,e,n)=>O(void 0,void 0,void 0,function*(){const r=yield yC();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new gC(Il(s),i,o))}).catch(s=>{e(new tc(Il(s),s))}):e(new tc(Il(t),t))}),wC=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(vC(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Ai(t,e,n,r,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,wC(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>xC(l,a,r))})})}function yi(t,e,n,r){return O(this,void 0,void 0,function*(){return Ai(t,"GET",e,n,r)})}function bt(t,e,n,r,s){return O(this,void 0,void 0,function*(){return Ai(t,"POST",e,r,s,n)})}function rc(t,e,n,r,s){return O(this,void 0,void 0,function*(){return Ai(t,"PUT",e,r,s,n)})}function bC(t,e,n,r){return O(this,void 0,void 0,function*(){return Ai(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Wd(t,e,n,r,s){return O(this,void 0,void 0,function*(){return Ai(t,"DELETE",e,r,s,n)})}class _C{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return O(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(re(e))return{data:null,error:e};throw e}})}}var Wv;class kC{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Wv]="BlobDownloadBuilder",this.promise=null}asStream(){return new _C(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return O(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(re(e))return{data:null,error:e};throw e}})}}Wv=Symbol.toStringTag;const SC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jC{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=zd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return O(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Gp),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?rc:bt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}upload(e,n,r){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return O(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Gp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield rc(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return O(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield bt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Fd("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}update(e,n,r){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return O(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}copy(e,n,r){return O(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return O(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield bt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return O(this,void 0,void 0,function*(){try{const s=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>yi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new kC(l,this.shouldThrowOnError)}info(e){return O(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield yi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:nc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}exists(e){return O(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield bC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r)&&r instanceof tc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return O(this,void 0,void 0,function*(){try{return{data:yield Wd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}list(e,n,r){return O(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},SC),n),{prefix:e||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}listV2(e,n){return O(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield bt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Hv="2.84.0",Kv={"X-Client-Info":`storage-js/${Hv}`};class CC{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kv),n),this.fetch=zd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return O(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield yi(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}createBucket(e){return O(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return O(this,void 0,void 0,function*(){try{return{data:yield rc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}emptyBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Wd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class EC{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kv),n),this.fetch=zd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}listBuckets(e){return O(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield yi(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Wd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}}const Hd={"X-Client-Info":`storage-js/${Hv}`,"Content-Type":"application/json"};class qv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Je(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Dl extends qv{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class TC extends qv{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Jp;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Jp||(Jp={}));const Kd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),PC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),AC=(t,e,n)=>O(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Dl(Yp(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Dl(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Dl(a,s,o))}}else e(new TC(Yp(t),t))}),RC=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(PC(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function NC(t,e,n,r,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,RC(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>AC(l,a,r))})})}function Ye(t,e,n,r,s){return O(this,void 0,void 0,function*(){return NC(t,"POST",e,r,s,n)})}class OC{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hd),n),this.fetch=Kd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}getIndex(e,n){return O(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}listIndexes(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return O(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}}class IC{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hd),n),this.fetch=Kd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return O(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ye(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}getVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listVectors(e){return O(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ye(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}queryVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteVectors(e){return O(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ye(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}class DC{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hd),n),this.fetch=Kd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listBuckets(){return O(this,arguments,void 0,function*(e={}){try{return{data:yield Ye(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}class LC extends DC{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new MC(this.url,this.headers,e,this.fetch)}}class MC extends OC{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return O(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return O(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return O(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return O(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new $C(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class $C extends IC{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return O(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return O(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return O(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return O(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return O(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class UC extends CC{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new jC(this.url,this.headers,e,this.fetch)}get vectors(){return new LC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new EC(this.url+"/iceberg",this.headers,this.fetch)}}const VC="2.84.0";let Os="";typeof Deno<"u"?Os="deno":typeof document<"u"?Os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Os="react-native":Os="node";const BC={"X-Client-Info":`supabase-js-${Os}/${VC}`},FC={headers:BC},zC={schema:"public"},WC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HC={},KC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qC=()=>Headers,GC=(t,e,n)=>{const r=KC(n),s=qC();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))}};function JC(t){return t.endsWith("/")?t:t+"/"}function YC(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function QC(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(JC(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Gv="2.84.0",_r=30*1e3,sc=3,Ll=sc*_r,XC="http://localhost:9999",ZC="supabase.auth.token",eE={"X-Client-Info":`gotrue-js/${Gv}`},ic="X-Supabase-Api-Version",Jv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nE=10*60*1e3;class vi extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rE extends vi{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function sE(t){return D(t)&&t.name==="AuthApiError"}class Gn extends vi{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class On extends vi{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class qe extends On{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iE(t){return D(t)&&t.name==="AuthSessionMissingError"}class yr extends On{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class po extends On{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mo extends On{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oE(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class Qp extends On{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oc extends On{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ml(t){return D(t)&&t.name==="AuthRetryableFetchError"}class Xp extends On{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ac extends On{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zp=` 	
\r=`.split(""),aE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Zp.length;e+=1)t[Zp[e].charCodeAt(0)]=-2;for(let e=0;e<ca.length;e+=1)t[ca[e].charCodeAt(0)]=e;return t})();function em(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ca[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ca[r]),e.queuedBits-=6}}function Yv(t,e,n){const r=aE[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tm(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{cE(o,r,n)};for(let o=0;o<t.length;o+=1)Yv(t.charCodeAt(o),s,i);return e.join("")}function lE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uE(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}lE(r,e)}}function cE(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function qr(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Yv(t.charCodeAt(s),n,r);return new Uint8Array(e)}function dE(t){const e=[];return uE(t,n=>e.push(n)),new Uint8Array(e)}function Zn(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>em(s,n,r)),em(null,n,r),e.join("")}function hE(t){return Math.round(Date.now()/1e3)+t}function fE(){return Symbol("auth-callback")}const _e=()=>typeof window<"u"&&typeof document<"u",Un={tested:!1,writable:!1},Qv=()=>{if(!_e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Un.tested)return Un.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Un.tested=!0,Un.writable=!0}catch{Un.tested=!0,Un.writable=!1}return Un.writable};function pE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Xv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ln=async(t,e)=>{await t.removeItem(e)};class $a{constructor(){this.promise=new $a.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}$a.promiseConstructor=Promise;function $l(t){const e=t.split(".");if(e.length!==3)throw new ac("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!tE.test(e[r]))throw new ac("JWT not in base64url format");return{header:JSON.parse(tm(e[0])),payload:JSON.parse(tm(e[1])),signature:qr(e[2]),raw:{header:e[0],payload:e[1]}}}async function gE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function yE(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function vE(t){return("0"+t.toString(16)).substr(-2)}function xE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,vE).join("")}async function wE(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function bE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await wE(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vr(t,e,n=!1){const r=xE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await kr(t,`${e}-code-verifier`,s);const i=await bE(r);return[i,r===i?"plain":"s256"]}const _E=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kE(t){const e=t.headers.get(ic);if(!e||!e.match(_E))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function SE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xr(t){if(!CE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ul(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EE(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function nm(t){return JSON.parse(JSON.stringify(t))}const Hn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TE=[502,503,504];async function rm(t){var e;if(!mE(t))throw new oc(Hn(t),0);if(TE.includes(t.status))throw new oc(Hn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Gn(Hn(i),i)}let r;const s=kE(t);if(s&&s.getTime()>=Jv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xp(Hn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new qe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Xp(Hn(n),t.status,n.weak_password.reasons);throw new rE(Hn(n),t.status||500,r)}const PE=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ic]||(i[ic]=Jv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await AE(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function AE(t,e,n,r,s,i){const o=PE(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new oc(Hn(l),0)}if(a.ok||await rm(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await rm(l)}}function vt(t){var e;let n=null;OE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=hE(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function sm(t){const e=vt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function pn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function RE(t){return{data:t,error:null}}function NE(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=hs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function im(t){return t}function OE(t){return t.access_token&&t.refresh_token&&t.expires_in}const Vl=["global","local","others"];class IE{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Xv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Vl[0]){if(Vl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vl.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:pn})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=hs(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:NE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:pn})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:im});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){xr(e);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pn})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){xr(e);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:pn})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){xr(e);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:pn})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){xr(e.userId);try{const{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(e){xr(e.userId),xr(e.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:im});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(D(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}}function om(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const wr={debug:!!(globalThis&&Qv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class DE extends Zv{}async function LE(t,e,n){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new DE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ME(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ex(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function $E(t){return parseInt(t,16)}function UE(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function VE(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=ex(t.address),v=d?`${d}://${r}`:r,w=t.statement?`${t.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${p}

${w}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}g+=m}return`${x}
${g}`}class he extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class da extends he{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function BE({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new he({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new he({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new he({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new he({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new he({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new he({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new he({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new he({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(tx(o)){if(i.rp.id!==o)return new he({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new he({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function FE({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new he({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new he({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(tx(r)){if(n.rpId!==r)return new he({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class zE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const WE=new zE;function HE(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=hs(t,["challenge","user","excludeCredentials"]),i=qr(e).buffer,o=Object.assign(Object.assign({},n),{id:qr(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:qr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function KE(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=hs(t,["challenge","allowCredentials"]),s=qr(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:qr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function qE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Zn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Zn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function GE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Zn(new Uint8Array(s.authenticatorData)),clientDataJSON:Zn(new Uint8Array(s.clientDataJSON)),signature:Zn(new Uint8Array(s.signature)),userHandle:s.userHandle?Zn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function am(){var t,e;return!!(_e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function JE(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new da("Browser returned unexpected credential type",e)}:{data:null,error:new da("Empty credential response",e)}}catch(e){return{data:null,error:BE({error:e,options:t})}}}async function YE(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new da("Browser returned unexpected credential type",e)}:{data:null,error:new da("Empty credential response",e)}}catch(e){return{data:null,error:FE({error:e,options:t})}}}const QE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},XE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ha(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=ha(a,o):r[i]=ha(o)}else r[i]=o}return r}function ZE(t,e){return ha(QE,t,e||{})}function eT(t,e){return ha(XE,t,e||{})}class tT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??WE.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=ZE(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await JE({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=eT(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await YE(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return D(o)?{data:null,error:o}:{data:null,error:new Gn("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new vi("rpId is required for WebAuthn authentication")};try{if(!am())return{data:null,error:new Gn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return D(o)?{data:null,error:o}:{data:null,error:new Gn("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new vi("rpId is required for WebAuthn registration")};try{if(!am())return{data:null,error:new Gn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return D(o)?{data:null,error:o}:{data:null,error:new Gn("Unexpected error in register",o)}}}}ME();const nT={url:XC,storageKey:ZC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function lm(t,e,n){return await n()}const br={};class xi{get jwks(){var e,n;return(n=(e=br[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=br[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},nT),e);if(this.storageKey=i.storageKey,this.instanceID=(n=xi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,xi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&_e()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new IE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Xv(i.fetch),this.lock=i.lock||lm,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:_e()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=LE:this.lock=lm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Qv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=om(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=om(this.memoryStorage)),_e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(_e()&&(n=pE(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),_e()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),oE(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?this._returnResult({error:n}):this._returnResult({error:new Gn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await vr(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:vt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vt})}else throw new po("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sm})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sm})}else throw new po("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new yr;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,u,d,h,f;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:w,wallet:x,statement:g,options:m}=e;let y;if(_e())if(typeof x=="object")y=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")y=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const b=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),_=await y.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=ex(_[0]);let C=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const A=await y.request({method:"eth_chainId"});C=$E(A)}const j={domain:b.host,address:k,statement:g,uri:b.href,version:"1",chainId:C,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=VE(j),v=await y.request({method:"personal_sign",params:[UE(p),k]})}try{const{data:w,error:x}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:vt});if(x)throw x;if(!w||!w.session||!w.user){const g=new yr;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(D(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,o,a,l,u,d,h,f,p;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:x,wallet:g,statement:m,options:y}=e;let b;if(_e())if(typeof g=="object")b=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:x,error:g}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Zn(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:vt});if(g)throw g;if(!x||!x.session||!x.user){const m=new yr;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(D(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await Vn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:vt});if(await ln(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new yr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new yr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await vr(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new po("You must provide either an email or phone number.")}catch(a){if(D(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await vr(this.storage,this.storageKey));const u=await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:RE});return!((i=u.data)===null||i===void 0)&&i.url&&_e()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(D(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new qe;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(D(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await $(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await $(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new po("You must provide either an email or phone number and a type")}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ll:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Vn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ul()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=EE(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:pn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qe}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:pn})})}catch(n){if(D(n))return iE(n)&&(await this._removeSession(),await ln(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new qe;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await vr(this.storage,this.storageKey));const{data:u,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:pn});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(D(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qe;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=$l(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(D(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new qe;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!_e())throw new mo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qp("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new mo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(D(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(sE(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ln(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=fE(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await vr(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(D(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return _e()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(D(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,h=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:vt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new yr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await yE(async s=>(s>0&&await gE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ml(i)&&Date.now()+o-r<_r})}catch(r){if(this._debug(n,"error",r),D(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),_e()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Vn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Vn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await kr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ul()}else if(s&&!s.user&&!s.user){const o=await Vn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ln(this.storage,this.storageKey+"-user"),await kr(this.storage,this.storageKey,s)):s.user=Ul()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ll;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ll}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ml(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $a;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new qe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),D(i)){const o={data:null,error:i};return Ml(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await kr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=nm(s);await kr(this.storage,this.storageKey,i)}else{const s=nm(n);await kr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ln(this.storage,this.storageKey),await ln(this.storage,this.storageKey+"-code-verifier"),await ln(this.storage,this.storageKey+"-user"),this.userStorage&&await ln(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_r}ms, refresh threshold is ${sc} ticks`),s<=sc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await vr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?qE(e.webauthn.credential_response):GE(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:HE(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:KE(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=$l(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new qe})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new qe});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&_e()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new qe});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&_e()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await $(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new qe})})}catch(e){if(D(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await $(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new qe})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+nE>s)return r;const{data:i,error:o}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=$l(r);n!=null&&n.allowExpired||SE(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=jE(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,dE(`${a}.${l}`)))throw new ac("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}}xi.nextInstanceID={};const rT=xi;class sT extends rT{constructor(e){super(e)}}class iT{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=QC(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:zC,realtime:HC,auth:Object.assign(Object.assign({},WC),{storageKey:l}),global:FC},d=YC(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=GC(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Xj(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new UC(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Jj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sT({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mC(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oT=(t,e,n)=>new iT(t,e,n);function aT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}aT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lT="https://dakkkcnpzyqjmratjnvi.supabase.co",uT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha2trY25wenlxam1yYXRqbnZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2MDQ1MjIsImV4cCI6MjA3OTE4MDUyMn0.gzWioqMfJW0zbewo7Qoj0bJvB1XqRD3xjItnIZGz4MU",Et=oT(lT,uT);function Ri(){if(!Et)throw new Error("Supabase credentials missing. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.");return Et}async function cT(){if(!Et)return null;const{data:t}=await Et.auth.getSession();return t.session??null}function dT(t){if(!Et)return{unsubscribe:()=>{}};const{data:e}=Et.auth.onAuthStateChange((n,r)=>{t(r??null)});return e.subscription}async function hT(t,e){const n=Ri(),{error:r}=await n.auth.signInWithPassword({email:t,password:e});if(r)throw r}async function fT(t,e){const n=Ri(),{error:r}=await n.auth.signUp({email:t,password:e});if(r)throw r}async function pT(){Et&&await Et.auth.signOut()}async function mT(t){const e=Ri(),{data:n,error:r}=await e.from("user_cards").select("card_id, display_name, issuer, logo_key, last4, created_at").eq("user_id",t).order("created_at",{ascending:!0});if(r)throw r;return(n==null?void 0:n.map(s=>({id:s.card_id,display_name:s.display_name,issuer:s.issuer,logo_key:s.logo_key,last4:s.last4||""})))||[]}async function gT(t,e){const n=Ri(),r={user_id:t,card_id:e.id,display_name:e.display_name,issuer:e.issuer,logo_key:e.logo_key,last4:e.last4||""},{error:s}=await n.from("user_cards").upsert(r,{onConflict:"user_id,card_id,last4"});if(s)throw s}async function yT(t,e,n){const r=Ri(),{error:s}=await r.from("user_cards").delete().eq("user_id",t).eq("card_id",e).eq("last4",n||"");if(s)throw s}const vT=[{id:"security",icon:jT,label:"Local-only data  no accounts"},{id:"coverage",icon:CT,label:"Activation + cap status at a glance"},{id:"automation",icon:ET,label:"Issuer proof links before you pay"}],xT={hidden:{opacity:0,y:32},visible:{opacity:1,y:0,transition:{duration:.6}}};function wT({monthLabel:t,lastUpdatedLabel:e,isLoading:n,onOpenWaitlist:r,onLaunchAdvisor:s,onToggleTheme:i,theme:o}){const a=o==="dark"?"border-slate-700/60 bg-slate-900/70 text-slate-300 shadow-[0_0_0_1px_rgba(148,163,184,0.12)]":"border-slate-200 bg-white/80 text-slate-600 shadow-[0_0_0_1px_rgba(148,163,184,0.08)]",l=o==="dark"?"border-slate-700/60 bg-slate-900/70 text-slate-300 shadow-[0_0_0_1px_rgba(148,163,184,0.12)]":"border-slate-200 bg-white/90 text-slate-600 shadow-[0_0_0_1px_rgba(148,163,184,0.08)]",u=o==="dark"?"bg-[radial-gradient(circle_at_top,_rgba(59,130,246,0.35)_0%,_transparent_55%)]":"bg-[radial-gradient(circle_at_top,_rgba(59,130,246,0.15)_0%,_transparent_55%)]",d=o==="dark"?"w-full rounded-full border border-slate-700/60 bg-slate-900/70 px-8 py-3 text-sm font-semibold text-slate-200 shadow-[0_18px_36px_rgba(5,12,28,0.35)] transition hover:border-sky-500/60 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-100 sm:w-auto":"w-full rounded-full border border-slate-200 bg-white px-8 py-3 text-sm font-semibold text-slate-700 shadow-[0_16px_32px_rgba(15,23,42,0.12)] transition hover:border-sky-400 hover:text-sky-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-200 sm:w-auto";return c.jsxs("section",{className:"relative overflow-hidden",children:[c.jsx("div",{className:`absolute inset-0 ${u} pointer-events-none`}),c.jsxs("div",{className:"container mx-auto max-w-6xl px-4 pt-14 pb-12",children:[c.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row sm:items-start",children:[c.jsx("div",{className:`flex items-center gap-3 rounded-full border px-5 py-2 text-xs font-medium backdrop-blur ${a}`,children:c.jsx("span",{className:"font-black uppercase tracking-[0.45em] bg-gradient-to-r from-sky-400 via-blue-400 to-indigo-400 bg-clip-text text-transparent",children:"rightcard.club"})}),c.jsxs("div",{className:`flex items-center gap-3 rounded-full border px-5 py-2 text-xs backdrop-blur ${l}`,children:[c.jsx("span",{children:n?"Updating categories":`Monthly Advisor  Updated ${e||"today"}`}),c.jsx(_T,{theme:o,onToggle:i})]})]}),c.jsxs(ee.div,{initial:"hidden",animate:"visible",variants:xT,className:"mx-auto mt-10 flex max-w-4xl flex-col items-center text-center",children:[c.jsx("h1",{className:o==="dark"?"text-4xl font-bold leading-tight text-white sm:text-5xl md:text-6xl":"text-4xl font-bold leading-tight text-slate-900 sm:text-5xl md:text-6xl",children:"Know the winning card before you tap"}),c.jsxs("p",{className:o==="dark"?"mt-6 max-w-2xl text-base text-slate-300 sm:text-lg":"mt-6 max-w-2xl text-base text-slate-600 sm:text-lg",children:["Add your wallet, pick a category, and see the proof-backed winner for ",c.jsx("strong",{children:t}),". A clean, three-step flow that mirrors the clarity you asked for."]}),c.jsxs("div",{className:"mt-5 flex flex-col items-center gap-4 sm:flex-row",children:[c.jsx("a",{href:"#advisor",onClick:h=>{h.preventDefault(),s==null||s()},className:"w-full rounded-full bg-gradient-to-r from-sky-500 to-blue-600 px-8 py-3 text-center text-sm font-semibold text-white shadow-lg shadow-sky-900/40 transition hover:from-sky-400 hover:to-blue-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 sm:w-auto",children:"Try the Monthly Advisor"}),c.jsx("button",{type:"button",onClick:r,className:d,children:"Join wallet waitlist"})]}),c.jsx("p",{className:o==="dark"?"mt-2 text-xs uppercase tracking-[0.2em] text-slate-400":"mt-2 text-xs uppercase tracking-[0.2em] text-slate-500",children:"No login  no syncing  everything stays in your browser"}),c.jsx("dl",{className:"mt-12 grid w-full gap-4 sm:grid-cols-3",children:vT.map(({id:h,icon:f,label:p})=>c.jsxs(ee.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.45,delay:.1},className:o==="dark"?"flex flex-col items-center gap-3 rounded-2xl border border-slate-800 bg-slate-900/60 px-4 py-5 text-center shadow-[0_20px_40px_rgba(15,23,42,0.25)] backdrop-blur":"flex flex-col items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-5 text-center shadow-[0_22px_40px_rgba(15,23,42,0.12)]",children:[c.jsx("span",{className:o==="dark"?"flex h-10 w-10 items-center justify-center rounded-full bg-sky-500/10 text-sky-400":"flex h-10 w-10 items-center justify-center rounded-full bg-sky-100 text-sky-500",children:c.jsx(f,{className:"h-5 w-5"})}),c.jsx("dd",{className:o==="dark"?"text-sm text-slate-300":"text-sm text-slate-600",children:p})]},h))})]})]})]})}const bT=S.memo(wT);function _T({theme:t,onToggle:e}){const n=t==="dark",r=n?"inline-flex items-center gap-2 rounded-full border border-slate-700/60 bg-slate-900/70 px-4 py-2 text-xs font-semibold text-slate-300 shadow-[0_12px_24px_rgba(4,9,20,0.45)] transition hover:border-sky-500/60 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-100":"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-[0_12px_24px_rgba(15,23,42,0.12)] transition hover:border-sky-400 hover:text-sky-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-200";return c.jsx("button",{type:"button",onClick:e,"aria-pressed":n,className:r,children:n?c.jsxs(c.Fragment,{children:[c.jsx(kT,{className:"h-3.5 w-3.5 text-sky-400"}),"Dark mode"]}):c.jsxs(c.Fragment,{children:[c.jsx(ST,{className:"h-3.5 w-3.5 text-amber-300"}),"Light mode"]})})}function kT({className:t="h-4 w-4"}){return c.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}function ST({className:t="h-4 w-4"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2"}),c.jsx("path",{d:"M12 21v2"}),c.jsx("path",{d:"m4.22 4.22 1.42 1.42"}),c.jsx("path",{d:"m18.36 18.36 1.42 1.42"}),c.jsx("path",{d:"M1 12h2"}),c.jsx("path",{d:"M21 12h2"}),c.jsx("path",{d:"m4.22 19.78 1.42-1.42"}),c.jsx("path",{d:"m18.36 5.64 1.42-1.42"})]})}function jT({className:t="h-4 w-4"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M12 22c4-2 7-4.5 7-10V5l-7-3-7 3v7c0 5.5 3 8 7 10Z"}),c.jsx("path",{d:"m9 12 2 2 4-4"})]})}function CT({className:t="h-4 w-4"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),c.jsx("path",{d:"M2 10h20"}),c.jsx("path",{d:"M6 16h2"}),c.jsx("path",{d:"M11 16h5"})]})}function ET({className:t="h-4 w-4"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M12 3v4"}),c.jsx("path",{d:"m16.24 7.76-2.83 2.83"}),c.jsx("path",{d:"M21 12h-4"}),c.jsx("path",{d:"m16.24 16.24-2.83-2.83"}),c.jsx("path",{d:"M12 17v4"}),c.jsx("path",{d:"m7.76 16.24 2.83-2.83"}),c.jsx("path",{d:"M3 12h4"}),c.jsx("path",{d:"m7.76 7.76 2.83 2.83"})]})}const TT=[{id:"category",title:"Instant verdicts",description:"Pick dining, fuel, travel, or 30+ other categories and see the winning card without searching menus.",meta:"Average lookup time in beta: 0.4s",icon:OT},{id:"activation",title:"Activation checklist baked in",description:"Know if a quarterly toggle, enrollment link, or spend cap exists before you tap the card reader.",meta:"23 missed promos prevented during April beta",icon:IT},{id:"source",title:"Issuer receipts for every claim",description:"Each recommendation includes the official bank link so you can double-check fine print instantly.",meta:"100% of categories point to primary-source proof",icon:DT},{id:"wallet",title:"Backup plan before caps hit",description:"Add your full wallet and we surface the next-best cards the moment you drain a quarterly limit.",meta:"Up to 3 alternates shown based on your cards",icon:LT}],PT={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1}}},AT={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{duration:.5}}};function RT({theme:t}){const e=t==="dark"?"relative border-y border-slate-800/70 bg-slate-950/60 py-12 backdrop-blur":"relative border-y border-slate-200 bg-white py-12",n=t==="dark"?"border-slate-800/80 bg-slate-900/60 text-slate-400":"border-slate-200 bg-slate-100 text-slate-500",r=t==="dark"?"text-white":"text-slate-900",s=t==="dark"?"text-slate-300":"text-slate-600",i=t==="dark"?"border border-slate-800 bg-slate-900/60 text-slate-300":"border border-slate-200 bg-white text-slate-600",o=t==="dark"?"bg-sky-500/10 text-sky-400":"bg-sky-100 text-sky-500",a=t==="dark"?"text-white":"text-slate-900";return c.jsx("section",{className:e,children:c.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[c.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[c.jsx("span",{className:`inline-flex rounded-full border px-3 py-1 text-xs uppercase tracking-wide ${n}`,children:"What the Monthly Advisor delivers"}),c.jsx("h2",{className:`mt-3 text-3xl font-semibold sm:text-4xl ${r}`,children:"Your phase 1 toolkit for choosing the right card"}),c.jsx("p",{className:`mt-3 text-base sm:text-lg ${s}`,children:"Wallet automation is coming, but today is about confident, category-based decisions. Heres how Monthly Advisor already covers the essentials."})]}),c.jsx(ee.dl,{variants:PT,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"0px 0px -100px"},className:"mt-8 grid gap-6 sm:grid-cols-2",children:TT.map(({id:l,title:u,description:d,meta:h,icon:f})=>c.jsxs(ee.div,{variants:AT,className:`group relative overflow-hidden rounded-3xl p-8 shadow-[0_25px_45px_rgba(8,15,35,0.2)] transition hover:border-sky-500/60 hover:shadow-[0_30px_60px_rgba(56,189,248,0.25)] ${i}`,children:[c.jsx("span",{className:`flex h-12 w-12 items-center justify-center rounded-2xl transition group-hover:scale-105 ${o}`,children:c.jsx(f,{className:"h-6 w-6"})}),c.jsx("dt",{className:`mt-6 text-xl font-semibold ${a}`,children:u}),c.jsx("dd",{className:`mt-3 text-sm ${t==="dark"?"text-slate-300":"text-slate-600"}`,children:d}),h?c.jsx("p",{className:"mt-3 text-xs font-semibold uppercase tracking-wide text-sky-400",children:h}):null]},l))})]})})}const NT=S.memo(RT);function OT({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M12 6v6l3 3"})]})}function IT({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M4.5 16.5 9 12l3 3 4.5-4.5a9 9 0 0 0-12 0Z"}),c.jsx("path",{d:"m12 21 3-9 4-4"}),c.jsx("path",{d:"M4 22a3 3 0 0 1 3-3h.1"})]})}function DT({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M12 16v-4"}),c.jsx("path",{d:"M12 8h.01"})]})}function LT({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M2 12h20"}),c.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10Z"})]})}const MT=[{id:"cards",title:"Add your wallet",description:"Local-only setup in under a minute. No login required.",icon:VT},{id:"category",title:"Pick a category",description:"Tap dining, fuel, groceriesget the winner instantly.",icon:BT},{id:"instructions",title:"Use it with proof",description:"Activation, caps, and issuer links shown before you pay.",icon:FT}];function $T({onOpenWaitlist:t,onLaunchAdvisor:e,theme:n}){const r=n==="dark"?"bg-slate-950 py-12":"bg-slate-50 py-12",s=n==="dark"?"border-slate-800/60 bg-slate-900/70 text-slate-400":"border-slate-200 bg-slate-100 text-slate-500",i=n==="dark"?"text-white":"text-slate-900",o=n==="dark"?"text-slate-300":"text-slate-600",a=n==="dark"?"relative overflow-hidden rounded-3xl border border-slate-800 bg-slate-900/60 p-6 shadow-[0_22px_50px_rgba(8,20,40,0.35)]":"relative overflow-hidden rounded-3xl border border-slate-200 bg-white p-6 shadow-[0_22px_50px_rgba(15,23,42,0.12)]",l=n==="dark"?"flex h-12 w-12 items-center justify-center rounded-2xl bg-indigo-500/10 text-indigo-400":"flex h-12 w-12 items-center justify-center rounded-2xl bg-indigo-100 text-indigo-500",u="text-xs font-semibold uppercase tracking-[0.35em] text-slate-500",d=n==="dark"?"mt-4 text-lg font-semibold text-white":"mt-4 text-lg font-semibold text-slate-900",h=n==="dark"?"mt-2 text-sm text-slate-300":"mt-2 text-sm text-slate-600",f=n==="dark"?"inline-flex items-center justify-center rounded-full border border-slate-700/70 bg-slate-900/70 px-8 py-3 text-sm font-semibold text-slate-200 shadow-[0_18px_36px_rgba(5,12,28,0.35)] transition hover:border-sky-500/60 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-100":"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-8 py-3 text-sm font-semibold text-slate-700 shadow-[0_18px_32px_rgba(15,23,42,0.12)] transition hover:border-sky-400 hover:text-sky-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-200";return c.jsx("section",{id:"how-it-works",className:r,children:c.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[c.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[c.jsx("span",{className:`inline-flex rounded-full border px-3 py-1 text-xs uppercase tracking-wide ${s}`,children:"3 steps  no login"}),c.jsx("h2",{className:`mt-3 text-3xl font-semibold sm:text-4xl ${i}`,children:"Know your winner in seconds"}),c.jsx("p",{className:`mt-2 text-base sm:text-lg ${o}`,children:"A simple, three-step flowclose to the postwrite.ai clarity you liked."})]}),c.jsx("div",{className:"mt-6 grid gap-4 lg:grid-cols-3",children:MT.map(({id:p,title:v,description:w,icon:x})=>c.jsxs(ee.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"0px 0px -120px"},transition:{duration:.4},className:`relative overflow-hidden ${a}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`flex h-12 w-12 items-center justify-center rounded-2xl ${l}`,children:c.jsx(x,{className:"h-6 w-6"})}),c.jsx("span",{className:u,children:"Step"})]}),c.jsx("h3",{className:d,children:v}),c.jsx("p",{className:h,children:w})]},p))}),c.jsxs("div",{className:"mt-6 flex flex-col items-center justify-center gap-4 sm:flex-row",children:[c.jsx("a",{href:"#advisor",onClick:p=>{p.preventDefault(),e==null||e()},className:"inline-flex items-center justify-center rounded-full bg-gradient-to-r from-sky-500 to-blue-600 px-8 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-900/50 transition hover:from-sky-400 hover:to-blue-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400",children:"Launch Monthly Advisor"}),c.jsx("button",{type:"button",onClick:t,className:f,children:"Join wallet waitlist"})]})]})})}const UT=S.memo($T);function VT({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),c.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 1 0 7.07 7.07l1.71-1.71"})]})}function BT({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M12 7a5 5 0 1 1-5 5"}),c.jsx("path",{d:"M12 3a9 9 0 1 1-9 9"}),c.jsx("path",{d:"M12 3v3"}),c.jsx("path",{d:"m12 12 3 3"})]})}function FT({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M8 21h8"}),c.jsx("path",{d:"M12 17a5 5 0 0 0 5-5V3H7v9a5 5 0 0 0 5 5Z"}),c.jsx("path",{d:"M7 8H3v1a4 4 0 0 0 4 4"}),c.jsx("path",{d:"M17 8h4v1a4 4 0 0 1-4 4"})]})}const zT=[{id:"product-hunt",name:"Mira Patel  creator, Points Daily",quote:"Within a week I stopped checking my spreadsheetAdvisor shows me the winning card plus proof in under a second. I banked ~6% more in May."},{id:"beta",name:"Evan Torres  private beta member",quote:"It surfaced a Discover category change before the email arrived, so I avoided a whole month of missed 5x."},{id:"creator",name:"Lena Cho  rewards coach",quote:"The UI makes my Airtable tracker obsolete. I send coaching clients here to double-check caps and alternates."}];function WT({theme:t}){const e=t==="dark"?"border-t border-slate-800/70 bg-slate-950/40 py-10":"border-t border-slate-200 bg-white py-10",n=t==="dark"?"rounded-3xl border border-slate-800 bg-slate-900/70 p-8 shadow-[0_20px_45px_rgba(10,20,40,0.45)] text-slate-200":"rounded-3xl border border-slate-200 bg-white p-8 shadow-[0_18px_40px_rgba(15,23,42,0.12)] text-slate-700",r=t==="dark"?"border-slate-800/80 bg-slate-900/60 text-slate-400":"border-slate-200 bg-slate-100 text-slate-500",s=t==="dark"?"text-white":"text-slate-900",i=t==="dark"?"text-slate-300":"text-slate-600",o=t==="dark"?"text-slate-400":"text-slate-500";return c.jsx("section",{className:e,children:c.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[c.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[c.jsx("span",{className:`inline-flex rounded-full border px-3 py-1 text-xs uppercase tracking-wide ${r}`,children:"Built with reward maximizers"}),c.jsx("h2",{className:`mt-2 text-3xl font-semibold sm:text-4xl ${s}`,children:"What early users say about Monthly Advisor"}),c.jsx("p",{className:`mt-2 text-base sm:text-lg ${i}`,children:"RightCards first phase was shaped by community insiders who live and breathe category tracking. Heres why they keep it open."})]}),c.jsx("div",{className:"mt-6 grid gap-6 md:grid-cols-3",children:zT.map(({id:a,name:l,quote:u})=>c.jsxs(ee.blockquote,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"0px 0px -120px"},transition:{duration:.45},className:`flex h-full flex-col justify-between ${n}`,children:[c.jsx("p",{className:"text-base",children:u}),c.jsx("footer",{className:`mt-6 text-sm font-semibold ${o}`,children:l})]},a))})]})})}const HT=S.memo(WT);function KT({onOpenWaitlist:t,onLaunchAdvisor:e,theme:n}){const r=n==="dark"?"bg-gradient-to-r from-sky-600/[0.12] via-indigo-600/[0.18] to-sky-600/[0.12]":"bg-gradient-to-r from-sky-200/[0.35] via-indigo-200/[0.4] to-sky-200/[0.35]",s=n==="dark"?"border-slate-700/40 bg-slate-900/80 text-white shadow-[0_30px_70px_rgba(15,30,60,0.5)]":"border-slate-200 bg-white text-slate-900 shadow-[0_25px_60px_rgba(15,30,60,0.18)]";return c.jsxs("section",{className:"relative overflow-hidden py-12",children:[c.jsx("div",{className:`absolute inset-0 ${r} blur-3xl`}),c.jsxs("div",{className:`container relative mx-auto max-w-5xl rounded-[40px] border px-6 py-10 text-center backdrop-blur ${s}`,children:[c.jsx("h2",{className:"text-3xl font-semibold sm:text-4xl",children:"Ready to check your next purchase with Monthly Advisor?"}),c.jsx("p",{className:"mt-2 text-base text-slate-300 sm:text-lg",children:"Add the cards you already carry, pick a spend category, and get the best-card verdict plus issuer proof in seconds. Wallet automation comes nextbe on the first invite list."}),c.jsxs("div",{className:"mt-5 flex flex-col items-center justify-center gap-4 sm:flex-row",children:[c.jsx("a",{href:"#advisor",onClick:i=>{i.preventDefault(),e==null||e()},className:"w-full rounded-full bg-white px-8 py-3 text-sm font-semibold text-slate-900 shadow-lg transition hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-200 sm:w-auto",children:"Jump to Monthly Advisor"}),c.jsx("button",{type:"button",onClick:t,className:`w-full rounded-full border px-8 py-3 text-sm font-semibold shadow-[0_18px_36px_rgba(5,12,28,0.35)] transition focus:outline-none focus-visible:ring-2 sm:w-auto ${n==="dark"?"border-slate-700/70 bg-slate-900/70 text-slate-200 hover:border-sky-500/60 hover:text-white focus-visible:ring-slate-100":"border-slate-200 bg-white text-slate-700 hover:border-sky-400 hover:text-sky-600 focus-visible:ring-slate-200"}`,children:"Join wallet waitlist"}),c.jsx("a",{href:"#how-it-works",className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-200",children:"See how it works"}),c.jsx("span",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Spots opening soon  Get notified first"})]})]})]})}const qT=S.memo(KT);function GT({open:t,onClose:e,onSubmit:n,theme:r="dark"}){const[s,i]=S.useState(""),[o,a]=S.useState(!1),[l,u]=S.useState(""),[d,h]=S.useState(!1),f=r==="dark",p=f?"bg-slate-950/80":"bg-slate-900/15",v=f?"relative w-full max-w-lg overflow-hidden rounded-[32px] border border-slate-800 bg-slate-950/95 p-8 text-left shadow-[0_40px_80px_rgba(8,16,32,0.65)]":"relative w-full max-w-lg overflow-hidden rounded-[32px] border border-slate-200 bg-white p-8 text-left shadow-[0_35px_70px_rgba(15,23,42,0.18)]",w=f?"absolute right-5 top-5 inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-800/70 text-slate-400 transition hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-100":"absolute right-5 top-5 inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition hover:text-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-300",x=f?"border-slate-800/80 bg-slate-900/80 text-slate-400":"border-slate-200 bg-slate-100 text-slate-600",g=f?"text-white":"text-slate-900",m=f?"text-slate-300":"text-slate-600",y=f?"text-xs font-semibold uppercase tracking-wide text-slate-400":"text-xs font-semibold uppercase tracking-wide text-slate-600",b=f?"mt-2 w-full rounded-2xl border border-slate-800 bg-slate-900 px-4 py-3 text-sm text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/50":"mt-2 w-full rounded-2xl border border-slate-300 bg-white px-4 py-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/30",_="text-xs text-slate-500",k=f?"rounded-2xl border border-slate-800/80 bg-slate-900/60 px-4 py-3 text-xs text-slate-400":"rounded-2xl border border-slate-200 bg-slate-100 px-4 py-3 text-xs text-slate-600",C=f?"text-slate-200":"text-slate-900";S.useEffect(()=>{t||(i(""),a(!1),u(""))},[t]);function j(A){if(A.preventDefault(),!s.trim()){u("Add an email so we can send an invite.");return}u(""),h(!0),(async()=>{try{await(n==null?void 0:n(s.trim())),a(!0)}catch(N){console.error("waitlist submit failed",N);const q=N instanceof Error?N.message:"Something went wrong. Please try again.";u(q),a(!1)}finally{h(!1)}})()}return c.jsx(Pt,{children:t&&c.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-50 flex items-center justify-center px-4 backdrop-blur-sm ${p}`,role:"dialog","aria-modal":"true",children:c.jsxs(ee.div,{initial:{scale:.94,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.92,opacity:0},transition:{type:"spring",stiffness:160,damping:18},className:v,children:[c.jsx("button",{type:"button",onClick:e,className:w,"aria-label":"Close waitlist dialog",children:c.jsx("span",{"aria-hidden":"true",className:"text-lg leading-none",children:""})}),c.jsxs("div",{className:"flex flex-col gap-6",children:[c.jsxs("header",{children:[c.jsx("span",{className:`inline-flex rounded-full border px-3 py-1 text-xs uppercase tracking-wide ${x}`,children:"Early access"}),c.jsx("h2",{className:`mt-4 text-2xl font-semibold sm:text-3xl ${g}`,children:"Be first in line for RightCard"}),c.jsx("p",{className:`mt-2 text-sm ${m}`,children:"We open access in waves so we can onboard hands-on. Leave your email and we will send an invite as soon as the next spot is ready."})]}),c.jsxs("form",{className:"flex flex-col gap-3",onSubmit:j,children:[c.jsxs("label",{className:y,children:["Email",c.jsx("input",{type:"email",value:s,onChange:A=>i(A.target.value),placeholder:"you@example.com",className:b,required:!0})]}),l?c.jsx("p",{className:"text-xs text-rose-400",children:l}):c.jsx("p",{className:_,children:"We never share your contact info. Unsubscribe anytime."}),c.jsx("button",{type:"submit",disabled:d||o,className:"mt-2 inline-flex items-center justify-center rounded-full bg-gradient-to-r from-sky-500 to-blue-600 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-900/45 transition hover:from-sky-400 hover:to-blue-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60",children:o?"Youre on the list!":d?"Submitting":"Notify me"}),o&&c.jsx("p",{className:"text-xs text-emerald-400","aria-live":"polite",children:"Well email you as soon as the next wave opens."})]}),c.jsxs("footer",{className:k,children:[c.jsx("strong",{className:C,children:"Security pledge:"})," ","RightCard stores your cards in local storage only. No sensitive details leave your device without consent."]})]})]})})})}const JT=[{id:"yes",label:"Yes  it found the right card"},{id:"not_yet",label:"Not yet  still comparing"},{id:"need_help",label:"I need help to understand the results"}];function YT({open:t,onClose:e,onSubmit:n}){const[r,s]=S.useState("yes"),[i,o]=S.useState(""),[a,l]=S.useState(""),[u,d]=S.useState(""),[h,f]=S.useState(!1),[p,v]=S.useState(!1);S.useEffect(()=>{t||(s("yes"),o(""),l(""),d(""),f(!1),v(!1))},[t]);async function w(x){if(x.preventDefault(),!i.trim()){d("Please share a quick note so we know how to improve.");return}d(""),v(!0);try{await(n==null?void 0:n({outcome:r,message:i.trim(),email:a.trim()})),f(!0)}catch(g){console.error("feedback submit failed",g),d(g instanceof Error?g.message:"Something went wrong. Try again.")}finally{v(!1)}}return c.jsx(Pt,{children:t&&c.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 px-4 backdrop-blur",role:"dialog","aria-modal":"true",children:c.jsxs(ee.div,{initial:{scale:.94,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.92,opacity:0},transition:{type:"spring",stiffness:180,damping:20},className:"relative w-full max-w-xl rounded-[32px] border border-slate-800 bg-slate-950/95 p-8 text-left text-slate-100 shadow-[0_40px_80px_rgba(8,16,32,0.65)]",children:[c.jsx("button",{type:"button",onClick:e,className:"absolute right-5 top-5 inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-800/70 text-slate-400 transition hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-100","aria-label":"Close feedback dialog",children:""}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("header",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-sky-400",children:"Help improve Monthly Advisor"}),c.jsx("h2",{className:"mt-3 text-2xl font-semibold text-white",children:"Did the advisor help you pick the right card?"}),c.jsx("p",{className:"mt-2 text-sm text-slate-300",children:"Two quick questions so we know what to fix or double down on. No emails unless you ask us to follow up."})]}),c.jsxs("form",{className:"space-y-4",onSubmit:w,children:[c.jsxs("fieldset",{className:"space-y-3",children:[c.jsx("legend",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Outcome"}),JT.map(({id:x,label:g})=>c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx("input",{type:"radio",name:"outcome",value:x,checked:r===x,onChange:m=>s(m.target.value),className:"text-sky-500"}),c.jsx("span",{children:g})]},x))]}),c.jsxs("label",{className:"block text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:["Share context",c.jsx("textarea",{value:i,onChange:x=>o(x.target.value),rows:4,className:"mt-2 w-full rounded-2xl border border-slate-800 bg-slate-900 px-4 py-3 text-sm text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/40",placeholder:"Tell us what worked, what was confusing, or which category you were evaluating."})]}),c.jsxs("label",{className:"block text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:["Email (optional for follow-up)",c.jsx("input",{type:"email",value:a,onChange:x=>l(x.target.value),className:"mt-2 w-full rounded-2xl border border-slate-800 bg-slate-900 px-4 py-3 text-sm text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/40",placeholder:"you@example.com"})]}),u&&c.jsx("p",{className:"text-xs text-rose-400",children:u}),h&&!u&&c.jsx("p",{className:"text-xs text-emerald-400","aria-live":"polite",children:"Thanks for sharing! Well read every response."}),c.jsx("button",{type:"submit",disabled:p||h,className:"inline-flex items-center justify-center rounded-full bg-gradient-to-r from-sky-500 to-blue-600 px-8 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-900/45 transition hover:from-sky-400 hover:to-blue-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60",children:h?"Feedback sent":p?"Sending":"Send feedback"})]})]})]})})})}function QT({open:t,onClose:e,onCopy:n,onDownload:r,onDownloadImage:s,copied:i,entries:o,monthLabel:a,theme:l="dark"}){const u=l==="dark",d=u?"bg-slate-950/85":"bg-slate-900/20",h=u?"w-full max-w-3xl rounded-[32px] border border-slate-800 bg-slate-950/95 p-8 text-slate-100 shadow-[0_40px_80px_rgba(5,10,20,0.7)] max-h-[90vh] overflow-y-auto":"w-full max-w-3xl rounded-[32px] border border-slate-200 bg-white p-8 text-slate-900 shadow-[0_35px_70px_rgba(15,23,42,0.18)] max-h-[90vh] overflow-y-auto",f=u?"rounded-2xl border border-slate-800/80 bg-slate-900/70 p-4":"rounded-2xl border border-slate-200 bg-slate-50 p-4",p=u?"text-slate-400":"text-slate-500",v="inline-flex items-center justify-center rounded-full bg-gradient-to-r from-sky-500 to-blue-600 px-5 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-900/40 transition hover:from-sky-400 hover:to-blue-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400",w=u?"inline-flex items-center justify-center rounded-full border border-slate-700 px-5 py-3 text-sm font-semibold text-slate-200 hover:border-slate-500":"inline-flex items-center justify-center rounded-full border border-slate-300 px-5 py-3 text-sm font-semibold text-slate-700 hover:border-slate-500";return c.jsx(Pt,{children:t&&c.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-50 flex items-center justify-center px-4 backdrop-blur ${d}`,role:"dialog","aria-modal":"true",children:c.jsxs(ee.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.94},transition:{type:"spring",stiffness:180,damping:22},className:h,children:[c.jsx("button",{type:"button","aria-label":"Close playback dialog",onClick:e,className:"absolute right-6 top-6 inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-700/60 text-lg",children:""}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("header",{className:"space-y-3 text-center",children:[c.jsx("div",{className:"inline-flex items-center gap-3 rounded-full border border-sky-500/40 bg-sky-500/10 px-4 py-1 text-xs font-semibold uppercase tracking-[0.35em] text-sky-300",children:"rightcard.club"}),c.jsx("h2",{className:"text-3xl font-semibold",children:"Monthly Advisor Playback"}),c.jsxs("p",{className:`${p} text-sm`,children:["Snapshot for ",a,". Share it so people know Monthly Advisor did the work."]}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[c.jsx("button",{type:"button",className:v,onClick:n,children:i?"Copied":"Copy summary"}),c.jsx("button",{type:"button",className:w,onClick:r,children:"Download .txt"}),c.jsx("button",{type:"button",className:`${w} ${u?"border-sky-500/60 text-sky-300":"border-sky-400 text-sky-600"}`,onClick:s,children:"Download image"})]})]}),c.jsx("div",{className:"grid gap-3",children:o.map(({category:x,bestCard:g,rate:m,status:y,accent:b})=>c.jsxs("div",{className:f,children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-400",children:"Category"}),c.jsx("p",{className:"text-lg font-semibold",children:x})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-400",children:"Winner"}),c.jsx("p",{className:"text-base font-semibold",style:{color:b},children:g}),c.jsx("p",{className:`${p} text-sm`,children:m})]})]}),c.jsx("p",{className:`${p} mt-2 text-xs`,children:y})]},x))}),c.jsxs("p",{className:`${p} text-center text-xs`,children:[" ",new Date().getFullYear()," rightcard.club  Playback generated automatically for monthly planning."]})]})]})})})}const XT={white:"#ffffff"},ZT={"Groceries (Supermarkets)":"#12c38c","Gas & EV Charging":"#ff7a66","Dining & Restaurants":"#f9b34c","Online & Wallets (Amazon/PayPal)":"#5a63ff","Drugstores & Pharmacies":"#9f67ff","Entertainment & Experiences":"#7a5af8","Home Improvement / Warehouse Clubs":"#ff8c5b","Transit & Utilities":"#37c5ff"},e2=["January","February","March","April","May","June","July","August","September","October","November","December"],ct={RULES:"qs_rules_v1",CARDS:"qs_user_cards_v1",ACTIVATION:"qs_activation_v1",ONBOARDING:"qs_onboarding_v1",THEME:"qs_theme_pref_v1"},Ve={view:"view_home",openAdd:"open_add_cards",openManage:"open_manage_cards",openDetails:"open_quick_details",quickAdd:"add_card_quick",bulkAdd:"add_card_bulk",manageAdd:"add_card_manage",undo:"undo_add_cards",remove:"remove_card",feedback:"open_feedback",waitlistOpen:"open_waitlist",waitlistSubmit:"submit_waitlist",playbackOpen:"open_playback",playbackCopy:"copy_playback"},Ua=(typeof import.meta<"u"?"https://dakkkcnpzyqjmratjnvi.supabase.co":null)||"https://your-project.supabase.co",fa=(typeof import.meta<"u"?"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha2trY25wenlxam1yYXRqbnZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2MDQ1MjIsImV4cCI6MjA3OTE4MDUyMn0.gzWioqMfJW0zbewo7Qoj0bJvB1XqRD3xjItnIZGz4MU":null)||"your-anon-key",t2=`${Ua}/rest/v1/waitlist_emails`,n2=`${Ua}/rest/v1/feedback_responses`;function lr(t,e=.12){const n=t.replace("#",""),r=n.slice(0,2),s=n.slice(2,4),i=n.slice(4,6),o=Math.round(e*255).toString(16).padStart(2,"0");return`#${r}${s}${i}${o}`}function nx(t){return ZT[t]||"#6366f1"}function os(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}}function Gr(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch{}}async function r2(t){if(typeof window>"u"||!t||!(typeof window.TextDetector<"u"))return"";try{const n=new window.TextDetector,r=document.createElement("img"),s=URL.createObjectURL(t);r.src=s,await r.decode();const i=await n.detect(r);URL.revokeObjectURL(s);const l=i.map(u=>u.rawValue||"").join(" ").replace(/[^0-9]/g,"").slice(-4);return l.length===4?l:""}catch(n){return console.warn("Card scan failed",n),""}}function Bt(t,e){const r=`<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'><rect x='0' y='0' rx='6' width='24' height='24' fill='${lr(e,.14)}'/><g stroke='${e}' fill='none' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.6'>${t}</g></svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(r)}`}function lc(t){const e=nx(t);switch(t){case"Groceries (Supermarkets)":return Bt("M7 9h10v8a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V9zm2 0a3 3 0 0 1 6 0",e);case"Gas & EV Charging":return Bt("M6 7h7v12H8a2 2 0 0 1-2-2V7zm7 2h3l2 2v5a2 2 0 0 1-2 2M18 9v2",e);case"Dining & Restaurants":return Bt("M7 5v8M9 5v8M8 13v4M16 5v12M14 7h4",e);case"Online & Wallets (Amazon/PayPal)":return Bt("M7 9h10v9H7zM9 9a3 3 0 0 1 6 0",e);case"Drugstores & Pharmacies":return Bt("M8.5 8.5l7 7M9 15a4 4 0 1 1 5.7-5.7L9 15zM15 9a4 4 0 1 1 0 5.7",e);case"Entertainment & Experiences":return Bt("M6 9h12v6H6zM8 9v6M16 9v6",e);case"Home Improvement / Warehouse Clubs":return Bt("M5 12l7-5 7 5v6H5zM9 18v-4h6v4",e);case"Transit & Utilities":return Bt("M8 6h8a2 2 0 0 1 2 2v7H6V8a2 2 0 0 1 2-2zm-2 9l-2 3m12-3l2 3M9 10h6M9 13h6",e);default:return Bt("M6 6h12v12H6z",e)}}function s2(t,e){const n=new Date,r=`rightcard.club  Monthly Advisor Playback (${e})`,s=`Generated on ${n.toLocaleString()}`,i=[];for(const l of t)i.push(`${l.category}: ${l.bestCard}  ${l.rate}${l.status?` (${l.status})`:""}`),l.confidenceLine&&i.push(`   ${l.confidenceLine}`);const o=["Review issuer terms, caps, and activation requirements before relying on these picks.","RightCard Club provides informational guidance only  you accept all risk when using it."],a=` ${n.getFullYear()} rightcard.club  Built for reward maximizers.`;return[r,s,"--------------------------------------",...i,"--------------------------------------",...o,a].join(`
`)}const pa={},i2={"Groceries (Supermarkets)":u2,"Gas & EV Charging":c2,"Dining & Restaurants":d2,"Online & Wallets (Amazon/PayPal)":h2,"Drugstores & Pharmacies":f2,"Entertainment & Experiences":p2,"Home Improvement / Warehouse Clubs":m2,"Transit & Utilities":g2},o2=["blue_cash_preferred_amex","discover_it_cash_back","citi_custom_cash","capital_one_savorone","costco_anywhere_visa_citi","wells_fargo_active_cash","chase_freedom_unlimited","chase_freedom_flex"];function a2({className:t="h-3.5 w-3.5"}){return c.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}function l2({className:t="h-3.5 w-3.5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2"}),c.jsx("path",{d:"M12 21v2"}),c.jsx("path",{d:"m4.22 4.22 1.42 1.42"}),c.jsx("path",{d:"m18.36 18.36 1.42 1.42"}),c.jsx("path",{d:"M1 12h2"}),c.jsx("path",{d:"M21 12h2"}),c.jsx("path",{d:"m4.22 19.78 1.42-1.42"}),c.jsx("path",{d:"m18.36 5.64 1.42-1.42"})]})}function rx({category:t,className:e="h-5 w-5"}){const n=i2[t]||y2;return c.jsx(n,{className:e})}function u2({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M4 10h16"}),c.jsx("path",{d:"M6 10l2 8h8l2-8"}),c.jsx("path",{d:"M9 10V6h6v4"})]})}function c2({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M4 5h8v14H4z"}),c.jsx("path",{d:"M12 9l6-3"}),c.jsx("path",{d:"M18 6v10a2 2 0 0 0 2 2h0"})]})}function d2({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M4 3v7"}),c.jsx("path",{d:"M8 3v7"}),c.jsx("path",{d:"M4 10c0 4 2 5 2 8v3"}),c.jsx("path",{d:"M8 10c0 4-2 5-2 8"}),c.jsx("path",{d:"M16 3v18"}),c.jsx("path",{d:"M12 7h8"})]})}function h2({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M6 6h15l-1.5 6H7.5z"}),c.jsx("circle",{cx:"9",cy:"19",r:"1.5"}),c.jsx("circle",{cx:"17",cy:"19",r:"1.5"}),c.jsx("path",{d:"M6 6L5 3H2"})]})}function f2({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M8 3h8"}),c.jsx("path",{d:"M12 3v18"}),c.jsx("path",{d:"M6 9h12"}),c.jsx("path",{d:"M6 15h12"})]})}function p2({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M3 9h4v6H3a2 2 0 0 1 0-4 2 2 0 0 1 0-4"}),c.jsx("path",{d:"M21 9h-4v6h4a2 2 0 0 0 0-4 2 2 0 0 0 0-4"})]})}function m2({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M3 3l6 6"}),c.jsx("path",{d:"M9 3h6l3 3-3 3"}),c.jsx("path",{d:"M11 11l-6 6"}),c.jsx("path",{d:"M5 21l-2-2"})]})}function g2({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("rect",{x:"5",y:"3",width:"14",height:"13",rx:"2"}),c.jsx("path",{d:"M5 16v3"}),c.jsx("path",{d:"M19 16v3"}),c.jsx("circle",{cx:"7.5",cy:"18.5",r:"1.5"}),c.jsx("circle",{cx:"16.5",cy:"18.5",r:"1.5"})]})}function y2({className:t="h-5 w-5"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M4 7h16"}),c.jsx("path",{d:"M4 12h16"}),c.jsx("path",{d:"M4 17h16"})]})}function v2({className:t="h-4 w-4"}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M12 22c4-2 7-4.5 7-10V5l-7-3-7 3v7c0 5.5 3 8 7 10Z"}),c.jsx("path",{d:"m9.5 12.5 2 2 3-3"}),c.jsx("path",{d:"M12 8v.01"})]})}function Be(t,e){if(typeof window>"u")return;const n=window.umami;n!=null&&n.track&&n.track(t,e)}async function x2(t){if(Ua.includes("your-project"))throw new Error("Supabase credentials missing. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.");const e={...t,user_agent:typeof navigator<"u"?navigator.userAgent:"server"};if(!(await fetch(n2,{method:"POST",headers:{"Content-Type":"application/json",apikey:fa,Authorization:`Bearer ${fa}`,Prefer:"return=minimal"},body:JSON.stringify(e)})).ok)throw new Error("Feedback submission failed")}async function w2(t,e=""){if(Ua.includes("your-project"))throw new Error("Supabase credentials missing. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.");const n={email:t,referrer:e,user_agent:typeof navigator<"u"?navigator.userAgent:"server"};if(!(await fetch(t2,{method:"POST",headers:{"Content-Type":"application/json",apikey:fa,Authorization:`Bearer ${fa}`,Prefer:"return=minimal"},body:JSON.stringify(n)})).ok)throw new Error("Waitlist submission failed")}function wi(t){return(t||"").replace(/[^0-9]/g,"").slice(0,4)}function uc(t,e,n){const r=wi(n);return t.some(s=>s.id===e&&(s.last4||"")===r)}function sx(t){return!!os(ct.ACTIVATION,{})[t]}function um(t,e){const n=os(ct.ACTIVATION,{});n[t]=!!e,Gr(ct.ACTIVATION,n)}function b2(){const[t,e]=S.useState(()=>os(ct.RULES,null));return S.useEffect(()=>{let n=!0;return(async()=>{try{const r=await Fj();if(!n)return;e(()=>(Gr(ct.RULES,r),r))}catch{}})(),()=>{n=!1}},[]),t}function _2(){const[t,e]=S.useState(null),[n,r]=S.useState(!!Et),[s,i]=S.useState(""),[o,a]=S.useState("");S.useEffect(()=>{let h=!0;(async()=>{if(!Et){r(!1);return}try{const p=await cT();h&&e(p)}finally{h&&r(!1)}})();const f=dT(p=>{h&&(e(p),a(""),i(""))});return()=>{var p;h=!1,(p=f==null?void 0:f.unsubscribe)==null||p.call(f)}},[]);async function l(h,f){if(!(!h||!f)){i(""),a(""),r(!0);try{await hT(h,f)}catch(p){const v=(p==null?void 0:p.message)||"Sign-in failed. Try again.";i(v)}finally{r(!1)}}}async function u(h,f){if(!(!h||!f)){i(""),a(""),r(!0);try{await fT(h,f),a("Account created. Youre signed in.")}catch(p){const v=(p==null?void 0:p.message)||"Sign-up failed. Try again.";i(v)}finally{r(!1)}}}async function d(){try{await pT(),e(null)}catch(h){i((h==null?void 0:h.message)||"Unable to sign out.")}}return{session:t,user:(t==null?void 0:t.user)||null,authLoading:n,authError:s,authMessage:o,requestSignIn:l,requestSignUp:u,requestSignOut:d,supabaseReady:!!Et}}function k2(t,e,n){const[r,s]=S.useState(()=>os(ct.CARDS,[])),[i,o]=S.useState(!1),[a,l]=S.useState(""),[u,d]=S.useState(""),h=S.useMemo(()=>((t==null?void 0:t.cards)||[]).filter(v=>v.market===e),[t,e]);S.useEffect(()=>{if(!n){l(""),d(""),s(os(ct.CARDS,[]));return}let v=!1;return o(!0),l(""),(async()=>{try{const w=await mT(n.id);if(v)return;s(w),Gr(ct.CARDS,w),d(new Date().toISOString())}catch(w){if(v)return;const x=(w==null?void 0:w.message)||"Cloud sync failed.";l(x)}finally{v||o(!1)}})(),()=>{v=!0}},[n==null?void 0:n.id]);function f(v,w=""){const x=h.find(b=>b.id===v);if(!x)return;const g=wi(w);if(uc(r,x.id,g))return;const m={id:x.id,display_name:x.display_name,issuer:x.issuer,logo_key:x.logo_key,last4:g},y=[...r,m];s(y),Gr(ct.CARDS,y),n&&(o(!0),gT(n.id,m).then(()=>{l(""),d(new Date().toISOString())}).catch(b=>{l((b==null?void 0:b.message)||"Cloud save failed.")}).finally(()=>o(!1)))}function p(v,w){const x=wi(w),g=r.filter(m=>!(m.id===v&&(m.last4||"")===x));s(g),Gr(ct.CARDS,g),n&&(o(!0),yT(n.id,v,x).then(()=>{l(""),d(new Date().toISOString())}).catch(m=>{l((m==null?void 0:m.message)||"Cloud delete failed.")}).finally(()=>o(!1)))}return{cards:r,addCard:f,removeCard:p,available:h,syncing:i,syncError:a,lastSynced:u}}function ix(t,e,n,r,s,i=t.period){var h,f;const o=t.cards.find(p=>p.id===n&&p.market===e);if(!o)return{rate:0,base:0,rule:null,confidence:80,cardMeta:null};const a=(o.category_rules||[]).find(p=>p.category_id===r&&(!p.period||p.period===i)),l=o.base_rate||0;let u=l,d=80;return a&&(d=(h=a.mcc_includes)!=null&&h.length?100:(f=a.notes)!=null&&f.length?90:80,u=a.activation_required&&!s?l:Math.max(l,a.rate||l)),{rate:u,base:l,rule:a,confidence:d,cardMeta:o,activationActive:s}}function S2(t,e,n){var i,o,a,l,u,d,h;const r=t.categories.map(f=>({id:f.id,label:f.label})),s=[];for(const f of r){const p=[];for(const m of n){const y=`${m.id}|${f.id}|${t.period}`,b=sx(y),{rate:_,base:k,rule:C,confidence:j,cardMeta:A,activationActive:N}=ix(t,e,m.id,f.id,b,t.period);p.push({card:m,cardMeta:A,rate:_,base:k,rule:C,confidence:j,activationActive:N})}p.sort((m,y)=>y.rate-m.rate);const v=((i=p[0])==null?void 0:i.rate)??0,w=p.filter(m=>Math.abs(m.rate-v)<=1e-9),x=w.length?j2(w,f.id):null,g=nx(f.label);if(x){const m=x.cardMeta,y=m!=null&&m.source_url?{label:m.display_name||x.card.display_name,url:m.source_url}:null,b=!!y,_=!!((a=(o=x.rule)==null?void 0:o.mcc_includes)!=null&&a.length),k=!!((l=x.rule)!=null&&l.activation_required),C=k?!!x.activationActive:!0;s.push({categoryId:f.id,category:f.label,accent:g,bestCard:x.card.display_name,bestCardId:x.card.id,bestCardLast4:x.card.last4||"",bestRate:x.rate,logoKey:x.card.logo_key,iconURI:pa[f.label]||lc(f.label),source:y,reasons:[(u=x.rule)!=null&&u.rate?`${x.rule.rate}% this period`:`Base rate ${x.base}%`,...(d=x.rule)!=null&&d.activation_required?["Activation required"]:[],...((h=x.rule)==null?void 0:h.notes)||[]],benefit:`${Math.round(x.rate*10)/10}% back this month`,confidence:x.confidence,confidenceSummary:{level:x.confidence,hasProof:b,activationRequired:k,activationReady:C,hasMccCoverage:_},alternatives:w.filter(j=>j.card.id!==x.card.id).map(j=>{const A=j.cardMeta,N=A!=null&&A.source_url?{label:A.display_name||j.card.display_name,url:A.source_url}:null;return{label:j.card.display_name,last4:j.card.last4,rate:j.rate,logoKey:j.card.logo_key,id:j.card.id,source:N}})})}else s.push({categoryId:f.id,category:f.label,accent:g,bestCard:"Add a card",bestCardId:"",bestCardLast4:"",bestRate:0,logoKey:"fallback",iconURI:pa[f.label]||lc(f.label),source:null,reasons:["Add at least one card"],benefit:"No cards yet",confidence:0,confidenceSummary:{level:0,hasProof:!1,activationRequired:!1,activationReady:!1,hasMccCoverage:!1},alternatives:[]})}return s}function j2(t,e){if(!t||t.length===0)return null;let n=0;for(let r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t[Math.abs(n)%t.length]}function C2(t){if(!(t!=null&&t.length))return"Every category now has a winner.";const e=t.slice(0,2).join(", ");return t.length>2?`${e} +${t.length-2} more still need cards.`:`${e} still need cards.`}function E2({active:t,iconURI:e,label:n,rate:r,accent:s,onClick:i,theme:o="dark"}){const a=o==="dark",l=t?{background:`linear-gradient(135deg, ${s} 0%, ${lr(s,.85)} 100%)`,color:"#fff",borderColor:"transparent",boxShadow:a?"0 28px 56px rgba(15, 23, 42, 0.55)":"0 24px 48px rgba(15, 23, 42, 0.25)"}:a?{background:"rgba(15, 23, 42, 0.65)",color:"#cbd5f5",borderColor:"rgba(148, 163, 184, 0.18)",boxShadow:"0 22px 40px rgba(2, 6, 23, 0.55)"}:{background:"#ffffff",color:"#1f2937",borderColor:"rgba(148, 163, 184, 0.35)",boxShadow:"0 18px 36px rgba(15, 23, 42, 0.12)"},u="w-full text-left rounded-3xl border transition min-h-[60px] focus:outline-none focus:ring-2 focus:ring-sky-500/40",d=t?"text-white":a?"":"text-slate-900",h=t?"":a?"hover:shadow-[0_24px_50px_rgba(2,6,23,0.45)]":"hover:shadow-[0_24px_48px_rgba(15,23,42,0.15)]",f=t?"text-sm font-semibold leading-tight text-white truncate":a?"text-sm font-semibold leading-tight text-slate-200 truncate":"text-sm font-semibold leading-tight text-slate-900 truncate";return c.jsx("button",{onClick:i,"aria-pressed":t,className:`${u} ${d} ${h}`,style:{padding:"16px 18px",outlineColor:s,...l},children:c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full",style:{background:t?"rgba(255,255,255,0.22)":lr(s,a?.18:.14)},children:c.jsx(rx,{category:n,className:"w-5 h-5 shrink-0"})}),c.jsx("span",{className:f,children:n})]}),c.jsx("div",{className:"flex items-center gap-2 min-w-0",children:c.jsxs("span",{className:"text-sm font-bold shrink-0",style:{color:t?"inherit":s},children:[Math.round(r*10)/10,"%"]})})]})})}function T2({checked:t,onChange:e,label:n,theme:r="dark"}){const s=r==="dark",i=t?"bg-brand":s?"bg-slate-800/40":"bg-slate-200",o=s?"text-[11px] text-slate-300":"text-[11px] text-slate-500";return c.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[c.jsx("span",{className:o,children:n}),c.jsxs("span",{className:`relative inline-flex items-center w-9 h-5 rounded-full ${i}`,role:"switch","aria-checked":t,children:[c.jsx("input",{type:"checkbox",className:"sr-only",checked:t,onChange:a=>e(a.target.checked)}),c.jsx("span",{className:`absolute left-0.5 top-0.5 w-4 h-4 rounded-full bg-white transition-transform ${t?"translate-x-4":""}`})]})]})}function P2({label:t,value:e,accent:n}){return c.jsxs("div",{className:"px-2 py-1 rounded text-[10px]",style:{backgroundColor:lr(n,.14),color:n,border:`1px solid ${lr(n,.35)}`},children:[t,": ",c.jsx("strong",{children:e})]})}function A2({list:t}){return t!=null&&t.length?c.jsxs("div",{className:"mt-2",children:[c.jsxs("button",{className:"text-[11px] underline brand-link",children:["View alternatives (",t.length,")"]}),c.jsx("div",{className:"mt-1 flex flex-wrap gap-1.5",children:t.map(e=>c.jsxs("span",{className:"px-2 py-1 rounded-full text-[10px] brand-pill flex items-center gap-1",children:[c.jsxs("span",{children:[e.label,e.last4?`   ${e.last4}`:"","  ",Math.round(e.rate*10)/10,"%"]}),e.source?c.jsx("a",{href:e.source.url,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] font-semibold brand-link hover:underline inline-flex items-center gap-0.5",children:c.jsxs("span",{children:["Source",c.jsx("span",{"aria-hidden":!0,children:""})]})}):null]},`${e.label}-${e.last4||""}`))})]}):null}function R2({theme:t,description:e,sourceUrl:n}){const r=t==="dark",s=r?"mt-4 flex items-center justify-between gap-3 rounded-2xl border border-slate-800/70 bg-slate-900/70 px-4 py-3 shadow-[0_18px_40px_rgba(8,15,35,0.45)]":"mt-4 flex items-center justify-between gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-[0_16px_32px_rgba(15,23,42,0.12)]",i=r?"bg-sky-500/10 text-sky-300":"bg-sky-100 text-sky-500",o=r?"text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-400":"text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500",a=r?"text-xs text-slate-200":"text-xs text-slate-700",l=r?"text-[11px] font-semibold text-sky-300 hover:text-sky-200 transition":"text-[11px] font-semibold text-sky-600 hover:text-sky-500 transition";return c.jsxs("div",{className:s,children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsx("span",{className:`flex h-10 w-10 items-center justify-center rounded-xl ${i}`,children:c.jsx(v2,{className:"h-5 w-5"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:o,children:"Proof of trust"}),c.jsx("p",{className:`${a} truncate`,children:e})]})]}),n?c.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:l,children:["View proof",c.jsx("span",{"aria-hidden":!0,className:"ml-1",children:""})]}):null]})}function N2({summary:t={},theme:e}){const n=e==="dark",r=n?"mt-3 rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4 shadow-[0_18px_36px_rgba(6,12,25,0.45)]":"mt-3 rounded-2xl border border-slate-200 bg-white p-4 shadow-[0_18px_36px_rgba(15,23,42,0.12)]",s=n?"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400":"text-xs font-semibold uppercase tracking-[0.35em] text-slate-500",i=n?"text-2xl font-semibold text-white":"text-2xl font-semibold text-slate-900",o=n?"inline-flex items-center gap-1 rounded-full border border-slate-700/80 px-3 py-1 text-[11px] text-slate-200":"inline-flex items-center gap-1 rounded-full border border-slate-300 px-3 py-1 text-[11px] text-slate-700",a=[t.hasProof?"Issuer proof linked":"Proof pending",t.activationRequired?t.activationReady?"Activation ready":"Activation needed":"No activation needed",t.hasMccCoverage?"MCC coverage verified":"Issuer guidance"];return c.jsxs("div",{className:r,children:[c.jsx("p",{className:s,children:"Instant confidence"}),c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3",children:[c.jsxs("div",{className:i,children:[t.level||0,"%"]}),c.jsx("p",{className:n?"text-xs text-slate-400":"text-xs text-slate-500",children:t.level>=90?"Issuer-verified":t.level>=80?"Community confirmed":"Baseline estimate"})]}),c.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:a.map(l=>c.jsx("span",{className:o,children:l},l))})]})}function O2({theme:t,accent:e,label:n,value:r,helper:s}){const i=t==="dark",o=i?"rounded-2xl border border-slate-800/70 bg-slate-900/70 p-3 shadow-[0_16px_32px_rgba(6,12,25,0.45)]":"rounded-2xl border border-slate-200 bg-white p-3 shadow-[0_14px_28px_rgba(15,23,42,0.12)]",a=i?"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400":"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-500",l=i?"text-[11px] text-slate-400":"text-[11px] text-slate-500";return c.jsxs("div",{className:o,children:[c.jsx("p",{className:a,children:n}),c.jsx("p",{className:"mt-1 text-sm font-semibold",style:{color:e},children:r}),c.jsx("p",{className:"mt-0.5 leading-snug "+l,children:s})]})}function ox({item:t,onToggleActivation:e,activationChecked:n,theme:r,lastVerifiedLabel:s,onRequestAddCards:i,onOpenWizard:o}){var y,b;const a=r==="dark",l=a?"glass h-full shadow-soft":"h-full border-slate-200 bg-white shadow-[0_28px_60px_rgba(15,23,42,0.12)]",u=a?"shadow-soft":"shadow-[0_18px_36px_rgba(15,23,42,0.12)]",d=a?"text-[12px] brand-muted":"text-[12px] text-slate-500",h=a?"text-[12px] font-semibold text-slate-100":"text-[12px] font-semibold text-slate-800",f=a?"text-[10px] brand-muted":"text-[10px] text-slate-500",p=t.confidenceSummary||{level:t.confidence||0,hasProof:!!t.source,activationRequired:!1,activationReady:!0,hasMccCoverage:!1},v=(y=t.source)!=null&&y.label?`${t.source.label}  ${s?`verified ${s}`:"verified monthly"}`:`Community rulepack  ${s?`refreshed ${s}`:"refreshed monthly"}`,w=!!t.bestCardId,x=w?[{id:"activation",label:"Activation",value:n?"On":"Off"},{id:"confidence",label:"Confidence",value:`${t.confidence}%`}]:[{id:"status",label:"Status",value:"Setup needed"}],g=w?[{id:"benefit",label:"This month's boost",value:t.benefit,helper:n?"Activation confirmed for this period.":"Toggle activation before spending."},{id:"fallbacks",label:"Backup plan",value:t.alternatives.length?`${t.alternatives.length} alternate${t.alternatives.length===1?"":"s"} ready`:"Add one more card",helper:t.alternatives.length?"Well surface alternates when caps hit.":"Add another card to unlock alternates."}]:[{id:"coverage",label:"Coverage needed",value:t.category,helper:"Add at least one card here to unlock a verdict."},{id:"next",label:"Next step",value:"Open Add cards",helper:"Takes under a minute and stays on-device."}],m=()=>{i==null||i(t.category)};return c.jsx(d_,{className:l,children:c.jsxs(h_,{className:"p-5 h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl",style:{background:lr(t.accent,.14)},children:c.jsx(rx,{category:t.category,className:"w-5 h-5"})}),c.jsx("h2",{className:"text-base md:text-lg font-bold leading-tight truncate",children:t.category})]}),c.jsx("img",{src:ht[t.logoKey]||ht.fallback,alt:`${t.bestCard} logo`,className:`w-20 h-[100px] rounded object-contain ${u}`})]}),c.jsx(N2,{summary:p,theme:r}),c.jsx("div",{className:"mt-3 flex flex-wrap gap-2 text-[10px]",children:x.map(_=>c.jsx(P2,{label:_.label,value:_.value,accent:t.accent},_.id))}),c.jsx(R2,{theme:r,description:v,sourceUrl:(b=t.source)==null?void 0:b.url}),c.jsxs("div",{className:"mt-3",children:[c.jsx("p",{className:d,children:w?"Best available rate":"No verdict yet"}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsxs("p",{className:"text-2xl md:text-3xl font-semibold",style:{color:t.accent},children:[Math.round(t.bestRate*10)/10,"% back"]}),w?c.jsxs("p",{className:d,children:["via ",t.bestCard,t.bestCardLast4?`   ${t.bestCardLast4}`:""]}):c.jsx("p",{className:d,children:"Add a card to unlock personalized picks."})]})]}),c.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:g.map(_=>c.jsx(O2,{theme:r,accent:t.accent,label:_.label,value:_.value,helper:_.helper},_.id))}),c.jsxs("div",{className:"mt-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:h,children:"Why this card"}),w?c.jsx(T2,{label:"Activated",checked:n,onChange:e,theme:r}):c.jsx("button",{type:"button",onClick:m,className:"text-[11px] font-semibold text-sky-500 transition hover:text-sky-400",children:"Add cards"})]}),c.jsx("ul",{className:"mt-1 list-disc list-inside text-[11px] brand-muted space-y-0.5",children:t.reasons.map(_=>c.jsx("li",{children:_},_))}),c.jsx(A2,{list:t.alternatives})]}),c.jsxs("div",{className:"mt-auto pt-4 flex items-center justify-between gap-3",children:[c.jsx("span",{className:f,children:"Current month  local rules"}),w?c.jsx(ee.button,{whileTap:{scale:.98},className:"px-3 py-2 rounded-xl text-white text-[12px] font-semibold",style:{background:`linear-gradient(135deg, ${t.accent} 0%, ${lr(t.accent,.85)} 100%)`,boxShadow:"0 16px 32px rgba(15, 23, 42, 0.12)"},children:"Use this card"}):c.jsx("button",{type:"button",onClick:m,className:"px-3 py-2 rounded-xl text-[12px] font-semibold text-slate-900 dark:text-white border border-slate-200 dark:border-slate-700 shadow-sm hover:border-sky-400 dark:hover:border-sky-500 transition",children:`Add cards for ${t.category}`})]})]})})}function ax({id:t,title:e,open:n,onToggle:r,children:s,theme:i}){const o=i==="dark",a=o?"rounded-2xl border brand-border bg-surface shadow-soft":"rounded-2xl border border-slate-200 bg-white shadow-[0_22px_45px_rgba(15,23,42,0.12)]",l=o?"w-full flex items-center justify-between gap-3 px-4 py-3 md:px-6 text-left text-[12px] md:text-[13px] font-semibold text-slate-100":"w-full flex items-center justify-between gap-3 px-4 py-3 md:px-6 text-left text-[12px] md:text-[13px] font-semibold text-slate-900",u=o?"text-base font-normal text-slate-500":"text-base font-normal text-slate-400";return c.jsxs("section",{id:t,className:a,children:[c.jsxs("button",{type:"button",onClick:()=>r(!n),"aria-expanded":n,"aria-controls":`${t}-content`,className:l,style:{cursor:"pointer",background:"transparent",border:"none"},children:[c.jsx("span",{children:e}),c.jsx("span",{className:u,"aria-hidden":!0,children:n?"":"+"})]}),n?c.jsx("div",{id:`${t}-content`,className:"px-4 md:px-6 pb-4 md:pb-6 text-[12px] leading-relaxed brand-muted space-y-3 border-t",style:{borderColor:"var(--brand-border)"},children:s}):null]})}function I2({open:t,onToggle:e,theme:n}){return c.jsx(ax,{id:"disclaimer",title:"Disclaimer",open:t,onToggle:e,theme:n,children:c.jsxs("div",{children:[c.jsx("p",{children:"RightCard Club is a community-maintained resource that surfaces card reward details to help people plan their monthly spending."}),c.jsx("p",{children:"The information on this site is provided for general informational and educational purposes only and does not constitute financial, legal, or tax advice."}),c.jsx("p",{children:"Before acting on any suggestion, please:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1.5",children:[c.jsx("li",{children:"Review the official credit card issuer terms, rate disclosures, and current promotional details."}),c.jsx("li",{children:"Confirm activation steps, spending caps, and category exclusions directly with the issuer or merchant."}),c.jsx("li",{children:"Consider your own financial obligations and credit profile before opening or using a card."})]}),c.jsx("p",{children:"Reward programs change frequently and may vary by region, merchant, or customer profile. We strive for accuracy but cannot guarantee that the rates, eligibility requirements, or timelines shown here are current or complete."}),c.jsx("p",{children:"By using this site you accept all risk and agree that RightCard Club, its maintainers, and contributors are not liable for any loss or damage arising from your reliance on the information provided."}),c.jsx("p",{children:"RightCard Club is not endorsed by, affiliated with, or sponsored by any card issuer or bank. All trademarks belong to their respective owners."}),c.jsx("p",{children:"Questions or corrections? Email hello@rightcard.app and we will review as quickly as we can."})]})})}function D2({open:t,onToggle:e,theme:n}){const s=n==="dark"?"font-semibold text-white":"font-semibold text-slate-900";return c.jsx(ax,{id:"privacy-policy",title:"Privacy Policy",open:t,onToggle:e,theme:n,children:c.jsxs("div",{children:[c.jsx("p",{children:"RightCard Club is designed to operate without accounts and with minimal data collection. Your information remains on your device unless you choose to share feedback with us directly."}),c.jsx("p",{children:"Information stored on your device:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1.5",children:[c.jsx("li",{children:"Cards you add, activation choices, and preferences are saved in your browser's local storage so the experience stays personalized on this device."}),c.jsx("li",{children:"This data never leaves your browser unless you export it. You can remove it at any time by clearing your browser data or using the manage cards tools."})]}),c.jsxs("p",{children:[c.jsx("strong",{className:s,children:"Analytics."})," We use privacy-preserving Umami analytics to understand aggregate usage patterns (for example, page views and generic device information). We do not collect card numbers, personal names, or purchase data."]}),c.jsxs("p",{children:[c.jsx("strong",{className:s,children:"Contacting us."})," If you email hello@rightcard.app, we will receive the information you include in that message and will use it only to respond and support you."]}),c.jsxs("p",{children:[c.jsx("strong",{className:s,children:"Data security."})," We follow sensible practices to protect the project infrastructure, but no method of transmission or storage is completely secure. Please avoid sharing sensitive personal information with us."]}),c.jsxs("p",{children:[c.jsx("strong",{className:s,children:"Policy updates."})," We may update this notice as the product evolves. Material changes will be noted on this page. Last updated: February 2025."]}),c.jsx("p",{children:"For privacy questions or requests, contact hello@rightcard.app."})]})})}function L2({onSelect:t,theme:e}){const n=e==="dark",r=n?"text-slate-500":"text-slate-300",s=n?"rounded-2xl border brand-border bg-surface px-4 py-3 text-[11px] brand-muted text-center shadow-soft flex flex-wrap items-center justify-center gap-2":"rounded-2xl border border-slate-200 bg-white px-4 py-3 text-[11px] text-slate-600 text-center shadow-[0_18px_40px_rgba(15,23,42,0.12)] flex flex-wrap items-center justify-center gap-2";function i(o){t(o)}return c.jsxs("footer",{className:s,children:[c.jsx("span",{children:" 2025 rightcard.club"}),c.jsx("span",{className:r,"aria-hidden":!0,children:"|"}),c.jsx("button",{type:"button",onClick:()=>i("disclaimer"),className:"brand-link underline text-[11px]",style:{background:"transparent",border:"none",padding:0,cursor:"pointer"},children:"Disclaimer"}),c.jsx("span",{className:r,"aria-hidden":!0,children:"|"}),c.jsx("button",{type:"button",onClick:()=>i("privacy-policy"),className:"brand-link underline text-[11px]",style:{background:"transparent",border:"none",padding:0,cursor:"pointer"},children:"Privacy Policy"})]})}function M2({onOpen:t,theme:e}){const n=e==="dark",r=n?"rounded-3xl border border-slate-800/70 bg-slate-900/70 p-4 md:p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4 shadow-[0_24px_55px_rgba(6,12,28,0.55)]":"rounded-3xl border border-slate-200 bg-white p-4 md:p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4 shadow-[0_24px_50px_rgba(15,23,42,0.12)]",s=n?"text-sm font-semibold text-white":"text-sm font-semibold text-slate-900",i=n?"text-xs text-slate-400 mt-1":"text-xs text-slate-600 mt-1";return c.jsxs("div",{className:r,children:[c.jsxs("div",{children:[c.jsx("p",{className:s,children:"Help improve RightCard"}),c.jsx("p",{className:i,children:"Share what worked and what you still need. It only takes 30 seconds."})]}),c.jsx("button",{onClick:t,className:"self-start md:self-center rounded-full bg-gradient-to-r from-sky-500 to-blue-600 px-5 py-2 text-xs font-semibold text-white shadow-lg shadow-sky-900/50 transition hover:from-sky-400 hover:to-blue-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400",children:"Leave feedback"})]})}function $2({open:t,onClose:e,item:n,onToggleActivation:r,activationChecked:s,theme:i,lastVerifiedLabel:o,onRequestAddCards:a,onOpenWizard:l}){const u=i==="dark",d=u?"absolute inset-0 bg-slate-950/80 backdrop-blur-sm":"absolute inset-0 bg-slate-900/20 backdrop-blur-sm",h=u?"absolute bottom-0 left-0 right-0 rounded-t-[30px] border border-slate-800/70 bg-slate-900/90 p-5 shadow-[0_-20px_60px_rgba(3,7,18,0.75)]":"absolute bottom-0 left-0 right-0 rounded-t-[30px] border border-slate-200 bg-white/95 p-5 shadow-[0_-24px_60px_rgba(15,23,42,0.18)]",f=u?"h-1.5 w-12 rounded-full bg-slate-700/80":"h-1.5 w-12 rounded-full bg-slate-300",p=u?"absolute right-5 top-4 text-xs uppercase tracking-[0.2em] text-slate-400":"absolute right-5 top-4 text-xs uppercase tracking-[0.2em] text-slate-500";return c.jsx(Pt,{children:t&&c.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 md:hidden",children:[c.jsx("div",{className:d,onClick:e}),c.jsx(ee.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:260,damping:30},className:h,children:c.jsxs("div",{className:"mx-auto max-w-md",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-center",children:[c.jsx("div",{className:f}),c.jsx("button",{"aria-label":"Close",onClick:e,className:p,children:"Close"})]}),c.jsx(ox,{item:n,onToggleActivation:r,activationChecked:s,theme:i,lastVerifiedLabel:o,onRequestAddCards:a,onOpenWizard:l})]})})]})})}function U2({item:t,onOpen:e,hasCards:n,onLaunchAdvisor:r}){const[s,i]=S.useState(!1),[o,a]=S.useState("");async function l(h){try{await navigator.clipboard.writeText(h),a("Copied")}catch{a("Copy failed")}finally{setTimeout(()=>a(""),1200)}}if(!t)return null;const u="linear-gradient(104deg, rgba(56,189,248,0.92) 0%, rgba(59,130,246,0.96) 45%, rgba(99,102,241,0.96) 100%)",d=n?`Best rate ${Math.round(t.bestRate*10)/10}% via ${t.bestCard}. Tap for details.`:"Add your cards to unlock personalized picks. Tap to jump into Monthly Advisor.";return c.jsx("div",{className:"fixed bottom-3 left-3 right-3 md:left-1/2 md:right-auto md:-translate-x-1/2 md:w-[min(720px,92vw)] z-40",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>{n?e():r==null||r()},className:"flex w-full items-center justify-between gap-3 rounded-[28px] px-5 py-4 text-left shadow-[0_30px_60px_rgba(14,27,57,0.55)]",style:{background:u,color:XT.white},"aria-label":d,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:ht[t.logoKey]||ht.fallback,alt:"card logo",className:"w-12 h-[60px] rounded-xl object-contain"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-xs opacity-80",children:n?"Best available rate":"Add your cards to unlock picks"}),n?c.jsxs("div",{className:"text-base font-semibold leading-tight",children:[Math.round(t.bestRate*10)/10,"%  ",t.bestCard]}):c.jsx("div",{className:"text-sm font-semibold leading-tight",children:"Open Monthly Advisor"})]})]}),n?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{role:"button",tabIndex:0,"aria-label":"More actions",onClick:h=>{h.stopPropagation(),i(f=>!f)},onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),h.stopPropagation(),i(f=>!f))},className:"text-lg opacity-80 transition hover:opacity-100 cursor-pointer select-none",children:""}),c.jsx("div",{className:"text-sm","aria-hidden":!0,children:""})]}):null]}),c.jsx(Pt,{children:s&&n&&c.jsxs(ee.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:4},className:"absolute right-3 bottom-16 w-56 overflow-hidden rounded-2xl border border-slate-800/80 bg-slate-950/95 shadow-[0_20px_40px_rgba(8,15,35,0.65)] backdrop-blur",children:[c.jsx("button",{onClick:()=>{l(`${t.bestCard}${t.bestCardLast4?`   ${t.bestCardLast4}`:""}`),i(!1)},className:"block w-full px-4 py-3 text-left text-xs text-slate-200 transition hover:bg-slate-800/70",children:"Copy card name"}),t.bestCardLast4?c.jsx("button",{onClick:()=>{l(t.bestCardLast4),i(!1)},className:"block w-full px-4 py-3 text-left text-xs text-slate-200 transition hover:bg-slate-800/70",children:"Copy last4"}):null,t!=null&&t.source?c.jsx("a",{href:t.source.url,target:"_blank",rel:"noopener noreferrer",className:"block w-full px-4 py-3 text-left text-xs font-semibold text-sky-400 transition hover:bg-slate-800/70",onClick:()=>i(!1),children:c.jsxs("span",{children:["View ",t.source.label," "]})}):null]})}),c.jsx(Pt,{children:o&&c.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute left-1/2 -translate-x-1/2 -top-7 rounded-full bg-slate-900/90 px-3 py-1 text-[11px] text-slate-100 shadow-[0_12px_30px_rgba(6,12,25,0.65)]",children:o})})]})})}function V2({recap:t,onDismiss:e,onManage:n,theme:r}){const s=r==="dark",i=s?"rounded-2xl border border-slate-800/70 bg-slate-900/80 p-4 shadow-[0_20px_45px_rgba(8,15,35,0.55)]":"rounded-2xl border border-slate-200 bg-white p-4 shadow-[0_20px_40px_rgba(15,23,42,0.18)]",o=s?"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400":"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-500",a=s?"text-[11px] text-slate-400":"text-[11px] text-slate-600";return c.jsx(Pt,{children:t&&c.jsx(ee.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},className:"fixed bottom-[120px] right-4 z-40 w-[min(320px,calc(100vw-32px))]",children:c.jsxs("div",{className:i,children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:o,children:"Session recap"}),c.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:t.headline}),c.jsx("p",{className:`mt-1 ${a}`,children:t.detail})]}),c.jsx("button",{type:"button",onClick:e,className:"text-[13px] text-slate-500 hover:text-slate-300",children:""})]}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",onClick:n,className:"flex-1 rounded-full bg-sky-500/90 px-3 py-2 text-[11px] font-semibold text-white shadow",children:"Manage cards"}),c.jsx("button",{type:"button",onClick:e,className:"flex-1 rounded-full border border-slate-500/30 px-3 py-2 text-[11px] font-semibold text-slate-500 dark:text-slate-300",children:"Dismiss"})]})]})})})}function B2({theme:t,visible:e,onDismiss:n,onOpen:r}){const s=t==="dark",i=s?"rounded-2xl border border-slate-800/70 bg-slate-900/80 p-4 shadow-[0_22px_45px_rgba(8,15,35,0.55)]":"rounded-2xl border border-slate-200 bg-white p-4 shadow-[0_22px_45px_rgba(15,23,42,0.18)]",o=s?"text-slate-200":"text-slate-900",a=s?"text-[11px] text-slate-400":"text-[11px] text-slate-600";return c.jsx(Pt,{children:e&&c.jsx(ee.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},className:"fixed bottom-[120px] left-4 z-40 w-[min(300px,calc(100vw-32px))]",children:c.jsxs("div",{className:i,children:[c.jsx("p",{className:`text-sm font-semibold ${o}`,children:"Did Monthly Advisor help?"}),c.jsx("p",{className:`mt-1 ${a}`,children:"Leave a 30-second exit note so we know what to fix next."}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",onClick:r,className:"flex-1 rounded-full bg-gradient-to-r from-sky-500 to-blue-600 px-3 py-2 text-[11px] font-semibold text-white shadow",children:"Leave feedback"}),c.jsx("button",{type:"button",onClick:n,className:"flex-1 rounded-full border border-slate-500/30 px-3 py-2 text-[11px] font-semibold text-slate-500 dark:text-slate-300",children:"Not now"})]})]})})})}function F2({open:t,onClose:e,category:n,rulepack:r,market:s,available:i,cards:o,onAdd:a,theme:l}){const[u,d]=S.useState(1),[h,f]=S.useState([]);S.useEffect(()=>{t||(d(1),f([]))},[t]),S.useEffect(()=>{t&&u===2&&h.length&&d(3)},[h.length,t,u]);const p=S.useMemo(()=>!t||!n||!r?[]:i.map(b=>{const{rate:_}=ix(r,s,b.id,n.categoryId,!1,r.period);return{card:b,rate:_}}).filter(b=>b.rate>0).sort((b,_)=>_.rate-b.rate).slice(0,4),[i,n,r,s,t]);function v(b){a(b,""),f(_=>_.includes(b)?_:[..._,b])}if(!n)return null;const w=l==="dark",x=w?"bg-slate-950/80":"bg-slate-900/15",g=w?"w-full max-w-3xl rounded-[32px] border border-slate-800 bg-slate-950/95 p-8 shadow-[0_40px_80px_rgba(4,8,20,0.75)]":"w-full max-w-3xl rounded-[32px] border border-slate-200 bg-white p-8 shadow-[0_35px_70px_rgba(15,23,42,0.18)]",m=w?"text-slate-400":"text-slate-600",y=["Confirm the category you want to unlock.","Add one of these high-confidence cards (or open the standard add flow).","All set! Refresh Monthly Advisor to see the verdict."];return c.jsx(Pt,{children:t&&c.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-50 flex items-center justify-center px-4 backdrop-blur ${x}`,children:[c.jsx(ee.div,{initial:{y:32,opacity:.9},animate:{y:0,opacity:1},exit:{y:32,opacity:0},transition:{type:"spring",stiffness:180,damping:22},className:g,children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-sky-400",children:"Guided setup"}),c.jsx("h3",{className:"mt-2 text-2xl font-semibold",children:n.category}),c.jsx("p",{className:"mt-2 text-sm",children:y[u-1]})]}),c.jsx("button",{type:"button",onClick:e,className:"text-sm uppercase tracking-[0.3em] text-slate-400",children:"Close"})]}),u===1&&c.jsxs("div",{className:"rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4 text-sm",children:[c.jsx("p",{className:"font-semibold",children:"Why this matters"}),c.jsx("p",{className:`${m} mt-1`,children:"Monthly Advisor can only recommend from the cards in your wallet. Adding one here unlocks this category."}),c.jsx("button",{type:"button",onClick:()=>d(2),className:"mt-3 inline-flex items-center rounded-full bg-sky-500/20 px-4 py-2 text-xs font-semibold text-sky-300",children:"Continue"})]}),u===2&&c.jsxs("div",{className:"space-y-3",children:[p.length?p.map(({card:b,rate:_})=>{const k=o.some(C=>C.id===b.id)||h.includes(b.id);return c.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-800/70 bg-slate-900/60 px-4 py-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold",children:b.display_name}),c.jsx("p",{className:`${m} text-xs`,children:`${Math.round(_*10)/10}% potential this month`})]}),c.jsx("button",{type:"button",disabled:k,onClick:()=>v(b.id),className:`rounded-full px-4 py-2 text-xs font-semibold ${k?"bg-slate-800/60 text-slate-500 cursor-not-allowed":"bg-sky-500/90 text-white"}`,children:k?"Added":"Add"})]},b.id)}):c.jsx("p",{className:`${m} text-sm`,children:"No strong fits detected. Use the standard add flow instead."}),c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"button",onClick:()=>d(3),className:"inline-flex items-center rounded-full border border-slate-600 px-4 py-2 text-xs font-semibold text-slate-300",children:"Skip"})})]}),u===3&&c.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/10 p-4",children:[c.jsx("p",{className:"text-sm font-semibold text-emerald-200",children:"Nice!"}),c.jsx("p",{className:"mt-1 text-xs text-emerald-200",children:"Refresh the Monthly Advisor and you should see a verdict instantly."}),c.jsx("button",{type:"button",onClick:e,className:"mt-3 inline-flex items-center rounded-full bg-emerald-400/80 px-4 py-2 text-xs font-semibold text-emerald-900",children:"Return to advisor"})]})]})})]})})}function z2({open:t,onClose:e,available:n,cards:r,onAdd:s,onRemove:i,promptCategory:o,onResetPrompt:a}){const[l,u]=S.useState(""),[d,h]=S.useState([]),[f,p]=S.useState([]),v=S.useMemo(()=>{const b=l.trim().toLowerCase(),_=[...n].sort((k,C)=>(k.popularity||99)-(C.popularity||99));return b?_.filter(k=>`${k.display_name} ${k.issuer}`.toLowerCase().includes(b)):_},[n,l]);function w(b){h(_=>_.includes(b)?_.filter(k=>k!==b):[..._,b])}function x(b){r.some(_=>_.id===b)||(s(b,""),p([b]),Be(Ve.quickAdd,{id:b}))}function g(){const b=d.filter(_=>!r.some(k=>k.id===_));b.forEach(_=>s(_,"")),b.length&&Be(Ve.bulkAdd,{count:b.length}),p(b),h([])}function m(){f.length&&(f.forEach(b=>i(b,"")),p([]),Be(Ve.undo))}const y=S.useMemo(()=>{const b=o2.map(k=>n.find(C=>C.id===k)).filter(Boolean);if(b.length)return b;const _=n.filter(k=>typeof k.popularity=="number").sort((k,C)=>(k.popularity??999)-(C.popularity??999));return _.length?_.slice(0,6):[...n].sort((k,C)=>(C.base_rate??0)-(k.base_rate??0)).slice(0,6)},[n]);return c.jsx(Pt,{children:t&&c.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-start sm:items-center justify-center p-3 sm:p-6",children:[c.jsx("div",{className:"absolute inset-0 brand-overlay",onClick:e}),c.jsxs(ee.div,{initial:{y:24,opacity:0},animate:{y:0,opacity:1},exit:{y:24,opacity:0},className:"relative z-10 w-full max-w-[940px] overflow-y-auto rounded-3xl border border-slate-800/70 bg-slate-950/90 p-6 shadow-[0_35px_80px_rgba(3,7,18,0.75)] sm:max-h-[calc(100vh-4rem)]",style:{paddingBottom:"max(1.25rem, env(safe-area-inset-bottom))"},children:[c.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add your cards"}),c.jsx("div",{className:"text-[11px] text-slate-400",children:"Local setup  No upload"})]}),c.jsx("button",{className:"brand-button-ghost",onClick:e,children:"Close"})]}),o?c.jsxs("div",{className:"mb-4 rounded-2xl border border-slate-800/70 bg-slate-900/70 p-4 text-slate-200 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-white",children:["Monthly Advisor still needs ",o]}),c.jsx("p",{className:"text-[11px] text-slate-400",children:"Add at least one card to unlock this ranking."})]}),c.jsxs("div",{className:"flex flex-col gap-1 text-[11px] text-slate-400 sm:text-right",children:[a?c.jsx("button",{type:"button",onClick:a,className:"font-semibold text-sky-400 hover:text-sky-200 transition",children:"Show all suggestions"}):null,c.jsx("span",{children:"Closes automatically after you add a card."})]})]}):null,c.jsxs("div",{children:[c.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-slate-400",children:"Starter picks"}),c.jsx("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:y.map(b=>{const _=r.some(k=>k.id===b.id);return c.jsxs("button",{onClick:()=>x(b.id),disabled:_,className:`flex items-center gap-2 rounded-2xl border border-slate-800/70 bg-slate-900/70 p-3 ${_?"opacity-50 cursor-not-allowed":"hover:border-sky-500/60 hover:bg-slate-900"}`,children:[c.jsx("img",{src:ht[b.logo_key]||ht.fallback,alt:"logo",className:"w-10 h-auto rounded"}),c.jsxs("div",{className:"text-left min-w-0",children:[c.jsx("div",{className:"text-[12px] font-semibold text-white truncate",children:b.display_name}),c.jsx("div",{className:"text-[11px] text-slate-400 truncate",children:b.issuer})]}),c.jsx("span",{className:"ml-auto text-[11px] text-slate-300",children:_?"Added ":"Add"})]},b.id)})})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"text-[11px] uppercase tracking-[0.25em] text-slate-300",children:"Search all cards"}),c.jsx("input",{value:l,onChange:b=>u(b.target.value),placeholder:"Issuer or card name",className:"border border-slate-800/70 rounded-2xl bg-slate-900/70 px-3 py-2 text-[12px] text-slate-100 w-full placeholder:text-slate-500 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/40"}),c.jsx("div",{className:"mt-2 max-h-56 overflow-auto border border-slate-800/70 rounded-2xl",children:v.map(b=>{const _=d.includes(b.id),k=r.some(C=>C.id===b.id);return c.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 text-[12px] ${k?"opacity-60":""} hover:bg-slate-900/70 cursor-pointer transition text-slate-200`,children:[c.jsx("input",{type:"checkbox",disabled:k,checked:_,onChange:()=>w(b.id)}),c.jsx("img",{src:ht[b.logo_key]||ht.fallback,alt:"logo",className:"w-6 h-auto rounded"}),c.jsxs("span",{className:"truncate",children:[b.display_name,"  ",b.issuer]}),k&&c.jsx("span",{className:"ml-auto text-[11px] text-slate-400",children:"Added "})]},b.id)})}),c.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[c.jsxs("div",{className:"text-[12px] text-slate-400",children:["Selected: ",d.length]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>h([]),className:"text-[12px] underline text-slate-300",children:"Clear"}),c.jsxs("button",{onClick:g,disabled:d.length===0,className:`px-4 py-2 rounded-full text-[12px] font-semibold ${d.length===0?"bg-slate-800/40 text-slate-500 cursor-not-allowed":"brand-button"}`,children:["Add ",d.length||""," ",d.length===1?"card":"cards"]})]})]})]}),f.length>0&&c.jsxs("div",{className:"mt-3 px-3 py-2 rounded-2xl bg-slate-900/70 flex items-center justify-between text-slate-100",children:[c.jsxs("div",{className:"text-[12px]",children:["Added: ",f.length]}),c.jsx("button",{onClick:m,className:"text-[12px] underline",children:"Undo"})]})]})]})})}function W2({open:t,onClose:e,available:n,cards:r,onAdd:s,onRemove:i}){var nn;const o=S.useRef(null),a=S.useRef(null),l=S.useRef(null),[u,d]=S.useState(""),[h,f]=S.useState(((nn=n[0])==null?void 0:nn.id)||""),[p,v]=S.useState(""),[w,x]=S.useState(!1),[g,m]=S.useState(""),[y,b]=S.useState(""),[_,k]=S.useState(""),C=L=>`${L.display_name}  ${L.issuer}`,j=S.useMemo(()=>{const L=u.trim().toLowerCase(),B=n||[];return L?B.filter(P=>C(P).toLowerCase().includes(L)):B},[n,u]);S.useEffect(()=>{n!=null&&n.length&&!h&&(f(n[0].id),d(C(n[0])))},[n]),S.useEffect(()=>{j.length&&!j.find(L=>L.id===h)&&f(j[0].id)},[j,h]);function A(L){f(L.id),d(C(L)),x(!1),setTimeout(()=>{var B;return(B=a.current)==null?void 0:B.focus()},0)}function N(){const L=j.find(I=>I.id===h)||j[0]||n[0];if(!L)return;const B=wi(p);if(uc(r,L.id,B)){setTimeout(()=>{var I;return(I=o.current)==null?void 0:I.focus()},0);return}s(L.id,p),Be(Ve.manageAdd,{id:L.id,last4:B||void 0});const P=`${L.display_name}${B?`   ${B}`:""} added`;m(P),setTimeout(()=>m(""),1600),v(""),d(""),f(""),x(!1),setTimeout(()=>{var I;return(I=o.current)==null?void 0:I.focus()},0)}async function q(L){if(!L)return;if(typeof window>"u"||typeof window.TextDetector>"u"){k("Card scanning is not supported in this browser.");return}k(""),b("Scanning photo");const B=await r2(L);B?(v(B),b(`Detected  ${B}`),k("")):(b(""),k("Could not read digits. Try better lighting or enter manually."))}const Oe=j.find(L=>L.id===h)||j[0]||n[0],Ue=Oe?uc(r,Oe.id,p):!1,Mt=Ue&&(!!h||!!u.trim()||!!p.trim());return c.jsx(Pt,{children:t&&c.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-start sm:items-center justify-center p-3 sm:p-6",children:[c.jsx("div",{className:"absolute inset-0 brand-overlay",onClick:e}),c.jsxs(ee.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},exit:{y:30,opacity:0},className:"relative z-10 w-full max-w-[720px] bg-surface rounded-2xl shadow-2xl p-4 overflow-y-auto max-h-[calc(100vh-3rem)] sm:max-h-[calc(100vh-4rem)]",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-base font-semibold",children:"Manage your cards"}),c.jsx("button",{className:"brand-button-ghost",onClick:e,children:"Close"})]}),c.jsxs("div",{className:"grid grid-cols-[minmax(0,1fr)_96px_auto] gap-2 items-start",children:[c.jsxs("div",{className:"flex flex-col relative",children:[c.jsx("label",{className:"text-[11px] text-slate-400",children:"Search or select a card"}),c.jsx("input",{ref:o,value:u,onChange:L=>{d(L.target.value),x(!0)},onBlur:()=>setTimeout(()=>x(!1),120),placeholder:"Type issuer or card name",className:"border border-slate-800/70 rounded-2xl bg-slate-900/70 px-3 py-2 text-[12px] text-slate-100"}),w&&c.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 max-h-56 overflow-auto bg-surface border rounded-xl shadow-lg z-10",children:j.length===0?c.jsx("div",{className:"px-3 py-2 text-[12px] text-slate-500",children:"No matches"}):j.map(L=>c.jsxs("button",{className:`w-full text-left px-3 py-2 text-[12px] flex items-center gap-2 ${L.id===h?"bg-slate-900/60":"hover:bg-slate-900/70"}`,onMouseDown:B=>B.preventDefault(),onClick:()=>A(L),children:[c.jsx("img",{src:ht[L.logo_key]||ht.fallback,alt:"logo",className:"w-6 h-auto rounded"}),c.jsx("span",{className:"truncate",children:C(L)})]},L.id))})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{className:"text-[11px] text-slate-400 invisible",children:"Last4 (optional)"}),c.jsx("input",{ref:a,value:p,onChange:L=>v(wi(L.target.value)),placeholder:"Last4",inputMode:"numeric",pattern:"[0-9]*",maxLength:4,className:"border border-slate-800/70 rounded-2xl bg-slate-900/70 px-3 py-2 text-[12px] text-slate-100 w-[96px]"}),c.jsx("div",{className:"text-[10px] mt-1 h-[14px]",children:Mt?c.jsx("span",{className:"text-red-400",children:"Already added"}):c.jsx("span",{className:"text-slate-500",children:"Optional"})})]}),c.jsx("div",{className:"flex items-start justify-end",children:c.jsx("button",{onClick:N,disabled:!Oe||Ue,className:`px-3 py-2 rounded text-[12px] ${!Oe||Ue?"bg-slate-800/40 text-slate-400 cursor-not-allowed":"brand-button"}`,children:"Add"})})]}),c.jsxs("div",{className:"mt-2 flex items-center gap-3 text-[11px] text-slate-400",children:[c.jsx("input",{ref:l,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:L=>{var B;return q(((B=L.target.files)==null?void 0:B[0])||null)}}),c.jsx("button",{type:"button",onClick:()=>{var L;return(L=l.current)==null?void 0:L.click()},className:"rounded-full border border-slate-700 px-3 py-1.5 text-[11px] font-semibold text-slate-100 hover:border-sky-500 hover:text-white transition",children:"Scan card (beta)"}),c.jsx("span",{className:"truncate",children:"Use your camera to auto-fill last 4 on supported devices."})]}),y?c.jsx("div",{className:"mt-1 text-[11px] text-emerald-400",children:y}):null,_?c.jsx("div",{className:"mt-1 text-[11px] text-red-400",children:_}):null,g&&c.jsxs("div",{className:"mt-2 text-[12px] text-green-700",role:"status","aria-live":"polite",children:[" ",g]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-[12px] text-slate-400 mb-2",children:"Your cards"}),r.length===0?c.jsx("p",{className:"text-[12px] text-slate-500",children:"No cards yet. Add at least one to get suggestions."}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.map(L=>c.jsxs("div",{className:"border rounded-xl p-3 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("img",{src:ht[L.logo_key]||ht.fallback,alt:"logo",className:"w-10 h-auto rounded"}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[12px] font-semibold truncate",children:L.display_name}),c.jsxs("div",{className:"text-[11px] text-slate-400 truncate",children:[L.issuer,L.last4?`   ${L.last4}`:""]})]})]}),c.jsx("button",{onClick:()=>{i(L.id,L.last4),Be(Ve.remove,{id:L.id})},className:"text-[11px] text-red-400",children:"Remove"})]},`${L.id}-${L.last4||""}`))})]})]})]})})}function H2({theme:t,user:e,onRequestSignIn:n,onRequestSignUp:r,onSignOut:s,authLoading:i,authError:o,authMessage:a,syncing:l,syncError:u,lastSynced:d,supabaseReady:h}){const[f,p]=S.useState(""),[v,w]=S.useState(""),[x,g]=S.useState("signin"),m=t==="dark",y=m?"container mx-auto max-w-5xl px-4 py-3 mb-4 rounded-2xl border border-slate-800/70 bg-slate-950/70 shadow-[0_24px_60px_rgba(3,7,18,0.65)]":"container mx-auto max-w-5xl px-4 py-3 mb-4 rounded-2xl border border-slate-200 bg-white shadow-[0_18px_42px_rgba(15,23,42,0.12)]",b=m?"text-[11px] uppercase tracking-[0.25em] text-slate-400":"text-[11px] uppercase tracking-[0.25em] text-slate-500",_=m?"text-sm text-slate-200":"text-sm text-slate-700",k=m?"text-[11px] text-slate-400":"text-[11px] text-slate-500",C=l?"Syncing to Supabase":d?`Synced ${new Date(d).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:"Ready to sync your wallet.",j=A=>{A.preventDefault(),!(!f.trim()||!v)&&(x==="signup"?r(f.trim(),v):n(f.trim(),v))};return c.jsxs("div",{className:"px-2 sm:px-0",children:[c.jsx("div",{className:y,children:c.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:b,children:"Cloud sync"}),c.jsx("p",{className:_,children:"Sign in to keep your cards backed up across devices using Supabase Auth + Database."}),c.jsx("p",{className:k,children:C})]}),e?c.jsxs("div",{className:"flex flex-col items-start gap-1 text-[12px] md:items-end",children:[c.jsxs("p",{className:_,children:["Signed in as ",e.email||"current user"]}),c.jsx("p",{className:k,children:l?"Saving changes":"Changes save automatically."}),c.jsx("button",{type:"button",onClick:s,className:"mt-1 rounded-full border border-slate-700 px-4 py-1.5 text-[12px] font-semibold text-slate-100 hover:border-sky-500 hover:text-white transition",children:"Sign out"})]}):c.jsxs("form",{onSubmit:j,className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[c.jsx("input",{value:f,onChange:A=>p(A.target.value),type:"email",required:!0,placeholder:"Email for magic link",className:"w-full rounded-xl border border-slate-700/60 bg-slate-900/70 px-3 py-2 text-[12px] text-slate-100 placeholder:text-slate-500 sm:w-64"}),c.jsx("button",{type:"submit",disabled:!h||i,className:`rounded-xl px-4 py-2 text-[12px] font-semibold ${h?"brand-button":"bg-slate-800/50 text-slate-500 cursor-not-allowed"}`,children:i?"Sending":"Send login link"}),c.jsx("p",{className:k,children:h?"No passwords. We email you a magic link.":"Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to enable cloud sync."})]})]})}),a?c.jsx("p",{className:"mt-1 text-[11px] text-emerald-500 text-center",children:a}):null,o?c.jsx("p",{className:"mt-1 text-[11px] text-red-400 text-center",children:o}):null,u?c.jsx("p",{className:"mt-1 text-[11px] text-amber-400 text-center",children:u}):null]})}function K2(){const t=b2();S.useMemo(()=>{t&&t.categories.forEach(T=>{const F=T.label;pa[F]||(pa[F]=lc(F))})},[t]);const e="US",{user:n,authLoading:r,authError:s,authMessage:i,requestSignIn:o,requestSignOut:a,supabaseReady:l}=_2(),{cards:u,addCard:d,removeCard:h,available:f,syncing:p,syncError:v,lastSynced:w}=k2(t,e,n),[x,g]=S.useState(()=>os(ct.THEME,"dark")==="light"?"light":"dark");S.useEffect(()=>{Gr(ct.THEME,x)},[x]),S.useEffect(()=>{if(typeof document>"u")return;const T=document.body;T.classList.remove("theme-light","theme-dark"),T.classList.add(x==="dark"?"theme-dark":"theme-light")},[x]);const[m,y]=S.useState(!1),[b,_]=S.useState(!1),[k,C]=S.useState(!1),[j,A]=S.useState(!1),[N,q]=S.useState(!1),[Oe,Ue]=S.useState(!1),[Mt,nn]=S.useState(null),[L,B]=S.useState(""),[P,I]=S.useState(null),V=S.useRef(null),Y=S.useRef(u.length),[te,$t]=S.useState(!1),[st,hr]=S.useState(!1),[Ut,In]=S.useState(0),fr=S.useMemo(()=>t?S2(t,e,u):[],[t,e,u,Ut]),[Ni,qd]=S.useState(0),[lx,Gd]=S.useState(!1),[Jd,q2]=S.useState("rate"),[Yd,Qd]=S.useState(null),[ux,Xd]=S.useState(!1),pr=S.useMemo(()=>{const T=[...fr];return Jd==="rate"?T.sort((F,ye)=>ye.bestRate-F.bestRate):T.sort((F,ye)=>F.category.localeCompare(ye.category)),T},[fr,Jd]);S.useEffect(()=>{Ni>=pr.length&&pr.length>0&&qd(0)},[Ni,pr.length]);const gt=pr[Ni]||null,Oi=gt&&t?`${gt.bestCardId}|${gt.categoryId}|${t.period}`:"",Zd=Oi?sx(Oi):!1,eh=new Date,cx=e2[eh.getMonth()]||"January",th=!t,Va=S.useMemo(()=>{if(!(t!=null&&t.version))return"";const T=new Date(t.version);return Number.isNaN(T.getTime())?t.version:T.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},[t==null?void 0:t.version]),Ii=x==="dark",dx=Ii?"inline-flex items-center gap-2 rounded-full border border-slate-700/60 bg-slate-900/70 px-4 py-2 text-xs font-semibold text-slate-300 shadow-[0_12px_24px_rgba(4,9,20,0.45)] transition hover:border-sky-500/60 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-100":"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-[0_12px_24px_rgba(15,23,42,0.12)] transition hover:border-sky-400 hover:text-sky-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-200",hx=Ii?c.jsxs(c.Fragment,{children:[c.jsx(a2,{className:"h-3.5 w-3.5 text-sky-400"}),"Dark mode"]}):c.jsxs(c.Fragment,{children:[c.jsx(l2,{className:"h-3.5 w-3.5 text-amber-400"}),"Light mode"]});S.useEffect(()=>{Be(Ve.view)},[]);function nh(){g(T=>T==="dark"?"light":"dark")}function Ba(){Xd(!0),Be(Ve.waitlistOpen)}function Di(T=""){B(T||""),b||Be(Ve.openAdd),_(!0)}function fx(){_(!1),B("")}function rh(){k||Be(Ve.openManage),C(!0)}function sh(T){T&&(nn(T),Ue(!0),B(T.category))}function px(){Ue(!1),nn(null),B("")}function ih(){hr(!0),$t(!1),y(!0),Be(Ve.feedback)}async function mx(T){const F=typeof window<"u"?window.location.href:"";await x2({...T,referrer:F}),y(!1)}async function gx(T){const F=typeof window<"u"?window.location.href:"";await w2(T,F),Be(Ve.waitlistSubmit)}function Li(){if(typeof document>"u")return;const T=document.getElementById("advisor");T&&T.scrollIntoView({behavior:"smooth",block:"start"})}function yx(){q(!1),A(!0),Be(Ve.playbackOpen)}function vx(){A(!1)}async function xx(){try{await navigator.clipboard.writeText(oh),q(!0),Be(Ve.playbackCopy),setTimeout(()=>q(!1),2e3)}catch(T){console.error("playback copy failed",T)}}function wx(){try{if(typeof document>"u")return;const T=new Blob([oh],{type:"text/plain"}),F=URL.createObjectURL(T),ye=document.createElement("a");ye.href=F,ye.download=`rightcard-playback-${rn.replace(/\s+/g,"-").toLowerCase()}.txt`,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(F)}catch(T){console.error("playback download failed",T)}}function bx(){try{if(typeof document>"u")return;const T=1200,F=240,ye=74,sn=120,mr=ms.length||1,it=F+mr*ye+sn,Dn=document.createElement("canvas");Dn.width=T,Dn.height=it;const M=Dn.getContext("2d");if(!M)return;const za=M.createLinearGradient(0,0,T,it);za.addColorStop(0,"#020617"),za.addColorStop(1,"#0f172a"),M.fillStyle=za,M.fillRect(0,0,T,it),M.fillStyle="rgba(15,23,42,0.35)",M.fillRect(40,40,T-80,it-80),M.textBaseline="top";const ve=80,xe=70,Ln=300,Mn=44,Vt=21;M.save(),M.beginPath(),M.moveTo(ve+Vt,xe),M.lineTo(ve+Ln-Vt,xe),M.quadraticCurveTo(ve+Ln,xe,ve+Ln,xe+Vt),M.lineTo(ve+Ln,xe+Mn-Vt),M.quadraticCurveTo(ve+Ln,xe+Mn,ve+Ln-Vt,xe+Mn),M.lineTo(ve+Vt,xe+Mn),M.quadraticCurveTo(ve,xe+Mn,ve,xe+Mn-Vt),M.lineTo(ve,xe+Vt),M.quadraticCurveTo(ve,xe,ve+Vt,xe),M.closePath();const Wa=M.createLinearGradient(ve,xe,ve,xe+Mn);Wa.addColorStop(0,"rgba(10,19,38,0.95)"),Wa.addColorStop(1,"rgba(6,12,24,0.85)"),M.fillStyle=Wa,M.fill(),M.lineWidth=1.5,M.strokeStyle="rgba(56,189,248,0.5)",M.stroke();const $i=M.createLinearGradient(ve,xe,ve+Ln,xe);$i.addColorStop(0,"#38bdf8"),$i.addColorStop(.5,"#60a5fa"),$i.addColorStop(1,"#818cf8"),M.fillStyle=$i;const ah=16;M.font=`800 ${ah}px 'Inter', Arial, sans-serif`;const Ax="RIGHTCARD.CLUB",Rx=ah*.45;let lh=ve+24;for(const on of Ax)M.fillText(on,lh,xe+12),lh+=M.measureText(on).width+Rx;M.restore(),M.fillStyle="#f8fafc",M.font="bold 42px 'Inter', Arial, sans-serif",M.fillText(`Monthly Advisor Playback  ${rn}`,80,120),M.font="20px 'Inter', Arial, sans-serif",M.fillStyle="rgba(226,232,240,0.85)",M.fillText("Generated automatically from your on-device wallet.",80,175);const Nx=250;ms.forEach((on,Ix)=>{const Ka=Nx+Ix*ye;M.fillStyle=on.accent||"#38bdf8",M.font="600 22px 'Inter', Arial, sans-serif",M.fillText(on.category,80,Ka),M.fillStyle="#f8fafc",M.font="18px 'Inter', Arial, sans-serif",M.fillText(`${on.bestCard}  ${on.rate}`,80,Ka+24),M.fillStyle="rgba(226,232,240,0.75)",M.font="16px 'Inter', Arial, sans-serif",M.fillText(on.confidenceLine||"",80,Ka+48)}),M.fillStyle="rgba(148,163,184,0.8)",M.font="16px 'Inter', Arial, sans-serif";const Ha=it-110;M.fillText("Review issuer terms, caps, and activations before relying on these picks.",80,Ha),M.fillText("Informational only  you accept all risk. rightcard.club is not affiliated with issuers.",80,Ha+24),M.fillText(" "+new Date().getFullYear()+" rightcard.club  Built by reward maximizers",80,Ha+48);const Ox=Dn.toDataURL("image/png"),gs=document.createElement("a");gs.href=Ox,gs.download=`rightcard-playback-${rn.replace(/\s+/g,"-").toLowerCase()}.png`,document.body.appendChild(gs),gs.click(),document.body.removeChild(gs)}catch(T){console.error("playback image export failed",T)}}function _x(){hr(!0),$t(!1)}function Mi(T,F,ye={}){const{updateLocation:sn=!0}=ye;Qd(F?T:null),!(typeof window>"u")&&(F?(sn&&window.location.hash!==`#${T}`&&window.history.replaceState(null,"",`#${T}`),window.requestAnimationFrame(()=>{const mr=document.getElementById(T);mr&&mr.scrollIntoView({behavior:"smooth",block:"start"})})):sn&&window.history.replaceState(null,"",`${window.location.pathname}${window.location.search}`))}S.useEffect(()=>{if(typeof window>"u")return;function T(){const F=window.location.hash.replace("#","");F==="disclaimer"||F==="privacy-policy"?Mi(F,!0,{updateLocation:!1}):Qd(null)}return T(),window.addEventListener("hashchange",T),()=>window.removeEventListener("hashchange",T)},[]);const rn=`${cx} ${eh.getFullYear()}`;S.useEffect(()=>{if(u.length<=Y.current){Y.current=u.length,u.length===0&&I(null);return}if(Y.current=u.length,!u.length)return;const T=fr.filter(F=>!F.bestCardId).map(F=>F.category);I({headline:`${u.length} card${u.length===1?"":"s"} saved`,detail:C2(T)}),V.current&&clearTimeout(V.current),V.current=setTimeout(()=>I(null),6e3)},[u.length,fr]),S.useEffect(()=>()=>{V.current&&clearTimeout(V.current)},[]),S.useEffect(()=>{if(st||te||u.length===0)return;function T(){if(typeof window>"u")return;const{scrollY:F,innerHeight:ye}=window,{scrollHeight:sn}=document.documentElement;F+ye>=sn-320&&$t(!0)}return window.addEventListener("scroll",T,{passive:!0}),()=>window.removeEventListener("scroll",T)},[te,st,u.length]),S.useEffect(()=>{if(st||te||u.length===0)return;const T=setTimeout(()=>$t(!0),45e3);return()=>clearTimeout(T)},[te,st,u.length]);const kx=x==="dark"?"min-h-screen bg-slate-950 text-slate-100":"min-h-screen bg-slate-50 text-slate-900",Sx=x==="dark"?"relative bg-slate-950 py-12":"relative bg-white py-12",jx=x==="dark"?"border-slate-800 bg-slate-900/70 shadow-[0_40px_70px_rgba(8,20,40,0.6)]":"border-slate-200 bg-white shadow-[0_30px_60px_rgba(15,23,42,0.18)]",Cx=x==="dark"?"border-slate-800/70 bg-slate-900/40 text-slate-400":"border-slate-200 bg-slate-100 text-slate-600",Ex=x==="dark"?"border-slate-800 bg-slate-900/60 text-slate-400 shadow-[0_20px_35px_rgba(8,15,30,0.6)]":"border-slate-200 bg-white text-slate-600 shadow-[0_15px_35px_rgba(15,23,42,0.12)]",Tx=x==="dark"?"border-slate-800/80 bg-slate-900/50 text-slate-400":"border-slate-200 bg-white text-slate-600",Fa=x==="dark"?"border-slate-700/70 bg-slate-900/80 text-slate-300":"border-slate-200 bg-slate-100 text-slate-600",Px=u.length>0,ms=S.useMemo(()=>fr.map(T=>{var M;const F=!!T.bestCardId,ye=F?`${T.bestCard}${T.bestCardLast4?`   ${T.bestCardLast4}`:""}`:"Add a card",sn=F?`${Math.round(T.bestRate*10)/10}% back`:"No rate yet",mr=F?(M=T.source)!=null&&M.label?`Proof: ${T.source.label}`:T.benefit:"Add at least one card to unlock this ranking.",it=T.confidenceSummary||{level:T.confidence||0,hasProof:!!T.source,activationRequired:!1,activationReady:!1,hasMccCoverage:!1},Dn=[`${it.level||0}% confidence`,it.hasProof?"Proof ":"Proof pending",it.activationRequired?it.activationReady?"Activation ready":"Activation needed":"No activation needed"];return it.hasMccCoverage&&Dn.push("MCC coverage verified"),{category:T.category,bestCard:ye,rate:sn,status:mr,accent:T.accent,confidenceSummary:it,confidenceLine:Dn.join("  ")}}),[fr]),oh=S.useMemo(()=>s2(ms,rn),[ms,rn]);return c.jsxs("div",{className:kx,"data-theme":x,style:{colorScheme:Ii?"dark":"light"},children:[c.jsx(GT,{open:ux,onClose:()=>Xd(!1),onSubmit:gx,theme:x}),c.jsx(YT,{open:m,onClose:()=>y(!1),onSubmit:mx}),c.jsx(QT,{open:j,onClose:vx,onCopy:xx,onDownload:wx,onDownloadImage:bx,copied:N,entries:ms,monthLabel:rn,theme:x}),c.jsxs("main",{className:"relative flex min-h-screen flex-col overflow-hidden",children:[c.jsx(bT,{monthLabel:rn,lastUpdatedLabel:Va,isLoading:th,onOpenWaitlist:Ba,onLaunchAdvisor:Li,onToggleTheme:nh,theme:x}),c.jsx(H2,{theme:x,user:n,onRequestSignIn:o,onSignOut:a,authLoading:r,authError:s,authMessage:i,syncing:p,syncError:v,lastSynced:w,supabaseReady:l}),c.jsx(NT,{theme:x}),c.jsx(UT,{onOpenWaitlist:Ba,onLaunchAdvisor:Li,theme:x}),c.jsxs("section",{id:"advisor",className:Sx,children:[c.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[c.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-end lg:justify-between",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Phase 1  Monthly Advisor"}),c.jsxs("h2",{className:"mt-3 text-3xl font-semibold",children:["Monthly Advisor for ",rn]}),c.jsx("p",{className:"mt-3 max-w-md text-sm text-slate-500 dark:text-slate-300",children:"Add the cards you carry, choose a category, and well surface the winning card along with the activation checklist and issuer proof."})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsx("button",{onClick:()=>Di(),className:`inline-flex items-center justify-center rounded-full border px-4 py-2 text-xs font-semibold transition ${x==="dark"?"border-slate-700/70 bg-slate-900/70 text-slate-200 hover:border-sky-500/60 hover:text-white":"border-slate-200 bg-white text-slate-700 hover:border-sky-400 hover:text-sky-600"}`,children:"Add cards"}),c.jsx("button",{onClick:()=>rh(),className:`inline-flex items-center justify-center rounded-full border px-4 py-2 text-xs font-semibold transition ${x==="dark"?"border-slate-700/70 bg-slate-900/70 text-slate-200 hover:border-sky-500/60 hover:text-white":"border-slate-200 bg-white text-slate-700 hover:border-sky-400 hover:text-sky-600"}`,children:"Manage cards"}),c.jsx("button",{onClick:nh,"aria-pressed":Ii,className:dx,children:hx}),c.jsx("button",{onClick:yx,className:`inline-flex items-center justify-center rounded-full border px-4 py-2 text-xs font-semibold transition ${x==="dark"?"border-slate-700/70 bg-slate-900/70 text-slate-200 hover:border-sky-500/60 hover:text-white":"border-slate-200 bg-white text-slate-700 hover:border-sky-400 hover:text-sky-600"}`,children:"Export playback"})]})]}),c.jsxs("div",{className:"mt-6 grid gap-8 lg:grid-cols-[360px_minmax(0,1fr)]",children:[c.jsx("div",{className:"space-y-3",role:"list","aria-label":"Spending categories",children:pr.length===0?c.jsx("div",{className:`rounded-2xl border px-4 py-6 text-sm ${Ex}`,children:th?"Loading card data...":"No categories available."}):pr.map((T,F)=>c.jsx(E2,{active:F===Ni,iconURI:T.iconURI,label:T.category,rate:T.bestRate,accent:T.accent,theme:x,onClick:()=>qd(F)},`${T.category}-${F}`))}),c.jsx("div",{className:"relative",children:gt?c.jsx("div",{className:`rounded-[32px] border p-6 ${jx}`,children:c.jsx(ox,{item:gt,onToggleActivation:T=>{um(Oi,T),In(F=>F+1)},activationChecked:Zd,theme:x,lastVerifiedLabel:Va,onRequestAddCards:Di,onOpenWizard:sh})}):c.jsxs("div",{className:`rounded-[32px] border p-12 text-center text-sm space-y-4 ${Cx}`,children:[c.jsx("p",{children:"Add your cards and pick a category to see this month's ranking. Everything stays on-device."}),c.jsx("button",{onClick:()=>Di(),className:"inline-flex items-center justify-center rounded-full border border-sky-400 px-5 py-2 text-xs font-semibold text-sky-600 transition hover:bg-sky-50 dark:hover:bg-slate-900/60",children:"Add cards to start"})]})})]}),c.jsx("div",{className:"mt-6",children:c.jsx(M2,{onOpen:ih,theme:x})})]}),c.jsx($2,{open:lx,onClose:()=>Gd(!1),item:gt,onToggleActivation:T=>{um(Oi,T),In(F=>F+1)},activationChecked:Zd,theme:x,lastVerifiedLabel:Va,onRequestAddCards:Di,onOpenWizard:sh}),c.jsx(U2,{item:gt,hasCards:Px,onLaunchAdvisor:Li,onOpen:()=>{Gd(!0),Be(Ve.openDetails)}}),c.jsx(V2,{recap:P,onDismiss:()=>I(null),onManage:rh,theme:x}),c.jsx(B2,{theme:x,visible:te,onDismiss:_x,onOpen:ih})]}),c.jsx(HT,{theme:x}),c.jsx(qT,{onOpenWaitlist:Ba,onLaunchAdvisor:Li,theme:x}),c.jsxs("section",{id:"legal",className:x==="dark"?"border-t border-slate-800/70 bg-slate-950/60 py-10":"border-t border-slate-200 bg-slate-100 py-10",children:[c.jsxs("div",{className:"container mx-auto max-w-4xl px-4 space-y-4",children:[c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Cloud sync is optional. Keep everything local, or sign in to mirror cards across devices."}),c.jsx(I2,{open:Yd==="disclaimer",onToggle:T=>Mi("disclaimer",T),theme:x}),c.jsx(D2,{open:Yd==="privacy-policy",onToggle:T=>Mi("privacy-policy",T),theme:x}),c.jsx("details",{className:`rounded-2xl border p-4 text-xs ${Tx}`,children:[c.jsx("summary",{className:"cursor-pointer font-semibold",children:"System diagnostics"}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[c.jsxs("span",{className:`inline-block rounded-full border px-3 py-1 text-xs ${Fa}`,children:["rules version: ",(t==null?void 0:t.version)||"loading"]}),c.jsxs("span",{className:`inline-block rounded-full border px-3 py-1 text-xs ${Fa}`,children:["market: ",e]}),c.jsxs("span",{className:`inline-block rounded-full border px-3 py-1 text-xs ${Fa}`,children:["user cards: ",u.length]})]})]}),c.jsx(L2,{onSelect:T=>Mi(T,!0),theme:x})]})]})]}),c.jsx("div",{className:"sr-only","aria-live":"polite",children:gt?`Selected ${gt.category}: ${Math.round(gt.bestRate*10)/10}% via ${gt.bestCard}`:"No selection"}),c.jsx(F2,{open:Oe,onClose:px,category:Mt,rulepack:t,market:e,available:f,cards:u,onAdd:d,theme:x}),c.jsx(z2,{open:b,onClose:fx,available:f,cards:u,onAdd:d,onRemove:h,promptCategory:L,onResetPrompt:()=>B("")}),c.jsx(W2,{open:k,onClose:()=>C(!1),available:f,cards:u,onAdd:d,onRemove:h})]})}_0(document.getElementById("root")).render(c.jsx(Zx.StrictMode,{children:c.jsx(K2,{})}));
